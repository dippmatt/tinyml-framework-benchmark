ARM GAS  /tmp/ccKcsWa4.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"aiValidation_TFLM.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text._mon_alloc_reset,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	_mon_alloc_reset:
  26              	.LFB140:
  27              		.file 1 "X-CUBE-AI/App/aiTestUtility.h"
   1:X-CUBE-AI/App/aiTestUtility.h **** /**
   2:X-CUBE-AI/App/aiTestUtility.h ****  ******************************************************************************
   3:X-CUBE-AI/App/aiTestUtility.h ****  * @file    aiTestUtility.h
   4:X-CUBE-AI/App/aiTestUtility.h ****  * @author  MCD/AIS Team
   5:X-CUBE-AI/App/aiTestUtility.h ****  * @brief   Utility functions for AI test application
   6:X-CUBE-AI/App/aiTestUtility.h ****  ******************************************************************************
   7:X-CUBE-AI/App/aiTestUtility.h ****  * @attention
   8:X-CUBE-AI/App/aiTestUtility.h ****  *
   9:X-CUBE-AI/App/aiTestUtility.h ****  * <h2><center>&copy; Copyright (c) 2019,2021 STMicroelectronics.
  10:X-CUBE-AI/App/aiTestUtility.h ****  * All rights reserved.</center></h2>
  11:X-CUBE-AI/App/aiTestUtility.h ****  *
  12:X-CUBE-AI/App/aiTestUtility.h ****  * This software is licensed under terms that can be found in the LICENSE file in
  13:X-CUBE-AI/App/aiTestUtility.h ****  * the root directory of this software component.
  14:X-CUBE-AI/App/aiTestUtility.h ****  * If no LICENSE file comes with this software, it is provided AS-IS.
  15:X-CUBE-AI/App/aiTestUtility.h ****  *
  16:X-CUBE-AI/App/aiTestUtility.h ****  ******************************************************************************
  17:X-CUBE-AI/App/aiTestUtility.h ****  */
  18:X-CUBE-AI/App/aiTestUtility.h **** 
  19:X-CUBE-AI/App/aiTestUtility.h **** #ifndef __AI_TEST_UTILITY_H__
  20:X-CUBE-AI/App/aiTestUtility.h **** #define __AI_TEST_UTILITY_H__
  21:X-CUBE-AI/App/aiTestUtility.h **** 
  22:X-CUBE-AI/App/aiTestUtility.h **** #include <stdint.h>
  23:X-CUBE-AI/App/aiTestUtility.h **** #include <stdbool.h>
  24:X-CUBE-AI/App/aiTestUtility.h **** #include <stdio.h>
  25:X-CUBE-AI/App/aiTestUtility.h **** #include <string.h>
  26:X-CUBE-AI/App/aiTestUtility.h **** 
  27:X-CUBE-AI/App/aiTestUtility.h **** #include "ai_device_adaptor.h"
  28:X-CUBE-AI/App/aiTestUtility.h **** 
  29:X-CUBE-AI/App/aiTestUtility.h **** #ifdef __cplusplus
  30:X-CUBE-AI/App/aiTestUtility.h **** extern "C" {
  31:X-CUBE-AI/App/aiTestUtility.h **** #endif
ARM GAS  /tmp/ccKcsWa4.s 			page 2


  32:X-CUBE-AI/App/aiTestUtility.h **** 
  33:X-CUBE-AI/App/aiTestUtility.h **** 
  34:X-CUBE-AI/App/aiTestUtility.h **** /* -----------------------------------------------------------------------------
  35:X-CUBE-AI/App/aiTestUtility.h ****  * Update STACK/HEAP monitor support
  36:X-CUBE-AI/App/aiTestUtility.h ****  * -----------------------------------------------------------------------------
  37:X-CUBE-AI/App/aiTestUtility.h ****  */
  38:X-CUBE-AI/App/aiTestUtility.h **** 
  39:X-CUBE-AI/App/aiTestUtility.h **** #if defined(_IS_AC6_COMPILER) && _IS_AC6_COMPILER
  40:X-CUBE-AI/App/aiTestUtility.h **** #define _APP_STACK_MONITOR_ 0   /* not yet supported */
  41:X-CUBE-AI/App/aiTestUtility.h **** #define _APP_HEAP_MONITOR_  0   /* not yet supported */
  42:X-CUBE-AI/App/aiTestUtility.h **** 
  43:X-CUBE-AI/App/aiTestUtility.h **** #elif defined(_IS_GCC_COMPILER) && _IS_GCC_COMPILER
  44:X-CUBE-AI/App/aiTestUtility.h **** #define _APP_STACK_MONITOR_ 1
  45:X-CUBE-AI/App/aiTestUtility.h **** #define _APP_HEAP_MONITOR_  1
  46:X-CUBE-AI/App/aiTestUtility.h **** 
  47:X-CUBE-AI/App/aiTestUtility.h **** #elif defined(_IS_IAR_COMPILER) && _IS_IAR_COMPILER
  48:X-CUBE-AI/App/aiTestUtility.h **** #define _APP_STACK_MONITOR_ 1
  49:X-CUBE-AI/App/aiTestUtility.h **** #define _APP_HEAP_MONITOR_  0   /* not yet supported */
  50:X-CUBE-AI/App/aiTestUtility.h **** 
  51:X-CUBE-AI/App/aiTestUtility.h **** #else
  52:X-CUBE-AI/App/aiTestUtility.h **** #define _APP_STACK_MONITOR_ 0   /* not yet supported */
  53:X-CUBE-AI/App/aiTestUtility.h **** #define _APP_HEAP_MONITOR_  0   /* not yet supported */
  54:X-CUBE-AI/App/aiTestUtility.h **** #endif
  55:X-CUBE-AI/App/aiTestUtility.h **** 
  56:X-CUBE-AI/App/aiTestUtility.h **** 
  57:X-CUBE-AI/App/aiTestUtility.h **** /* -----------------------------------------------------------------------------
  58:X-CUBE-AI/App/aiTestUtility.h ****  * Check/update clock for time-stamp definition
  59:X-CUBE-AI/App/aiTestUtility.h ****  * -----------------------------------------------------------------------------
  60:X-CUBE-AI/App/aiTestUtility.h ****  */
  61:X-CUBE-AI/App/aiTestUtility.h **** 
  62:X-CUBE-AI/App/aiTestUtility.h **** #if HAS_DWT_CTRL == 0 && HAS_PMU_CTRL == 0 && HAS_SYS_TICK == 0
  63:X-CUBE-AI/App/aiTestUtility.h **** #error DWT/PMU or SYS_TICK should be defined.
  64:X-CUBE-AI/App/aiTestUtility.h **** #endif
  65:X-CUBE-AI/App/aiTestUtility.h **** 
  66:X-CUBE-AI/App/aiTestUtility.h **** #if HAS_SYS_TICK == 0
  67:X-CUBE-AI/App/aiTestUtility.h **** /* Usage of the CORE_CLOCK ONLY is forced */
  68:X-CUBE-AI/App/aiTestUtility.h **** #undef USE_CORE_CLOCK_ONLY
  69:X-CUBE-AI/App/aiTestUtility.h **** #undef USE_SYSTICK_ONLY
  70:X-CUBE-AI/App/aiTestUtility.h **** #define USE_CORE_CLOCK_ONLY 1
  71:X-CUBE-AI/App/aiTestUtility.h **** #define USE_SYSTICK_ONLY 0
  72:X-CUBE-AI/App/aiTestUtility.h **** // #warning Force USE_CORE_ONLY, SYS_TICK is not available.
  73:X-CUBE-AI/App/aiTestUtility.h **** #endif
  74:X-CUBE-AI/App/aiTestUtility.h **** 
  75:X-CUBE-AI/App/aiTestUtility.h **** #if HAS_DWT_CTRL == 0 && HAS_PMU_CTRL == 0
  76:X-CUBE-AI/App/aiTestUtility.h **** /* Usage of the SYSTICK ONLY is forced */
  77:X-CUBE-AI/App/aiTestUtility.h **** #undef USE_CORE_CLOCK_ONLY
  78:X-CUBE-AI/App/aiTestUtility.h **** #undef USE_SYSTICK_ONLY
  79:X-CUBE-AI/App/aiTestUtility.h **** #define USE_CORE_CLOCK_ONLY 0
  80:X-CUBE-AI/App/aiTestUtility.h **** #define USE_SYSTICK_ONLY 1
  81:X-CUBE-AI/App/aiTestUtility.h **** #endif
  82:X-CUBE-AI/App/aiTestUtility.h **** 
  83:X-CUBE-AI/App/aiTestUtility.h **** #if !defined(USE_SYSTICK_ONLY)
  84:X-CUBE-AI/App/aiTestUtility.h **** #define USE_SYSTICK_ONLY 0
  85:X-CUBE-AI/App/aiTestUtility.h **** #endif
  86:X-CUBE-AI/App/aiTestUtility.h **** 
  87:X-CUBE-AI/App/aiTestUtility.h **** #if !defined(USE_CORE_CLOCK_ONLY)
  88:X-CUBE-AI/App/aiTestUtility.h **** #define USE_CORE_CLOCK_ONLY 0
ARM GAS  /tmp/ccKcsWa4.s 			page 3


  89:X-CUBE-AI/App/aiTestUtility.h **** #endif
  90:X-CUBE-AI/App/aiTestUtility.h **** 
  91:X-CUBE-AI/App/aiTestUtility.h **** #if USE_SYSTICK_ONLY != 0 && USE_SYSTICK_ONLY != 1
  92:X-CUBE-AI/App/aiTestUtility.h **** #error USE_SYSTICK_ONLY should be equal to 0 or 1
  93:X-CUBE-AI/App/aiTestUtility.h **** #endif
  94:X-CUBE-AI/App/aiTestUtility.h **** 
  95:X-CUBE-AI/App/aiTestUtility.h **** #if USE_CORE_CLOCK_ONLY != 0 && USE_CORE_CLOCK_ONLY != 1
  96:X-CUBE-AI/App/aiTestUtility.h **** #error USE_CORE_CLOCK_ONLY should be equal to 0 or 1
  97:X-CUBE-AI/App/aiTestUtility.h **** #endif
  98:X-CUBE-AI/App/aiTestUtility.h **** 
  99:X-CUBE-AI/App/aiTestUtility.h **** #if HAS_SYS_TICK == 0 && USE_SYSTICK_ONLY == 1
 100:X-CUBE-AI/App/aiTestUtility.h **** #error USE_SYSTICK_ONLY can be not used (no SYS_TICK available)
 101:X-CUBE-AI/App/aiTestUtility.h **** #endif
 102:X-CUBE-AI/App/aiTestUtility.h **** 
 103:X-CUBE-AI/App/aiTestUtility.h **** #if HAS_DWT_CTRL == 0 && HAS_PMU_CTRL == 0 && USE_CORE_CLOCK_ONLY == 1
 104:X-CUBE-AI/App/aiTestUtility.h **** #error USE_CORE_CLOCK_ONLY can be not used (no CORE_CLOCK available)
 105:X-CUBE-AI/App/aiTestUtility.h **** #endif
 106:X-CUBE-AI/App/aiTestUtility.h **** 
 107:X-CUBE-AI/App/aiTestUtility.h **** /* -----------------------------------------------------------------------------
 108:X-CUBE-AI/App/aiTestUtility.h ****  * HEAP monitor functions
 109:X-CUBE-AI/App/aiTestUtility.h ****  * -----------------------------------------------------------------------------
 110:X-CUBE-AI/App/aiTestUtility.h ****  */
 111:X-CUBE-AI/App/aiTestUtility.h **** 
 112:X-CUBE-AI/App/aiTestUtility.h **** #define _IO_MALLOC_TRACK_MODE       0  /* allows to track the allocated/released @/s */
 113:X-CUBE-AI/App/aiTestUtility.h **** #define _IO_MALLOC_TRACK_DEPTH_SIZE (16)
 114:X-CUBE-AI/App/aiTestUtility.h **** 
 115:X-CUBE-AI/App/aiTestUtility.h **** struct io_malloc {
 116:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t cfg;           /* configuration and state */
 117:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t alloc;         /* accumulated size of allocated memory */
 118:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t free;          /* accumulated size of freed memory */
 119:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t alloc_req;     /* number of requested alloc */
 120:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t free_req;      /* number of requested free */
 121:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t max;           /* maximum allocated memory */
 122:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t used;          /* current allocated memory */
 123:X-CUBE-AI/App/aiTestUtility.h **** #if _IO_MALLOC_TRACK_MODE == 1
 124:X-CUBE-AI/App/aiTestUtility.h ****   void* a_ptr[_IO_MALLOC_TRACK_DEPTH_SIZE];
 125:X-CUBE-AI/App/aiTestUtility.h ****   size_t a_s[_IO_MALLOC_TRACK_DEPTH_SIZE];
 126:X-CUBE-AI/App/aiTestUtility.h ****   int a_idx;
 127:X-CUBE-AI/App/aiTestUtility.h ****   void *f_ptr[_IO_MALLOC_TRACK_DEPTH_SIZE];
 128:X-CUBE-AI/App/aiTestUtility.h ****   size_t f_s[_IO_MALLOC_TRACK_DEPTH_SIZE];
 129:X-CUBE-AI/App/aiTestUtility.h ****   int f_idx;
 130:X-CUBE-AI/App/aiTestUtility.h **** #endif
 131:X-CUBE-AI/App/aiTestUtility.h **** };
 132:X-CUBE-AI/App/aiTestUtility.h **** 
 133:X-CUBE-AI/App/aiTestUtility.h **** extern struct io_malloc io_malloc;
 134:X-CUBE-AI/App/aiTestUtility.h **** 
 135:X-CUBE-AI/App/aiTestUtility.h **** 
 136:X-CUBE-AI/App/aiTestUtility.h **** #if defined(_IS_GCC_COMPILER) && _IS_GCC_COMPILER
 137:X-CUBE-AI/App/aiTestUtility.h **** 
 138:X-CUBE-AI/App/aiTestUtility.h **** #include <stdlib.h>
 139:X-CUBE-AI/App/aiTestUtility.h **** 
 140:X-CUBE-AI/App/aiTestUtility.h **** #pragma GCC push_options
 141:X-CUBE-AI/App/aiTestUtility.h **** #pragma GCC optimize ("O0")
 142:X-CUBE-AI/App/aiTestUtility.h **** static inline void _mon_alloc_reset(void) {
  28              		.loc 1 142 43 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccKcsWa4.s 			page 4


  31              		@ frame_needed = 1, uses_anonymous_args = 0
  32 0000 80B5     		push	{r7, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 7, -8
  36              		.cfi_offset 14, -4
  37 0002 00AF     		add	r7, sp, #0
  38              	.LCFI1:
  39              		.cfi_def_cfa_register 7
 143:X-CUBE-AI/App/aiTestUtility.h ****     memset((void *)&io_malloc, 0, sizeof(struct io_malloc));
  40              		.loc 1 143 5 view .LVU1
  41 0004 1C22     		movs	r2, #28
  42 0006 0021     		movs	r1, #0
  43 0008 0548     		ldr	r0, .L2
  44 000a FFF7FEFF 		bl	memset
  45              	.LVL0:
 144:X-CUBE-AI/App/aiTestUtility.h ****     /* force a call of wrap functions */\
 145:X-CUBE-AI/App/aiTestUtility.h ****     free(malloc(10));
  46              		.loc 1 145 5 view .LVU2
  47 000e 0A20     		movs	r0, #10
  48 0010 FFF7FEFF 		bl	malloc
  49              	.LVL1:
  50 0014 0346     		mov	r3, r0
  51 0016 1846     		mov	r0, r3
  52 0018 FFF7FEFF 		bl	free
  53              	.LVL2:
 146:X-CUBE-AI/App/aiTestUtility.h **** }
  54              		.loc 1 146 1 is_stmt 0 view .LVU3
  55 001c 00BF     		nop
  56 001e 80BD     		pop	{r7, pc}
  57              	.L3:
  58              		.align	2
  59              	.L2:
  60 0020 00000000 		.word	io_malloc
  61              		.cfi_endproc
  62              	.LFE140:
  64              		.global	net_exec_ctx
  65              		.section	.text._prepare_tensor_infos,"ax",%progbits
  66              		.align	1
  67              		.syntax unified
  68              		.thumb
  69              		.thumb_func
  70              		.fpu fpv4-sp-d16
  72              	_prepare_tensor_infos:
  73              	.LVL3:
  74              	.LFB146:
  75              		.file 2 "X-CUBE-AI/App/aiValidation_TFLM.c"
   1:X-CUBE-AI/App/aiValidation_TFLM.c **** /**
   2:X-CUBE-AI/App/aiValidation_TFLM.c ****  ******************************************************************************
   3:X-CUBE-AI/App/aiValidation_TFLM.c ****  * @file    aiValidation_TFLM.c
   4:X-CUBE-AI/App/aiValidation_TFLM.c ****  * @author  MCD/AIS Team
   5:X-CUBE-AI/App/aiValidation_TFLM.c ****  * @brief   AI Validation application (entry points) - TFLM runtime
   6:X-CUBE-AI/App/aiValidation_TFLM.c ****  ******************************************************************************
   7:X-CUBE-AI/App/aiValidation_TFLM.c ****  * @attention
   8:X-CUBE-AI/App/aiValidation_TFLM.c ****  *
   9:X-CUBE-AI/App/aiValidation_TFLM.c ****  * <h2><center>&copy; Copyright (c) 2019,2021 STMicroelectronics.
  10:X-CUBE-AI/App/aiValidation_TFLM.c ****  * All rights reserved.</center></h2>
ARM GAS  /tmp/ccKcsWa4.s 			page 5


  11:X-CUBE-AI/App/aiValidation_TFLM.c ****  *
  12:X-CUBE-AI/App/aiValidation_TFLM.c ****  * This software is licensed under terms that can be found in the LICENSE file in
  13:X-CUBE-AI/App/aiValidation_TFLM.c ****  * the root directory of this software component.
  14:X-CUBE-AI/App/aiValidation_TFLM.c ****  * If no LICENSE file comes with this software, it is provided AS-IS.
  15:X-CUBE-AI/App/aiValidation_TFLM.c ****  *
  16:X-CUBE-AI/App/aiValidation_TFLM.c ****  ******************************************************************************
  17:X-CUBE-AI/App/aiValidation_TFLM.c ****  */
  18:X-CUBE-AI/App/aiValidation_TFLM.c **** 
  19:X-CUBE-AI/App/aiValidation_TFLM.c **** /* Description
  20:X-CUBE-AI/App/aiValidation_TFLM.c ****  *
  21:X-CUBE-AI/App/aiValidation_TFLM.c ****  * - Entry points for the AI validation, TFLM runtime
  22:X-CUBE-AI/App/aiValidation_TFLM.c ****  *
  23:X-CUBE-AI/App/aiValidation_TFLM.c ****  * History:
  24:X-CUBE-AI/App/aiValidation_TFLM.c ****  *  - v1.0 - Initial version. Use the X-CUBE-AI protocol vX.X
  25:X-CUBE-AI/App/aiValidation_TFLM.c ****  *           Emulate X-CUBE-AI interface
  26:X-CUBE-AI/App/aiValidation_TFLM.c ****  *  - v1.1 - minor - let irq enabled if USB CDC is used
  27:X-CUBE-AI/App/aiValidation_TFLM.c ****  *  - v2.0 - align code for TFLM 2.5.0
  28:X-CUBE-AI/App/aiValidation_TFLM.c ****  *           add observer support to upload time by layer with or w/o data
  29:X-CUBE-AI/App/aiValidation_TFLM.c ****  *  - v2.1 - Use the fix cycle count overflow support
  30:X-CUBE-AI/App/aiValidation_TFLM.c ****  *  - v2.2 - map TFLM log error message on aiPbMgrSendLog service
  31:X-CUBE-AI/App/aiValidation_TFLM.c ****  *  - v2.3 - Add support to use SYSTICK only (remove direct call to DWT fcts)
  32:X-CUBE-AI/App/aiValidation_TFLM.c ****  *  - v3.0 - align code with TFLM from tflite-micro repo and new ai_buffer definition
  33:X-CUBE-AI/App/aiValidation_TFLM.c ****  *           86c8d52 - Fix erroneous write from EXPAND_DIMS to an array that can be in read-only re
  34:X-CUBE-AI/App/aiValidation_TFLM.c ****  *           USE_OBSERVER can be not used with the current TFLM runtime to dump the intermediate te
  35:X-CUBE-AI/App/aiValidation_TFLM.c ****  *           Only IO_ONLY mode can be used.
  36:X-CUBE-AI/App/aiValidation_TFLM.c ****  *  - v3.1 - Add support for IO tensor with shape > 4 (up to 6)
  37:X-CUBE-AI/App/aiValidation_TFLM.c ****  *  - v4.0 - migration to PB msg interface 3.0
  38:X-CUBE-AI/App/aiValidation_TFLM.c ****  *           align code with ai_stm32_adpaptor.h file (remove direct call of HAL_xx fcts)
  39:X-CUBE-AI/App/aiValidation_TFLM.c ****  */
  40:X-CUBE-AI/App/aiValidation_TFLM.c **** 
  41:X-CUBE-AI/App/aiValidation_TFLM.c **** /* System headers */
  42:X-CUBE-AI/App/aiValidation_TFLM.c **** #include <stdint.h>
  43:X-CUBE-AI/App/aiValidation_TFLM.c **** #include <stdlib.h>
  44:X-CUBE-AI/App/aiValidation_TFLM.c **** #include <stdio.h>
  45:X-CUBE-AI/App/aiValidation_TFLM.c **** #include <inttypes.h>
  46:X-CUBE-AI/App/aiValidation_TFLM.c **** #include <string.h>
  47:X-CUBE-AI/App/aiValidation_TFLM.c **** #include <stdarg.h>
  48:X-CUBE-AI/App/aiValidation_TFLM.c **** 
  49:X-CUBE-AI/App/aiValidation_TFLM.c **** 
  50:X-CUBE-AI/App/aiValidation_TFLM.c **** #define USE_CORE_CLOCK_ONLY  0 /* 1: remove usage of the HAL_GetTick() to evaluate the number of CP
  51:X-CUBE-AI/App/aiValidation_TFLM.c ****                                 *    DWT IP is used. HAL_Tick() is requested to avoid an overflow w
  52:X-CUBE-AI/App/aiValidation_TFLM.c ****                                 *    (32b register) - USE_SYSTICK_ONLY should be set to 0.
  53:X-CUBE-AI/App/aiValidation_TFLM.c ****                                 */
  54:X-CUBE-AI/App/aiValidation_TFLM.c **** #define USE_SYSTICK_ONLY     0 /* 1: use only the SysTick to evaluate the time-stamps (for Cortex-m
  55:X-CUBE-AI/App/aiValidation_TFLM.c **** 
  56:X-CUBE-AI/App/aiValidation_TFLM.c **** /* APP Header files */
  57:X-CUBE-AI/App/aiValidation_TFLM.c **** #include <aiValidation.h>
  58:X-CUBE-AI/App/aiValidation_TFLM.c **** #include <aiTestUtility.h>
  59:X-CUBE-AI/App/aiValidation_TFLM.c **** #include <aiTestHelper.h>
  60:X-CUBE-AI/App/aiValidation_TFLM.c **** #include <aiPbMgr.h>
  61:X-CUBE-AI/App/aiValidation_TFLM.c **** 
  62:X-CUBE-AI/App/aiValidation_TFLM.c **** /* AI x-cube-ai files */
  63:X-CUBE-AI/App/aiValidation_TFLM.c **** #include <app_x-cube-ai.h>
  64:X-CUBE-AI/App/aiValidation_TFLM.c **** 
  65:X-CUBE-AI/App/aiValidation_TFLM.c **** 
  66:X-CUBE-AI/App/aiValidation_TFLM.c **** /* TFLM C header files */
  67:X-CUBE-AI/App/aiValidation_TFLM.c **** #include <tflm_c.h>
ARM GAS  /tmp/ccKcsWa4.s 			page 6


  68:X-CUBE-AI/App/aiValidation_TFLM.c **** 
  69:X-CUBE-AI/App/aiValidation_TFLM.c **** #include "network_tflite_data.h"
  70:X-CUBE-AI/App/aiValidation_TFLM.c **** 
  71:X-CUBE-AI/App/aiValidation_TFLM.c **** 
  72:X-CUBE-AI/App/aiValidation_TFLM.c **** #define _AI_RUNTIME_ID EnumAiRuntime_AI_RT_TFLM
  73:X-CUBE-AI/App/aiValidation_TFLM.c **** 
  74:X-CUBE-AI/App/aiValidation_TFLM.c **** #define _CAP (void *)(_AI_RUNTIME_ID << 16)
  75:X-CUBE-AI/App/aiValidation_TFLM.c **** 
  76:X-CUBE-AI/App/aiValidation_TFLM.c **** 
  77:X-CUBE-AI/App/aiValidation_TFLM.c **** /* -----------------------------------------------------------------------------
  78:X-CUBE-AI/App/aiValidation_TFLM.c ****  * TEST-related definitions
  79:X-CUBE-AI/App/aiValidation_TFLM.c ****  * -----------------------------------------------------------------------------
  80:X-CUBE-AI/App/aiValidation_TFLM.c ****  */
  81:X-CUBE-AI/App/aiValidation_TFLM.c **** 
  82:X-CUBE-AI/App/aiValidation_TFLM.c **** #define _APP_VERSION_MAJOR_  (0x04)
  83:X-CUBE-AI/App/aiValidation_TFLM.c **** #define _APP_VERSION_MINOR_  (0x00)
  84:X-CUBE-AI/App/aiValidation_TFLM.c **** #define _APP_VERSION_        ((_APP_VERSION_MAJOR_ << 8) | _APP_VERSION_MINOR_)
  85:X-CUBE-AI/App/aiValidation_TFLM.c **** 
  86:X-CUBE-AI/App/aiValidation_TFLM.c **** #define _APP_NAME_           "AI Validation TFLM"
  87:X-CUBE-AI/App/aiValidation_TFLM.c **** 
  88:X-CUBE-AI/App/aiValidation_TFLM.c **** /*
  89:X-CUBE-AI/App/aiValidation_TFLM.c ****  * Execution context - Only one instance is supported
  90:X-CUBE-AI/App/aiValidation_TFLM.c ****  */
  91:X-CUBE-AI/App/aiValidation_TFLM.c **** 
  92:X-CUBE-AI/App/aiValidation_TFLM.c **** struct tflm_context {
  93:X-CUBE-AI/App/aiValidation_TFLM.c ****   char *name;
  94:X-CUBE-AI/App/aiValidation_TFLM.c ****   uint32_t hdl;
  95:X-CUBE-AI/App/aiValidation_TFLM.c ****   uint32_t n_inputs;
  96:X-CUBE-AI/App/aiValidation_TFLM.c ****   uint32_t n_outputs;
  97:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct tflm_c_tensor_info *inputs;
  98:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct tflm_c_tensor_info *outputs;
  99:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct tflm_c_tensor_info  arena;
 100:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct tflm_c_tensor_info  tflite;
 101:X-CUBE-AI/App/aiValidation_TFLM.c ****   int error;
 102:X-CUBE-AI/App/aiValidation_TFLM.c ****   bool debug;
 103:X-CUBE-AI/App/aiValidation_TFLM.c **** } net_exec_ctx[1] = {0};
 104:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 105:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 106:X-CUBE-AI/App/aiValidation_TFLM.c **** #if defined(TFLM_NETWORK_NAME)
 107:X-CUBE-AI/App/aiValidation_TFLM.c **** static char* _model_name = TFLM_NETWORK_NAME;
 108:X-CUBE-AI/App/aiValidation_TFLM.c **** #else
 109:X-CUBE-AI/App/aiValidation_TFLM.c **** static char* _model_name = "network";
 110:X-CUBE-AI/App/aiValidation_TFLM.c **** #endif
 111:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 112:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 113:X-CUBE-AI/App/aiValidation_TFLM.c **** /* -----------------------------------------------------------------------------
 114:X-CUBE-AI/App/aiValidation_TFLM.c ****  * Helper functions
 115:X-CUBE-AI/App/aiValidation_TFLM.c ****  * -----------------------------------------------------------------------------
 116:X-CUBE-AI/App/aiValidation_TFLM.c ****  */
 117:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 118:X-CUBE-AI/App/aiValidation_TFLM.c **** static void _prepare_tensor_infos(struct tflm_context *ctx)
 119:X-CUBE-AI/App/aiValidation_TFLM.c **** {
  76              		.loc 2 119 1 is_stmt 1 view -0
  77              		.cfi_startproc
  78              		@ args = 0, pretend = 0, frame = 0
  79              		@ frame_needed = 0, uses_anonymous_args = 0
 120:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (!ctx || !ctx->hdl)
ARM GAS  /tmp/ccKcsWa4.s 			page 7


  80              		.loc 2 120 3 view .LVU5
  81              		.loc 2 120 6 is_stmt 0 view .LVU6
  82 0000 0028     		cmp	r0, #0
  83 0002 5ED0     		beq	.L12
 119:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (!ctx || !ctx->hdl)
  84              		.loc 2 119 1 discriminator 1 view .LVU7
  85 0004 70B5     		push	{r4, r5, r6, lr}
  86              	.LCFI2:
  87              		.cfi_def_cfa_offset 16
  88              		.cfi_offset 4, -16
  89              		.cfi_offset 5, -12
  90              		.cfi_offset 6, -8
  91              		.cfi_offset 14, -4
  92 0006 0446     		mov	r4, r0
  93              		.loc 2 120 19 discriminator 1 view .LVU8
  94 0008 4068     		ldr	r0, [r0, #4]
  95              	.LVL4:
  96              		.loc 2 120 12 discriminator 1 view .LVU9
  97 000a 00B9     		cbnz	r0, .L15
  98              	.L4:
 121:X-CUBE-AI/App/aiValidation_TFLM.c ****     return;
 122:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 123:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->n_inputs = tflm_c_inputs_size(ctx->hdl);
 124:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->n_outputs = tflm_c_outputs_size(ctx->hdl);
 125:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 126:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->inputs = malloc(ctx->n_inputs * sizeof(struct tflm_c_tensor_info));
 127:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (!ctx->inputs)
 128:X-CUBE-AI/App/aiValidation_TFLM.c ****     return;
 129:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->outputs = malloc(ctx->n_outputs * sizeof(struct tflm_c_tensor_info));
 130:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (!ctx->outputs) {
 131:X-CUBE-AI/App/aiValidation_TFLM.c ****     free(ctx->inputs);
 132:X-CUBE-AI/App/aiValidation_TFLM.c ****     return;
 133:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 134:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 135:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int idx=0; idx<ctx->n_inputs; idx++) {
 136:X-CUBE-AI/App/aiValidation_TFLM.c ****     tflm_c_input(ctx->hdl, idx, &ctx->inputs[idx]);
 137:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 138:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 139:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int idx=0; idx<ctx->n_outputs; idx++) {
 140:X-CUBE-AI/App/aiValidation_TFLM.c ****     tflm_c_output(ctx->hdl, idx, &ctx->outputs[idx]);
 141:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 142:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 143:X-CUBE-AI/App/aiValidation_TFLM.c ****   memset(&ctx->arena, 0, sizeof(struct tflm_c_tensor_info));
 144:X-CUBE-AI/App/aiValidation_TFLM.c ****   memset(&ctx->tflite, 0, sizeof(struct tflm_c_tensor_info));
 145:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->arena.bytes = (size_t)tflm_c_arena_used_bytes(ctx->hdl);
 146:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->arena.type = kTfLiteUInt8;
 147:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->arena.shape.size = 1;
 148:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->arena.shape.data[0] = ctx->arena.bytes;
 149:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->tflite.bytes = (size_t)g_tflm_network_model_data_len;
 150:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->tflite.type = kTfLiteUInt8;
 151:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->tflite.shape.size = 1;
 152:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->tflite.shape.data[0] = ctx->tflite.bytes;
 153:X-CUBE-AI/App/aiValidation_TFLM.c **** }
  99              		.loc 2 153 1 view .LVU10
 100 000c 70BD     		pop	{r4, r5, r6, pc}
 101              	.LVL5:
 102              	.L15:
ARM GAS  /tmp/ccKcsWa4.s 			page 8


 123:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->n_outputs = tflm_c_outputs_size(ctx->hdl);
 103              		.loc 2 123 3 is_stmt 1 view .LVU11
 123:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->n_outputs = tflm_c_outputs_size(ctx->hdl);
 104              		.loc 2 123 19 is_stmt 0 view .LVU12
 105 000e FFF7FEFF 		bl	tflm_c_inputs_size
 106              	.LVL6:
 123:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->n_outputs = tflm_c_outputs_size(ctx->hdl);
 107              		.loc 2 123 17 view .LVU13
 108 0012 A060     		str	r0, [r4, #8]
 124:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 109              		.loc 2 124 3 is_stmt 1 view .LVU14
 124:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 110              		.loc 2 124 20 is_stmt 0 view .LVU15
 111 0014 6068     		ldr	r0, [r4, #4]
 112 0016 FFF7FEFF 		bl	tflm_c_outputs_size
 113              	.LVL7:
 114 001a 0646     		mov	r6, r0
 124:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 115              		.loc 2 124 18 view .LVU16
 116 001c E060     		str	r0, [r4, #12]
 126:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (!ctx->inputs)
 117              		.loc 2 126 3 is_stmt 1 view .LVU17
 126:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (!ctx->inputs)
 118              		.loc 2 126 27 is_stmt 0 view .LVU18
 119 001e A368     		ldr	r3, [r4, #8]
 126:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (!ctx->inputs)
 120              		.loc 2 126 17 view .LVU19
 121 0020 4C20     		movs	r0, #76
 122 0022 00FB03F0 		mul	r0, r0, r3
 123 0026 FFF7FEFF 		bl	malloc
 124              	.LVL8:
 125 002a 0546     		mov	r5, r0
 126:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (!ctx->inputs)
 126              		.loc 2 126 15 view .LVU20
 127 002c 2061     		str	r0, [r4, #16]
 127:X-CUBE-AI/App/aiValidation_TFLM.c ****     return;
 128              		.loc 2 127 3 is_stmt 1 view .LVU21
 127:X-CUBE-AI/App/aiValidation_TFLM.c ****     return;
 129              		.loc 2 127 6 is_stmt 0 view .LVU22
 130 002e 0028     		cmp	r0, #0
 131 0030 ECD0     		beq	.L4
 129:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (!ctx->outputs) {
 132              		.loc 2 129 3 is_stmt 1 view .LVU23
 129:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (!ctx->outputs) {
 133              		.loc 2 129 18 is_stmt 0 view .LVU24
 134 0032 4C20     		movs	r0, #76
 135 0034 00FB06F0 		mul	r0, r0, r6
 136 0038 FFF7FEFF 		bl	malloc
 137              	.LVL9:
 129:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (!ctx->outputs) {
 138              		.loc 2 129 16 view .LVU25
 139 003c 6061     		str	r0, [r4, #20]
 130:X-CUBE-AI/App/aiValidation_TFLM.c ****     free(ctx->inputs);
 140              		.loc 2 130 3 is_stmt 1 view .LVU26
 130:X-CUBE-AI/App/aiValidation_TFLM.c ****     free(ctx->inputs);
 141              		.loc 2 130 6 is_stmt 0 view .LVU27
 142 003e 08B1     		cbz	r0, .L16
ARM GAS  /tmp/ccKcsWa4.s 			page 9


 143              	.LBB8:
 135:X-CUBE-AI/App/aiValidation_TFLM.c ****     tflm_c_input(ctx->hdl, idx, &ctx->inputs[idx]);
 144              		.loc 2 135 12 view .LVU28
 145 0040 0025     		movs	r5, #0
 146 0042 0CE0     		b	.L6
 147              	.L16:
 148              	.LBE8:
 131:X-CUBE-AI/App/aiValidation_TFLM.c ****     return;
 149              		.loc 2 131 5 is_stmt 1 view .LVU29
 150 0044 2846     		mov	r0, r5
 151 0046 FFF7FEFF 		bl	free
 152              	.LVL10:
 132:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 153              		.loc 2 132 5 view .LVU30
 154 004a DFE7     		b	.L4
 155              	.LVL11:
 156              	.L7:
 157              	.LBB9:
 136:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 158              		.loc 2 136 5 discriminator 3 view .LVU31
 136:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 159              		.loc 2 136 37 is_stmt 0 discriminator 3 view .LVU32
 160 004c 2369     		ldr	r3, [r4, #16]
 136:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 161              		.loc 2 136 5 discriminator 3 view .LVU33
 162 004e 4C22     		movs	r2, #76
 163 0050 02FB0532 		mla	r2, r2, r5, r3
 164 0054 2946     		mov	r1, r5
 165 0056 6068     		ldr	r0, [r4, #4]
 166 0058 FFF7FEFF 		bl	tflm_c_input
 167              	.LVL12:
 135:X-CUBE-AI/App/aiValidation_TFLM.c ****     tflm_c_input(ctx->hdl, idx, &ctx->inputs[idx]);
 168              		.loc 2 135 38 is_stmt 1 discriminator 3 view .LVU34
 135:X-CUBE-AI/App/aiValidation_TFLM.c ****     tflm_c_input(ctx->hdl, idx, &ctx->inputs[idx]);
 169              		.loc 2 135 41 is_stmt 0 discriminator 3 view .LVU35
 170 005c 0135     		adds	r5, r5, #1
 171              	.LVL13:
 172              	.L6:
 135:X-CUBE-AI/App/aiValidation_TFLM.c ****     tflm_c_input(ctx->hdl, idx, &ctx->inputs[idx]);
 173              		.loc 2 135 19 is_stmt 1 discriminator 1 view .LVU36
 135:X-CUBE-AI/App/aiValidation_TFLM.c ****     tflm_c_input(ctx->hdl, idx, &ctx->inputs[idx]);
 174              		.loc 2 135 26 is_stmt 0 discriminator 1 view .LVU37
 175 005e A368     		ldr	r3, [r4, #8]
 135:X-CUBE-AI/App/aiValidation_TFLM.c ****     tflm_c_input(ctx->hdl, idx, &ctx->inputs[idx]);
 176              		.loc 2 135 3 discriminator 1 view .LVU38
 177 0060 AB42     		cmp	r3, r5
 178 0062 F3D8     		bhi	.L7
 179              	.LBE9:
 180              	.LBB10:
 139:X-CUBE-AI/App/aiValidation_TFLM.c ****     tflm_c_output(ctx->hdl, idx, &ctx->outputs[idx]);
 181              		.loc 2 139 12 view .LVU39
 182 0064 0025     		movs	r5, #0
 183              	.LVL14:
 139:X-CUBE-AI/App/aiValidation_TFLM.c ****     tflm_c_output(ctx->hdl, idx, &ctx->outputs[idx]);
 184              		.loc 2 139 12 view .LVU40
 185 0066 08E0     		b	.L8
 186              	.LVL15:
ARM GAS  /tmp/ccKcsWa4.s 			page 10


 187              	.L9:
 140:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 188              		.loc 2 140 5 is_stmt 1 discriminator 3 view .LVU41
 140:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 189              		.loc 2 140 38 is_stmt 0 discriminator 3 view .LVU42
 190 0068 6369     		ldr	r3, [r4, #20]
 140:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 191              		.loc 2 140 5 discriminator 3 view .LVU43
 192 006a 4C22     		movs	r2, #76
 193 006c 02FB0532 		mla	r2, r2, r5, r3
 194 0070 2946     		mov	r1, r5
 195 0072 6068     		ldr	r0, [r4, #4]
 196 0074 FFF7FEFF 		bl	tflm_c_output
 197              	.LVL16:
 139:X-CUBE-AI/App/aiValidation_TFLM.c ****     tflm_c_output(ctx->hdl, idx, &ctx->outputs[idx]);
 198              		.loc 2 139 39 is_stmt 1 discriminator 3 view .LVU44
 139:X-CUBE-AI/App/aiValidation_TFLM.c ****     tflm_c_output(ctx->hdl, idx, &ctx->outputs[idx]);
 199              		.loc 2 139 42 is_stmt 0 discriminator 3 view .LVU45
 200 0078 0135     		adds	r5, r5, #1
 201              	.LVL17:
 202              	.L8:
 139:X-CUBE-AI/App/aiValidation_TFLM.c ****     tflm_c_output(ctx->hdl, idx, &ctx->outputs[idx]);
 203              		.loc 2 139 19 is_stmt 1 discriminator 1 view .LVU46
 139:X-CUBE-AI/App/aiValidation_TFLM.c ****     tflm_c_output(ctx->hdl, idx, &ctx->outputs[idx]);
 204              		.loc 2 139 26 is_stmt 0 discriminator 1 view .LVU47
 205 007a E368     		ldr	r3, [r4, #12]
 139:X-CUBE-AI/App/aiValidation_TFLM.c ****     tflm_c_output(ctx->hdl, idx, &ctx->outputs[idx]);
 206              		.loc 2 139 3 discriminator 1 view .LVU48
 207 007c AB42     		cmp	r3, r5
 208 007e F3D8     		bhi	.L9
 209              	.LBE10:
 143:X-CUBE-AI/App/aiValidation_TFLM.c ****   memset(&ctx->tflite, 0, sizeof(struct tflm_c_tensor_info));
 210              		.loc 2 143 3 is_stmt 1 view .LVU49
 211 0080 4C25     		movs	r5, #76
 212              	.LVL18:
 143:X-CUBE-AI/App/aiValidation_TFLM.c ****   memset(&ctx->tflite, 0, sizeof(struct tflm_c_tensor_info));
 213              		.loc 2 143 3 is_stmt 0 view .LVU50
 214 0082 2A46     		mov	r2, r5
 215 0084 0021     		movs	r1, #0
 216 0086 04F11800 		add	r0, r4, #24
 217 008a FFF7FEFF 		bl	memset
 218              	.LVL19:
 144:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->arena.bytes = (size_t)tflm_c_arena_used_bytes(ctx->hdl);
 219              		.loc 2 144 3 is_stmt 1 view .LVU51
 220 008e 2A46     		mov	r2, r5
 221 0090 0021     		movs	r1, #0
 222 0092 04F16400 		add	r0, r4, #100
 223 0096 FFF7FEFF 		bl	memset
 224              	.LVL20:
 145:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->arena.type = kTfLiteUInt8;
 225              		.loc 2 145 3 view .LVU52
 145:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->arena.type = kTfLiteUInt8;
 226              		.loc 2 145 30 is_stmt 0 view .LVU53
 227 009a 6068     		ldr	r0, [r4, #4]
 228 009c FFF7FEFF 		bl	tflm_c_arena_used_bytes
 229              	.LVL21:
 145:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->arena.type = kTfLiteUInt8;
ARM GAS  /tmp/ccKcsWa4.s 			page 11


 230              		.loc 2 145 20 view .LVU54
 231 00a0 A063     		str	r0, [r4, #56]
 146:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->arena.shape.size = 1;
 232              		.loc 2 146 3 is_stmt 1 view .LVU55
 146:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->arena.shape.size = 1;
 233              		.loc 2 146 19 is_stmt 0 view .LVU56
 234 00a2 0321     		movs	r1, #3
 235 00a4 2176     		strb	r1, [r4, #24]
 147:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->arena.shape.data[0] = ctx->arena.bytes;
 236              		.loc 2 147 3 is_stmt 1 view .LVU57
 147:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->arena.shape.data[0] = ctx->arena.bytes;
 237              		.loc 2 147 25 is_stmt 0 view .LVU58
 238 00a6 0122     		movs	r2, #1
 239 00a8 A264     		str	r2, [r4, #72]
 148:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->tflite.bytes = (size_t)g_tflm_network_model_data_len;
 240              		.loc 2 148 3 is_stmt 1 view .LVU59
 148:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->tflite.bytes = (size_t)g_tflm_network_model_data_len;
 241              		.loc 2 148 28 is_stmt 0 view .LVU60
 242 00aa E064     		str	r0, [r4, #76]
 149:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->tflite.type = kTfLiteUInt8;
 243              		.loc 2 149 3 is_stmt 1 view .LVU61
 149:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->tflite.type = kTfLiteUInt8;
 244              		.loc 2 149 23 is_stmt 0 view .LVU62
 245 00ac 054B     		ldr	r3, .L17
 246 00ae 1B68     		ldr	r3, [r3]
 149:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->tflite.type = kTfLiteUInt8;
 247              		.loc 2 149 21 view .LVU63
 248 00b0 C4F88430 		str	r3, [r4, #132]
 150:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->tflite.shape.size = 1;
 249              		.loc 2 150 3 is_stmt 1 view .LVU64
 150:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->tflite.shape.size = 1;
 250              		.loc 2 150 20 is_stmt 0 view .LVU65
 251 00b4 84F86410 		strb	r1, [r4, #100]
 151:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->tflite.shape.data[0] = ctx->tflite.bytes;
 252              		.loc 2 151 3 is_stmt 1 view .LVU66
 151:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->tflite.shape.data[0] = ctx->tflite.bytes;
 253              		.loc 2 151 26 is_stmt 0 view .LVU67
 254 00b8 C4F89420 		str	r2, [r4, #148]
 152:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 255              		.loc 2 152 3 is_stmt 1 view .LVU68
 152:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 256              		.loc 2 152 29 is_stmt 0 view .LVU69
 257 00bc C4F89830 		str	r3, [r4, #152]
 258 00c0 A4E7     		b	.L4
 259              	.LVL22:
 260              	.L12:
 261              	.LCFI3:
 262              		.cfi_def_cfa_offset 0
 263              		.cfi_restore 4
 264              		.cfi_restore 5
 265              		.cfi_restore 6
 266              		.cfi_restore 14
 152:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 267              		.loc 2 152 29 view .LVU70
 268 00c2 7047     		bx	lr
 269              	.L18:
 270              		.align	2
ARM GAS  /tmp/ccKcsWa4.s 			page 12


 271              	.L17:
 272 00c4 00000000 		.word	g_tflm_network_model_data_len
 273              		.cfi_endproc
 274              	.LFE146:
 276              		.section	.text._version_to_uint32,"ax",%progbits
 277              		.align	1
 278              		.syntax unified
 279              		.thumb
 280              		.thumb_func
 281              		.fpu fpv4-sp-d16
 283              	_version_to_uint32:
 284              	.LVL23:
 285              	.LFB147:
 154:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 155:X-CUBE-AI/App/aiValidation_TFLM.c **** static uint32_t _version_to_uint32(const struct tflm_c_version *version)
 156:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 286              		.loc 2 156 1 is_stmt 1 view -0
 287              		.cfi_startproc
 288              		@ args = 0, pretend = 0, frame = 0
 289              		@ frame_needed = 0, uses_anonymous_args = 0
 290              		@ link register save eliminated.
 157:X-CUBE-AI/App/aiValidation_TFLM.c ****   return version->major << 24 | version->minor << 16 | version->patch << 8 | version->schema;
 291              		.loc 2 157 3 view .LVU72
 292              		.loc 2 157 17 is_stmt 0 view .LVU73
 293 0000 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 294              		.loc 2 157 40 view .LVU74
 295 0002 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 296              		.loc 2 157 48 view .LVU75
 297 0004 1B04     		lsls	r3, r3, #16
 298              		.loc 2 157 31 view .LVU76
 299 0006 43EA0263 		orr	r3, r3, r2, lsl #24
 300              		.loc 2 157 63 view .LVU77
 301 000a 8278     		ldrb	r2, [r0, #2]	@ zero_extendqisi2
 302              		.loc 2 157 54 view .LVU78
 303 000c 43EA0223 		orr	r3, r3, r2, lsl #8
 304              		.loc 2 157 85 view .LVU79
 305 0010 C078     		ldrb	r0, [r0, #3]	@ zero_extendqisi2
 306              	.LVL24:
 158:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 307              		.loc 2 158 1 view .LVU80
 308 0012 1843     		orrs	r0, r0, r3
 309 0014 7047     		bx	lr
 310              		.cfi_endproc
 311              	.LFE147:
 313              		.section	.text._get_buffer_size,"ax",%progbits
 314              		.align	1
 315              		.syntax unified
 316              		.thumb
 317              		.thumb_func
 318              		.fpu fpv4-sp-d16
 320              	_get_buffer_size:
 321              	.LVL25:
 322              	.LFB148:
 159:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 160:X-CUBE-AI/App/aiValidation_TFLM.c **** static uint32_t _get_buffer_size(const struct tflm_c_tensor_info *info)
 161:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 323              		.loc 2 161 1 is_stmt 1 view -0
ARM GAS  /tmp/ccKcsWa4.s 			page 13


 324              		.cfi_startproc
 325              		@ args = 0, pretend = 0, frame = 0
 326              		@ frame_needed = 0, uses_anonymous_args = 0
 327              		@ link register save eliminated.
 162:X-CUBE-AI/App/aiValidation_TFLM.c ****   return info->bytes;
 328              		.loc 2 162 3 view .LVU82
 163:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 329              		.loc 2 163 1 is_stmt 0 view .LVU83
 330 0000 006A     		ldr	r0, [r0, #32]
 331              	.LVL26:
 332              		.loc 2 163 1 view .LVU84
 333 0002 7047     		bx	lr
 334              		.cfi_endproc
 335              	.LFE148:
 337              		.section	.text._get_element_size,"ax",%progbits
 338              		.align	1
 339              		.syntax unified
 340              		.thumb
 341              		.thumb_func
 342              		.fpu fpv4-sp-d16
 344              	_get_element_size:
 345              	.LVL27:
 346              	.LFB149:
 164:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 165:X-CUBE-AI/App/aiValidation_TFLM.c **** static uint32_t _get_element_size(const struct tflm_c_tensor_info *info)
 166:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 347              		.loc 2 166 1 is_stmt 1 view -0
 348              		.cfi_startproc
 349              		@ args = 0, pretend = 0, frame = 0
 350              		@ frame_needed = 0, uses_anonymous_args = 0
 351              		@ link register save eliminated.
 167:X-CUBE-AI/App/aiValidation_TFLM.c ****   switch (info->type) {
 352              		.loc 2 167 3 view .LVU86
 353              		.loc 2 167 15 is_stmt 0 view .LVU87
 354 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 355 0002 013B     		subs	r3, r3, #1
 356 0004 0F2B     		cmp	r3, #15
 357 0006 0BD8     		bhi	.L22
 358 0008 DFE803F0 		tbb	[pc, r3]
 359              	.L24:
 360 000c 08       		.byte	(.L23-.L24)/2
 361 000d 08       		.byte	(.L23-.L24)/2
 362 000e 0C       		.byte	(.L26-.L24)/2
 363 000f 0A       		.byte	(.L22-.L24)/2
 364 0010 0A       		.byte	(.L22-.L24)/2
 365 0011 0C       		.byte	(.L26-.L24)/2
 366 0012 0A       		.byte	(.L22-.L24)/2
 367 0013 0A       		.byte	(.L22-.L24)/2
 368 0014 0C       		.byte	(.L26-.L24)/2
 369 0015 0A       		.byte	(.L22-.L24)/2
 370 0016 0A       		.byte	(.L22-.L24)/2
 371 0017 0A       		.byte	(.L22-.L24)/2
 372 0018 0A       		.byte	(.L22-.L24)/2
 373 0019 0A       		.byte	(.L22-.L24)/2
 374 001a 0A       		.byte	(.L22-.L24)/2
 375 001b 08       		.byte	(.L23-.L24)/2
 376              		.p2align 1
ARM GAS  /tmp/ccKcsWa4.s 			page 14


 377              	.L23:
 378 001c 0420     		movs	r0, #4
 379              	.LVL28:
 380              		.loc 2 167 15 view .LVU88
 381 001e 7047     		bx	lr
 382              	.LVL29:
 383              	.L22:
 168:X-CUBE-AI/App/aiValidation_TFLM.c ****     case kTfLiteUInt32:
 169:X-CUBE-AI/App/aiValidation_TFLM.c ****     case kTfLiteInt32:
 170:X-CUBE-AI/App/aiValidation_TFLM.c ****     case kTfLiteFloat32: return 4;
 171:X-CUBE-AI/App/aiValidation_TFLM.c ****     case kTfLiteUInt8:
 172:X-CUBE-AI/App/aiValidation_TFLM.c ****     case kTfLiteInt8: return 1;
 173:X-CUBE-AI/App/aiValidation_TFLM.c ****     case kTfLiteBool: return 1;
 174:X-CUBE-AI/App/aiValidation_TFLM.c ****     default: return 0;
 384              		.loc 2 174 14 is_stmt 1 view .LVU89
 385              		.loc 2 174 21 is_stmt 0 view .LVU90
 386 0020 0020     		movs	r0, #0
 387              	.LVL30:
 388              		.loc 2 174 21 view .LVU91
 389 0022 7047     		bx	lr
 390              	.LVL31:
 391              	.L26:
 172:X-CUBE-AI/App/aiValidation_TFLM.c ****     case kTfLiteBool: return 1;
 392              		.loc 2 172 30 view .LVU92
 393 0024 0120     		movs	r0, #1
 394              	.LVL32:
 175:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 176:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 395              		.loc 2 176 1 view .LVU93
 396 0026 7047     		bx	lr
 397              		.cfi_endproc
 398              	.LFE149:
 400              		.section	.text.set_ai_buffer_format,"ax",%progbits
 401              		.align	1
 402              		.syntax unified
 403              		.thumb
 404              		.thumb_func
 405              		.fpu fpv4-sp-d16
 407              	set_ai_buffer_format:
 408              	.LVL33:
 409              	.LFB150:
 177:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 178:X-CUBE-AI/App/aiValidation_TFLM.c **** static uint32_t set_ai_buffer_format(TfLiteType tflm_type)
 179:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 410              		.loc 2 179 1 is_stmt 1 view -0
 411              		.cfi_startproc
 412              		@ args = 0, pretend = 0, frame = 0
 413              		@ frame_needed = 0, uses_anonymous_args = 0
 414              		.loc 2 179 1 is_stmt 0 view .LVU95
 415 0000 08B5     		push	{r3, lr}
 416              	.LCFI4:
 417              		.cfi_def_cfa_offset 8
 418              		.cfi_offset 3, -8
 419              		.cfi_offset 14, -4
 180:X-CUBE-AI/App/aiValidation_TFLM.c ****   switch (tflm_type) {
 420              		.loc 2 180 3 is_stmt 1 view .LVU96
 421 0002 0138     		subs	r0, r0, #1
ARM GAS  /tmp/ccKcsWa4.s 			page 15


 422              	.LVL34:
 423              		.loc 2 180 3 is_stmt 0 view .LVU97
 424 0004 0F28     		cmp	r0, #15
 425 0006 33D8     		bhi	.L36
 426 0008 DFE800F0 		tbb	[pc, r0]
 427              	.L30:
 428 000c 08       		.byte	(.L35-.L30)/2
 429 000d 24       		.byte	(.L34-.L30)/2
 430 000e 0F       		.byte	(.L33-.L30)/2
 431 000f 32       		.byte	(.L36-.L30)/2
 432 0010 32       		.byte	(.L36-.L30)/2
 433 0011 2B       		.byte	(.L32-.L30)/2
 434 0012 32       		.byte	(.L36-.L30)/2
 435 0013 32       		.byte	(.L36-.L30)/2
 436 0014 16       		.byte	(.L31-.L30)/2
 437 0015 32       		.byte	(.L36-.L30)/2
 438 0016 32       		.byte	(.L36-.L30)/2
 439 0017 32       		.byte	(.L36-.L30)/2
 440 0018 32       		.byte	(.L36-.L30)/2
 441 0019 32       		.byte	(.L36-.L30)/2
 442 001a 32       		.byte	(.L36-.L30)/2
 443 001b 1D       		.byte	(.L29-.L30)/2
 444              		.p2align 1
 445              	.L35:
 181:X-CUBE-AI/App/aiValidation_TFLM.c ****     case kTfLiteFloat32: return aiPbTensorFormat(EnumDataFmtType_DATA_FMT_TYPE_FLOAT, true, 32, 0);
 446              		.loc 2 181 26 is_stmt 1 view .LVU98
 447              		.loc 2 181 33 is_stmt 0 view .LVU99
 448 001c 0023     		movs	r3, #0
 449 001e 2022     		movs	r2, #32
 450 0020 0121     		movs	r1, #1
 451 0022 0846     		mov	r0, r1
 452 0024 FFF7FEFF 		bl	aiPbTensorFormat
 453              	.LVL35:
 454 0028 23E0     		b	.L27
 455              	.L33:
 182:X-CUBE-AI/App/aiValidation_TFLM.c ****     case kTfLiteUInt8: return aiPbTensorFormat(EnumDataFmtType_DATA_FMT_TYPE_INTEGER, false, 8, 0);
 456              		.loc 2 182 24 is_stmt 1 view .LVU100
 457              		.loc 2 182 31 is_stmt 0 view .LVU101
 458 002a 0023     		movs	r3, #0
 459 002c 0822     		movs	r2, #8
 460 002e 1946     		mov	r1, r3
 461 0030 0220     		movs	r0, #2
 462 0032 FFF7FEFF 		bl	aiPbTensorFormat
 463              	.LVL36:
 464 0036 1CE0     		b	.L27
 465              	.L31:
 183:X-CUBE-AI/App/aiValidation_TFLM.c ****     case kTfLiteInt8: return aiPbTensorFormat(EnumDataFmtType_DATA_FMT_TYPE_INTEGER, true, 8, 0);
 466              		.loc 2 183 23 is_stmt 1 view .LVU102
 467              		.loc 2 183 30 is_stmt 0 view .LVU103
 468 0038 0023     		movs	r3, #0
 469 003a 0822     		movs	r2, #8
 470 003c 0121     		movs	r1, #1
 471 003e 0220     		movs	r0, #2
 472 0040 FFF7FEFF 		bl	aiPbTensorFormat
 473              	.LVL37:
 474 0044 15E0     		b	.L27
 475              	.L29:
ARM GAS  /tmp/ccKcsWa4.s 			page 16


 184:X-CUBE-AI/App/aiValidation_TFLM.c ****     case kTfLiteUInt32: return aiPbTensorFormat(EnumDataFmtType_DATA_FMT_TYPE_INTEGER, false, 32, 0
 476              		.loc 2 184 25 is_stmt 1 view .LVU104
 477              		.loc 2 184 32 is_stmt 0 view .LVU105
 478 0046 0023     		movs	r3, #0
 479 0048 2022     		movs	r2, #32
 480 004a 1946     		mov	r1, r3
 481 004c 0220     		movs	r0, #2
 482 004e FFF7FEFF 		bl	aiPbTensorFormat
 483              	.LVL38:
 484 0052 0EE0     		b	.L27
 485              	.L34:
 185:X-CUBE-AI/App/aiValidation_TFLM.c ****     case kTfLiteInt32: return aiPbTensorFormat(EnumDataFmtType_DATA_FMT_TYPE_INTEGER, true, 32, 0);
 486              		.loc 2 185 24 is_stmt 1 view .LVU106
 487              		.loc 2 185 31 is_stmt 0 view .LVU107
 488 0054 0023     		movs	r3, #0
 489 0056 2022     		movs	r2, #32
 490 0058 0121     		movs	r1, #1
 491 005a 0220     		movs	r0, #2
 492 005c FFF7FEFF 		bl	aiPbTensorFormat
 493              	.LVL39:
 494 0060 07E0     		b	.L27
 495              	.L32:
 186:X-CUBE-AI/App/aiValidation_TFLM.c ****     case kTfLiteBool: return aiPbTensorFormat(EnumDataFmtType_DATA_FMT_TYPE_BOOL, false, 1, 0);
 496              		.loc 2 186 23 is_stmt 1 view .LVU108
 497              		.loc 2 186 30 is_stmt 0 view .LVU109
 498 0062 0023     		movs	r3, #0
 499 0064 0122     		movs	r2, #1
 500 0066 1946     		mov	r1, r3
 501 0068 0320     		movs	r0, #3
 502 006a FFF7FEFF 		bl	aiPbTensorFormat
 503              	.LVL40:
 504 006e 00E0     		b	.L27
 505              	.L36:
 179:X-CUBE-AI/App/aiValidation_TFLM.c ****   switch (tflm_type) {
 506              		.loc 2 179 1 view .LVU110
 507 0070 0020     		movs	r0, #0
 508              	.L27:
 187:X-CUBE-AI/App/aiValidation_TFLM.c ****     default: return 0;
 188:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 189:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 509              		.loc 2 189 1 view .LVU111
 510 0072 08BD     		pop	{r3, pc}
 511              		.cfi_endproc
 512              	.LFE150:
 514              		.section	.text._fill_tensor_desc,"ax",%progbits
 515              		.align	1
 516              		.syntax unified
 517              		.thumb
 518              		.thumb_func
 519              		.fpu fpv4-sp-d16
 521              	_fill_tensor_desc:
 522              	.LVL41:
 523              	.LFB151:
 190:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 191:X-CUBE-AI/App/aiValidation_TFLM.c **** struct _data_tensor_desc {
 192:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct tflm_context *ctx;
 193:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct tflm_c_tensor_info *info;
ARM GAS  /tmp/ccKcsWa4.s 			page 17


 194:X-CUBE-AI/App/aiValidation_TFLM.c ****   uint32_t flags;
 195:X-CUBE-AI/App/aiValidation_TFLM.c **** };
 196:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 197:X-CUBE-AI/App/aiValidation_TFLM.c **** static void _fill_tensor_desc(aiTensorDescMsg* msg, struct _encode_uint32 *array_u32,
 198:X-CUBE-AI/App/aiValidation_TFLM.c ****     const struct tflm_c_tensor_info *info, uint32_t flags)
 199:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 524              		.loc 2 199 1 is_stmt 1 view -0
 525              		.cfi_startproc
 526              		@ args = 0, pretend = 0, frame = 0
 527              		@ frame_needed = 0, uses_anonymous_args = 0
 528              		.loc 2 199 1 is_stmt 0 view .LVU113
 529 0000 2DE97043 		push	{r4, r5, r6, r8, r9, lr}
 530              	.LCFI5:
 531              		.cfi_def_cfa_offset 24
 532              		.cfi_offset 4, -24
 533              		.cfi_offset 5, -20
 534              		.cfi_offset 6, -16
 535              		.cfi_offset 8, -12
 536              		.cfi_offset 9, -8
 537              		.cfi_offset 14, -4
 538 0004 0546     		mov	r5, r0
 539 0006 8846     		mov	r8, r1
 540 0008 1646     		mov	r6, r2
 541 000a 9946     		mov	r9, r3
 200:X-CUBE-AI/App/aiValidation_TFLM.c ****   array_u32->size = info->shape.size;
 542              		.loc 2 200 3 is_stmt 1 view .LVU114
 543              		.loc 2 200 32 is_stmt 0 view .LVU115
 544 000c 136B     		ldr	r3, [r2, #48]
 545              	.LVL42:
 546              		.loc 2 200 19 view .LVU116
 547 000e 0B60     		str	r3, [r1]
 201:X-CUBE-AI/App/aiValidation_TFLM.c ****   array_u32->data = (void *)info->shape.data;
 548              		.loc 2 201 3 is_stmt 1 view .LVU117
 549              		.loc 2 201 29 is_stmt 0 view .LVU118
 550 0010 02F13403 		add	r3, r2, #52
 551              		.loc 2 201 19 view .LVU119
 552 0014 4B60     		str	r3, [r1, #4]
 202:X-CUBE-AI/App/aiValidation_TFLM.c ****   array_u32->offset = 4;
 553              		.loc 2 202 3 is_stmt 1 view .LVU120
 554              		.loc 2 202 21 is_stmt 0 view .LVU121
 555 0016 0423     		movs	r3, #4
 556 0018 8B60     		str	r3, [r1, #8]
 203:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 204:X-CUBE-AI/App/aiValidation_TFLM.c ****   msg->name[0] = 0;
 557              		.loc 2 204 3 is_stmt 1 view .LVU122
 558              		.loc 2 204 16 is_stmt 0 view .LVU123
 559 001a 0024     		movs	r4, #0
 560 001c 0470     		strb	r4, [r0]
 205:X-CUBE-AI/App/aiValidation_TFLM.c ****   msg->format = set_ai_buffer_format(info->type);
 561              		.loc 2 205 3 is_stmt 1 view .LVU124
 562              		.loc 2 205 17 is_stmt 0 view .LVU125
 563 001e 1078     		ldrb	r0, [r2]	@ zero_extendqisi2
 564              	.LVL43:
 565              		.loc 2 205 17 view .LVU126
 566 0020 FFF7FEFF 		bl	set_ai_buffer_format
 567              	.LVL44:
 568              		.loc 2 205 15 view .LVU127
ARM GAS  /tmp/ccKcsWa4.s 			page 18


 569 0024 2864     		str	r0, [r5, #64]
 206:X-CUBE-AI/App/aiValidation_TFLM.c ****   msg->flags = flags;
 570              		.loc 2 206 3 is_stmt 1 view .LVU128
 571              		.loc 2 206 14 is_stmt 0 view .LVU129
 572 0026 C5F86090 		str	r9, [r5, #96]
 207:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 208:X-CUBE-AI/App/aiValidation_TFLM.c ****   msg->size = 1;
 573              		.loc 2 208 3 is_stmt 1 view .LVU130
 574              		.loc 2 208 13 is_stmt 0 view .LVU131
 575 002a 0123     		movs	r3, #1
 576 002c 6B64     		str	r3, [r5, #68]
 209:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int i=0; i<info->shape.size; i++)
 577              		.loc 2 209 3 is_stmt 1 view .LVU132
 578              	.LBB11:
 579              		.loc 2 209 8 view .LVU133
 580              	.LVL45:
 581              		.loc 2 209 12 is_stmt 0 view .LVU134
 582 002e 2346     		mov	r3, r4
 583              	.LVL46:
 584              	.L39:
 585              		.loc 2 209 17 is_stmt 1 discriminator 1 view .LVU135
 586              		.loc 2 209 30 is_stmt 0 discriminator 1 view .LVU136
 587 0030 326B     		ldr	r2, [r6, #48]
 588              		.loc 2 209 3 discriminator 1 view .LVU137
 589 0032 9A42     		cmp	r2, r3
 590 0034 0AD9     		bls	.L44
 210:X-CUBE-AI/App/aiValidation_TFLM.c ****     msg->size *= info->shape.data[i];
 591              		.loc 2 210 5 is_stmt 1 discriminator 3 view .LVU138
 592              		.loc 2 210 34 is_stmt 0 discriminator 3 view .LVU139
 593 0036 03F10C02 		add	r2, r3, #12
 594 003a 06EB8202 		add	r2, r6, r2, lsl #2
 595 003e 5468     		ldr	r4, [r2, #4]
 596              		.loc 2 210 15 discriminator 3 view .LVU140
 597 0040 6A6C     		ldr	r2, [r5, #68]
 598 0042 04FB02F4 		mul	r4, r4, r2
 599 0046 6C64     		str	r4, [r5, #68]
 209:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int i=0; i<info->shape.size; i++)
 600              		.loc 2 209 37 is_stmt 1 discriminator 3 view .LVU141
 209:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int i=0; i<info->shape.size; i++)
 601              		.loc 2 209 38 is_stmt 0 discriminator 3 view .LVU142
 602 0048 0133     		adds	r3, r3, #1
 603              	.LVL47:
 209:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int i=0; i<info->shape.size; i++)
 604              		.loc 2 209 38 discriminator 3 view .LVU143
 605 004a F1E7     		b	.L39
 606              	.L44:
 209:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int i=0; i<info->shape.size; i++)
 607              		.loc 2 209 38 discriminator 3 view .LVU144
 608              	.LBE11:
 211:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 212:X-CUBE-AI/App/aiValidation_TFLM.c ****   msg->n_dims = EnumShapeFmt_F_SHAPE_FMT_BHWC << 24 | array_u32->size;
 609              		.loc 2 212 3 is_stmt 1 view .LVU145
 610              		.loc 2 212 64 is_stmt 0 view .LVU146
 611 004c D8F80030 		ldr	r3, [r8]
 612              	.LVL48:
 613              		.loc 2 212 53 view .LVU147
 614 0050 43F00073 		orr	r3, r3, #33554432
ARM GAS  /tmp/ccKcsWa4.s 			page 19


 615              		.loc 2 212 15 view .LVU148
 616 0054 AB64     		str	r3, [r5, #72]
 213:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 214:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (info->scale) {
 617              		.loc 2 214 3 is_stmt 1 view .LVU149
 618              		.loc 2 214 11 is_stmt 0 view .LVU150
 619 0056 D6ED097A 		vldr.32	s15, [r6, #36]
 620              		.loc 2 214 6 view .LVU151
 621 005a F5EE407A 		vcmp.f32	s15, #0
 622 005e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 623 0062 07D0     		beq	.L41
 215:X-CUBE-AI/App/aiValidation_TFLM.c ****     msg->scale = info->scale;
 624              		.loc 2 215 5 is_stmt 1 view .LVU152
 625              		.loc 2 215 16 is_stmt 0 view .LVU153
 626 0064 C5ED157A 		vstr.32	s15, [r5, #84]
 216:X-CUBE-AI/App/aiValidation_TFLM.c ****     msg->zeropoint = info->zero_point;
 627              		.loc 2 216 5 is_stmt 1 view .LVU154
 628              		.loc 2 216 26 is_stmt 0 view .LVU155
 629 0068 B36A     		ldr	r3, [r6, #40]
 630              		.loc 2 216 20 view .LVU156
 631 006a AB65     		str	r3, [r5, #88]
 632              	.L42:
 217:X-CUBE-AI/App/aiValidation_TFLM.c ****   } else {
 218:X-CUBE-AI/App/aiValidation_TFLM.c ****     msg->scale = 0.0;
 219:X-CUBE-AI/App/aiValidation_TFLM.c ****     msg->zeropoint = 0;
 220:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 221:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 222:X-CUBE-AI/App/aiValidation_TFLM.c ****   msg->addr = (uint32_t)info->data;
 633              		.loc 2 222 3 is_stmt 1 view .LVU157
 634              		.loc 2 222 29 is_stmt 0 view .LVU158
 635 006c F36A     		ldr	r3, [r6, #44]
 636              		.loc 2 222 13 view .LVU159
 637 006e EB65     		str	r3, [r5, #92]
 223:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 638              		.loc 2 223 1 view .LVU160
 639 0070 BDE87083 		pop	{r4, r5, r6, r8, r9, pc}
 640              	.LVL49:
 641              	.L41:
 218:X-CUBE-AI/App/aiValidation_TFLM.c ****     msg->zeropoint = 0;
 642              		.loc 2 218 5 is_stmt 1 view .LVU161
 218:X-CUBE-AI/App/aiValidation_TFLM.c ****     msg->zeropoint = 0;
 643              		.loc 2 218 16 is_stmt 0 view .LVU162
 644 0074 0023     		movs	r3, #0
 645 0076 6B65     		str	r3, [r5, #84]	@ float
 219:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 646              		.loc 2 219 5 is_stmt 1 view .LVU163
 219:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 647              		.loc 2 219 20 is_stmt 0 view .LVU164
 648 0078 0023     		movs	r3, #0
 649 007a AB65     		str	r3, [r5, #88]
 650 007c F6E7     		b	.L42
 651              		.cfi_endproc
 652              	.LFE151:
 654              		.section	.text._encode_to_tensor_desc_cb,"ax",%progbits
 655              		.align	1
 656              		.syntax unified
 657              		.thumb
ARM GAS  /tmp/ccKcsWa4.s 			page 20


 658              		.thumb_func
 659              		.fpu fpv4-sp-d16
 661              	_encode_to_tensor_desc_cb:
 662              	.LVL50:
 663              	.LFB152:
 224:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 225:X-CUBE-AI/App/aiValidation_TFLM.c **** static void _encode_to_tensor_desc_cb(size_t index,
 226:X-CUBE-AI/App/aiValidation_TFLM.c ****     void* data, aiTensorDescMsg* msg,
 227:X-CUBE-AI/App/aiValidation_TFLM.c ****     struct _encode_uint32 *array_u32)
 228:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 664              		.loc 2 228 1 is_stmt 1 view -0
 665              		.cfi_startproc
 666              		@ args = 0, pretend = 0, frame = 0
 667              		@ frame_needed = 0, uses_anonymous_args = 0
 668              		.loc 2 228 1 is_stmt 0 view .LVU166
 669 0000 38B5     		push	{r3, r4, r5, lr}
 670              	.LCFI6:
 671              		.cfi_def_cfa_offset 16
 672              		.cfi_offset 3, -16
 673              		.cfi_offset 4, -12
 674              		.cfi_offset 5, -8
 675              		.cfi_offset 14, -4
 676 0002 0546     		mov	r5, r0
 677 0004 0C46     		mov	r4, r1
 678 0006 1046     		mov	r0, r2
 679              	.LVL51:
 680              		.loc 2 228 1 view .LVU167
 681 0008 1946     		mov	r1, r3
 682              	.LVL52:
 229:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct _data_tensor_desc *desc = (struct _data_tensor_desc *)data;
 683              		.loc 2 229 3 is_stmt 1 view .LVU168
 230:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct tflm_c_tensor_info *info = &desc->info[index];
 684              		.loc 2 230 3 view .LVU169
 685              		.loc 2 230 42 is_stmt 0 view .LVU170
 686 000a 6268     		ldr	r2, [r4, #4]
 687              	.LVL53:
 231:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 232:X-CUBE-AI/App/aiValidation_TFLM.c ****   _fill_tensor_desc(msg, array_u32, info, desc->flags);
 688              		.loc 2 232 3 is_stmt 1 view .LVU171
 689 000c A368     		ldr	r3, [r4, #8]
 690              	.LVL54:
 691              		.loc 2 232 3 is_stmt 0 view .LVU172
 692 000e 4C24     		movs	r4, #76
 693              	.LVL55:
 694              		.loc 2 232 3 view .LVU173
 695 0010 04FB0522 		mla	r2, r4, r5, r2
 696              	.LVL56:
 697              		.loc 2 232 3 view .LVU174
 698 0014 FFF7FEFF 		bl	_fill_tensor_desc
 699              	.LVL57:
 233:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 700              		.loc 2 233 1 view .LVU175
 701 0018 38BD     		pop	{r3, r4, r5, pc}
 702              		.loc 2 233 1 view .LVU176
 703              		.cfi_endproc
 704              	.LFE152:
 706              		.section	.text.send_model_info,"ax",%progbits
ARM GAS  /tmp/ccKcsWa4.s 			page 21


 707              		.align	1
 708              		.syntax unified
 709              		.thumb
 710              		.thumb_func
 711              		.fpu fpv4-sp-d16
 713              	send_model_info:
 714              	.LVL58:
 715              	.LFB153:
 234:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 235:X-CUBE-AI/App/aiValidation_TFLM.c **** static void send_model_info(const reqMsg *req, respMsg *resp,
 236:X-CUBE-AI/App/aiValidation_TFLM.c ****     EnumState state, struct tflm_context *ctx)
 237:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 716              		.loc 2 237 1 is_stmt 1 view -0
 717              		.cfi_startproc
 718              		@ args = 0, pretend = 0, frame = 104
 719              		@ frame_needed = 0, uses_anonymous_args = 0
 720              		.loc 2 237 1 is_stmt 0 view .LVU178
 721 0000 2DE97047 		push	{r4, r5, r6, r8, r9, r10, lr}
 722              	.LCFI7:
 723              		.cfi_def_cfa_offset 28
 724              		.cfi_offset 4, -28
 725              		.cfi_offset 5, -24
 726              		.cfi_offset 6, -20
 727              		.cfi_offset 8, -16
 728              		.cfi_offset 9, -12
 729              		.cfi_offset 10, -8
 730              		.cfi_offset 14, -4
 731 0004 9BB0     		sub	sp, sp, #108
 732              	.LCFI8:
 733              		.cfi_def_cfa_offset 136
 734 0006 0646     		mov	r6, r0
 735 0008 0C46     		mov	r4, r1
 736 000a 9046     		mov	r8, r2
 737 000c 1D46     		mov	r5, r3
 238:X-CUBE-AI/App/aiValidation_TFLM.c ****   uint32_t flags;
 738              		.loc 2 238 3 is_stmt 1 view .LVU179
 239:X-CUBE-AI/App/aiValidation_TFLM.c ****   const char *_null = "NULL";
 739              		.loc 2 239 3 view .LVU180
 740              	.LVL59:
 240:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct tflm_c_version ver;
 741              		.loc 2 240 3 view .LVU181
 241:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 242:X-CUBE-AI/App/aiValidation_TFLM.c ****   const char *_compile_date_time = __DATE__ " " __TIME__;
 742              		.loc 2 242 3 view .LVU182
 243:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 244:X-CUBE-AI/App/aiValidation_TFLM.c ****   tflm_c_rt_version(&ver);
 743              		.loc 2 244 3 view .LVU183
 744 000e 19A8     		add	r0, sp, #100
 745              	.LVL60:
 746              		.loc 2 244 3 is_stmt 0 view .LVU184
 747 0010 FFF7FEFF 		bl	tflm_c_rt_version
 748              	.LVL61:
 245:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 246:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->which_payload = respMsg_minfo_tag;
 749              		.loc 2 246 3 is_stmt 1 view .LVU185
 750              		.loc 2 246 23 is_stmt 0 view .LVU186
 751 0014 1623     		movs	r3, #22
ARM GAS  /tmp/ccKcsWa4.s 			page 22


 752 0016 E380     		strh	r3, [r4, #6]	@ movhi
 247:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 248:X-CUBE-AI/App/aiValidation_TFLM.c ****   aiPbStrCopy(_model_name, &resp->payload.minfo.name[0],
 753              		.loc 2 248 3 is_stmt 1 view .LVU187
 754 0018 4022     		movs	r2, #64
 755 001a 04F10801 		add	r1, r4, #8
 756 001e 3E4B     		ldr	r3, .L49
 757 0020 1868     		ldr	r0, [r3]
 758 0022 FFF7FEFF 		bl	aiPbStrCopy
 759              	.LVL62:
 249:X-CUBE-AI/App/aiValidation_TFLM.c ****       sizeof(resp->payload.minfo.name));
 250:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.minfo.rtid = _AI_RUNTIME_ID;
 760              		.loc 2 250 3 view .LVU188
 761              		.loc 2 250 28 is_stmt 0 view .LVU189
 762 0026 4FF00209 		mov	r9, #2
 763 002a C4F84890 		str	r9, [r4, #72]
 251:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 252:X-CUBE-AI/App/aiValidation_TFLM.c ****   aiPbStrCopy(_null, &resp->payload.minfo.signature[0],
 764              		.loc 2 252 3 is_stmt 1 view .LVU190
 765 002e DFF8F4A0 		ldr	r10, .L49+12
 766 0032 4022     		movs	r2, #64
 767 0034 04F14C01 		add	r1, r4, #76
 768 0038 0AF10800 		add	r0, r10, #8
 769 003c FFF7FEFF 		bl	aiPbStrCopy
 770              	.LVL63:
 253:X-CUBE-AI/App/aiValidation_TFLM.c ****       sizeof(resp->payload.minfo.signature));
 254:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 255:X-CUBE-AI/App/aiValidation_TFLM.c ****   aiPbStrCopy(_compile_date_time, &resp->payload.minfo.compile_datetime[0],
 771              		.loc 2 255 3 view .LVU191
 772 0040 4022     		movs	r2, #64
 773 0042 04F18C01 		add	r1, r4, #140
 774 0046 0AF11000 		add	r0, r10, #16
 775 004a FFF7FEFF 		bl	aiPbStrCopy
 776              	.LVL64:
 256:X-CUBE-AI/App/aiValidation_TFLM.c ****       sizeof(resp->payload.minfo.compile_datetime));
 257:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 258:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.minfo.runtime_version = _version_to_uint32(&ver);
 777              		.loc 2 258 3 view .LVU192
 778              		.loc 2 258 41 is_stmt 0 view .LVU193
 779 004e 19A8     		add	r0, sp, #100
 780 0050 FFF7FEFF 		bl	_version_to_uint32
 781              	.LVL65:
 782              		.loc 2 258 39 view .LVU194
 783 0054 C4F8CC00 		str	r0, [r4, #204]
 259:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.minfo.tool_version = _version_to_uint32(&ver);
 784              		.loc 2 259 3 is_stmt 1 view .LVU195
 785              		.loc 2 259 38 is_stmt 0 view .LVU196
 786 0058 19A8     		add	r0, sp, #100
 787 005a FFF7FEFF 		bl	_version_to_uint32
 788              	.LVL66:
 789              		.loc 2 259 36 view .LVU197
 790 005e C4F8D000 		str	r0, [r4, #208]
 260:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 261:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.minfo.n_macc = (uint64_t)1;
 791              		.loc 2 261 3 is_stmt 1 view .LVU198
 792              		.loc 2 261 30 is_stmt 0 view .LVU199
 793 0062 0122     		movs	r2, #1
ARM GAS  /tmp/ccKcsWa4.s 			page 23


 794 0064 0023     		movs	r3, #0
 795 0066 C4E93623 		strd	r2, [r4, #216]
 262:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.minfo.n_nodes = (uint32_t)tflm_c_operators_size(ctx->hdl);
 796              		.loc 2 262 3 is_stmt 1 view .LVU200
 797              		.loc 2 262 43 is_stmt 0 view .LVU201
 798 006a 6868     		ldr	r0, [r5, #4]
 799 006c FFF7FEFF 		bl	tflm_c_operators_size
 800              	.LVL67:
 801              		.loc 2 262 31 view .LVU202
 802 0070 C4F8E000 		str	r0, [r4, #224]
 263:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 264:X-CUBE-AI/App/aiValidation_TFLM.c ****   flags = EnumTensorFlag_TENSOR_FLAG_INPUT;
 803              		.loc 2 264 3 is_stmt 1 view .LVU203
 804              	.LVL68:
 265:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct _data_tensor_desc tensor_desc_ins = {ctx, ctx->inputs, flags};
 805              		.loc 2 265 3 view .LVU204
 806              		.loc 2 265 28 is_stmt 0 view .LVU205
 807 0074 1695     		str	r5, [sp, #88]
 808              		.loc 2 265 55 view .LVU206
 809 0076 2B69     		ldr	r3, [r5, #16]
 810              		.loc 2 265 28 view .LVU207
 811 0078 1793     		str	r3, [sp, #92]
 812 007a 0123     		movs	r3, #1
 813 007c 1893     		str	r3, [sp, #96]
 266:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct _encode_tensor_desc tensor_ins = {
 814              		.loc 2 266 3 is_stmt 1 view .LVU208
 815              		.loc 2 266 30 is_stmt 0 view .LVU209
 816 007e 274A     		ldr	r2, .L49+4
 817 0080 1392     		str	r2, [sp, #76]
 267:X-CUBE-AI/App/aiValidation_TFLM.c ****       &_encode_to_tensor_desc_cb, ctx->n_inputs, &tensor_desc_ins};
 818              		.loc 2 267 38 view .LVU210
 819 0082 A968     		ldr	r1, [r5, #8]
 266:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct _encode_tensor_desc tensor_ins = {
 820              		.loc 2 266 30 view .LVU211
 821 0084 1491     		str	r1, [sp, #80]
 822 0086 16A8     		add	r0, sp, #88
 823 0088 1590     		str	r0, [sp, #84]
 268:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.minfo.n_inputs = ctx->n_inputs;
 824              		.loc 2 268 3 is_stmt 1 view .LVU212
 825              		.loc 2 268 32 is_stmt 0 view .LVU213
 826 008a C4F8E410 		str	r1, [r4, #228]
 269:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.minfo.inputs.funcs.encode = encode_tensor_desc;
 827              		.loc 2 269 3 is_stmt 1 view .LVU214
 828              		.loc 2 269 43 is_stmt 0 view .LVU215
 829 008e 2449     		ldr	r1, .L49+8
 830 0090 C4F8E810 		str	r1, [r4, #232]
 270:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.minfo.inputs.arg = (void *)&tensor_ins;
 831              		.loc 2 270 3 is_stmt 1 view .LVU216
 832              		.loc 2 270 34 is_stmt 0 view .LVU217
 833 0094 13A8     		add	r0, sp, #76
 834 0096 C4F8EC00 		str	r0, [r4, #236]
 271:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 272:X-CUBE-AI/App/aiValidation_TFLM.c ****   flags = EnumTensorFlag_TENSOR_FLAG_OUTPUT;
 835              		.loc 2 272 3 is_stmt 1 view .LVU218
 836              	.LVL69:
 273:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct _data_tensor_desc tensor_desc_outs = {ctx, ctx->outputs, flags};
 837              		.loc 2 273 3 view .LVU219
ARM GAS  /tmp/ccKcsWa4.s 			page 24


 838              		.loc 2 273 28 is_stmt 0 view .LVU220
 839 009a 1095     		str	r5, [sp, #64]
 840              		.loc 2 273 56 view .LVU221
 841 009c 6869     		ldr	r0, [r5, #20]
 842              		.loc 2 273 28 view .LVU222
 843 009e 1190     		str	r0, [sp, #68]
 844 00a0 CDF84890 		str	r9, [sp, #72]
 274:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct _encode_tensor_desc tensor_outs = {
 845              		.loc 2 274 3 is_stmt 1 view .LVU223
 846              		.loc 2 274 30 is_stmt 0 view .LVU224
 847 00a4 0D92     		str	r2, [sp, #52]
 275:X-CUBE-AI/App/aiValidation_TFLM.c ****       &_encode_to_tensor_desc_cb, ctx->n_outputs, &tensor_desc_outs};
 848              		.loc 2 275 38 view .LVU225
 849 00a6 E868     		ldr	r0, [r5, #12]
 274:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct _encode_tensor_desc tensor_outs = {
 850              		.loc 2 274 30 view .LVU226
 851 00a8 0E90     		str	r0, [sp, #56]
 852 00aa 0DF1400C 		add	ip, sp, #64
 853 00ae CDF83CC0 		str	ip, [sp, #60]
 276:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.minfo.n_outputs = ctx->n_outputs;
 854              		.loc 2 276 3 is_stmt 1 view .LVU227
 855              		.loc 2 276 33 is_stmt 0 view .LVU228
 856 00b2 C4F8F000 		str	r0, [r4, #240]
 277:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.minfo.outputs.funcs.encode = encode_tensor_desc;
 857              		.loc 2 277 3 is_stmt 1 view .LVU229
 858              		.loc 2 277 44 is_stmt 0 view .LVU230
 859 00b6 C4F8F410 		str	r1, [r4, #244]
 278:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.minfo.outputs.arg = (void *)&tensor_outs;
 860              		.loc 2 278 3 is_stmt 1 view .LVU231
 861              		.loc 2 278 35 is_stmt 0 view .LVU232
 862 00ba 0DA8     		add	r0, sp, #52
 863 00bc C4F8F800 		str	r0, [r4, #248]
 279:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 280:X-CUBE-AI/App/aiValidation_TFLM.c ****   flags = EnumTensorFlag_TENSOR_FLAG_MEMPOOL;
 864              		.loc 2 280 3 is_stmt 1 view .LVU233
 865              	.LVL70:
 281:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct _data_tensor_desc tensor_desc_acts = {ctx, &ctx->arena, flags};
 866              		.loc 2 281 3 view .LVU234
 867              		.loc 2 281 28 is_stmt 0 view .LVU235
 868 00c0 0A95     		str	r5, [sp, #40]
 869              		.loc 2 281 53 view .LVU236
 870 00c2 05F11800 		add	r0, r5, #24
 871              		.loc 2 281 28 view .LVU237
 872 00c6 0B90     		str	r0, [sp, #44]
 873 00c8 0820     		movs	r0, #8
 874 00ca 0C90     		str	r0, [sp, #48]
 282:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct _encode_tensor_desc tensor_acts = {
 875              		.loc 2 282 3 is_stmt 1 view .LVU238
 876              		.loc 2 282 30 is_stmt 0 view .LVU239
 877 00cc 0792     		str	r2, [sp, #28]
 878 00ce 0893     		str	r3, [sp, #32]
 879 00d0 0DF1280C 		add	ip, sp, #40
 880 00d4 CDF824C0 		str	ip, [sp, #36]
 283:X-CUBE-AI/App/aiValidation_TFLM.c ****       &_encode_to_tensor_desc_cb, 1, &tensor_desc_acts };
 284:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.minfo.n_activations = 1;
 881              		.loc 2 284 3 is_stmt 1 view .LVU240
 882              		.loc 2 284 37 is_stmt 0 view .LVU241
ARM GAS  /tmp/ccKcsWa4.s 			page 25


 883 00d8 C4F8FC30 		str	r3, [r4, #252]
 285:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.minfo.activations.funcs.encode = encode_tensor_desc;
 884              		.loc 2 285 3 is_stmt 1 view .LVU242
 885              		.loc 2 285 48 is_stmt 0 view .LVU243
 886 00dc C4F80011 		str	r1, [r4, #256]
 286:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.minfo.activations.arg = (void *)&tensor_acts;
 887              		.loc 2 286 3 is_stmt 1 view .LVU244
 888              		.loc 2 286 39 is_stmt 0 view .LVU245
 889 00e0 0DF11C0C 		add	ip, sp, #28
 890 00e4 C4F804C1 		str	ip, [r4, #260]
 287:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 288:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct _data_tensor_desc tensor_desc_w = {ctx, &ctx->tflite, flags};
 891              		.loc 2 288 3 is_stmt 1 view .LVU246
 892              		.loc 2 288 28 is_stmt 0 view .LVU247
 893 00e8 0495     		str	r5, [sp, #16]
 894              		.loc 2 288 50 view .LVU248
 895 00ea 6435     		adds	r5, r5, #100
 896              	.LVL71:
 897              		.loc 2 288 28 view .LVU249
 898 00ec 0595     		str	r5, [sp, #20]
 899 00ee 0690     		str	r0, [sp, #24]
 289:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct _encode_tensor_desc tensor_w = {
 900              		.loc 2 289 3 is_stmt 1 view .LVU250
 901              		.loc 2 289 30 is_stmt 0 view .LVU251
 902 00f0 0192     		str	r2, [sp, #4]
 903 00f2 0293     		str	r3, [sp, #8]
 904 00f4 04AA     		add	r2, sp, #16
 905 00f6 0392     		str	r2, [sp, #12]
 290:X-CUBE-AI/App/aiValidation_TFLM.c ****       &_encode_to_tensor_desc_cb, 1, &tensor_desc_w };
 291:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.minfo.n_params = 1;
 906              		.loc 2 291 3 is_stmt 1 view .LVU252
 907              		.loc 2 291 32 is_stmt 0 view .LVU253
 908 00f8 C4F80831 		str	r3, [r4, #264]
 292:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.minfo.params.funcs.encode = encode_tensor_desc;
 909              		.loc 2 292 3 is_stmt 1 view .LVU254
 910              		.loc 2 292 43 is_stmt 0 view .LVU255
 911 00fc C4F80C11 		str	r1, [r4, #268]
 293:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.minfo.params.arg = (void *)&tensor_w;
 912              		.loc 2 293 3 is_stmt 1 view .LVU256
 913              		.loc 2 293 34 is_stmt 0 view .LVU257
 914 0100 01AB     		add	r3, sp, #4
 915 0102 C4F81031 		str	r3, [r4, #272]
 294:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 295:X-CUBE-AI/App/aiValidation_TFLM.c ****   aiPbMgrSendResp(req, resp, state);
 916              		.loc 2 295 3 is_stmt 1 view .LVU258
 917 0106 4246     		mov	r2, r8
 918 0108 2146     		mov	r1, r4
 919 010a 3046     		mov	r0, r6
 920 010c FFF7FEFF 		bl	aiPbMgrSendResp
 921              	.LVL72:
 296:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 922              		.loc 2 296 1 is_stmt 0 view .LVU259
 923 0110 1BB0     		add	sp, sp, #108
 924              	.LCFI9:
 925              		.cfi_def_cfa_offset 28
 926              		@ sp needed
 927 0112 BDE87087 		pop	{r4, r5, r6, r8, r9, r10, pc}
ARM GAS  /tmp/ccKcsWa4.s 			page 26


 928              	.LVL73:
 929              	.L50:
 930              		.loc 2 296 1 view .LVU260
 931 0116 00BF     		.align	2
 932              	.L49:
 933 0118 00000000 		.word	.LANCHOR0
 934 011c 00000000 		.word	_encode_to_tensor_desc_cb
 935 0120 00000000 		.word	encode_tensor_desc
 936 0124 00000000 		.word	.LANCHOR1
 937              		.cfi_endproc
 938              	.LFE153:
 940              		.section	.text.receive_ai_data,"ax",%progbits
 941              		.align	1
 942              		.syntax unified
 943              		.thumb
 944              		.thumb_func
 945              		.fpu fpv4-sp-d16
 947              	receive_ai_data:
 948              	.LVL74:
 949              	.LFB154:
 297:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 298:X-CUBE-AI/App/aiValidation_TFLM.c **** static bool receive_ai_data(const reqMsg *req, respMsg *resp,
 299:X-CUBE-AI/App/aiValidation_TFLM.c ****     EnumState state, struct tflm_c_tensor_info *buffer, bool first_only, bool direct_write)
 300:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 950              		.loc 2 300 1 is_stmt 1 view -0
 951              		.cfi_startproc
 952              		@ args = 8, pretend = 0, frame = 32
 953              		@ frame_needed = 0, uses_anonymous_args = 0
 954              		.loc 2 300 1 is_stmt 0 view .LVU262
 955 0000 2DE9704F 		push	{r4, r5, r6, r8, r9, r10, fp, lr}
 956              	.LCFI10:
 957              		.cfi_def_cfa_offset 32
 958              		.cfi_offset 4, -32
 959              		.cfi_offset 5, -28
 960              		.cfi_offset 6, -24
 961              		.cfi_offset 8, -20
 962              		.cfi_offset 9, -16
 963              		.cfi_offset 10, -12
 964              		.cfi_offset 11, -8
 965              		.cfi_offset 14, -4
 966 0004 8AB0     		sub	sp, sp, #40
 967              	.LCFI11:
 968              		.cfi_def_cfa_offset 72
 969 0006 0390     		str	r0, [sp, #12]
 970 0008 8846     		mov	r8, r1
 971 000a 1646     		mov	r6, r2
 972 000c 1C46     		mov	r4, r3
 973 000e 9DF848A0 		ldrb	r10, [sp, #72]	@ zero_extendqisi2
 974 0012 9DF84C90 		ldrb	r9, [sp, #76]	@ zero_extendqisi2
 301:X-CUBE-AI/App/aiValidation_TFLM.c ****   bool res = true;
 975              		.loc 2 301 3 is_stmt 1 view .LVU263
 976              	.LVL75:
 302:X-CUBE-AI/App/aiValidation_TFLM.c ****   uint32_t temp;
 977              		.loc 2 302 3 view .LVU264
 303:X-CUBE-AI/App/aiValidation_TFLM.c ****   aiPbData data = { 0, _get_buffer_size(buffer), (uintptr_t)buffer->data, 0};
 978              		.loc 2 303 3 view .LVU265
 979              		.loc 2 303 12 is_stmt 0 view .LVU266
ARM GAS  /tmp/ccKcsWa4.s 			page 27


 980 0016 0025     		movs	r5, #0
 981 0018 0595     		str	r5, [sp, #20]
 982              		.loc 2 303 24 view .LVU267
 983 001a 1846     		mov	r0, r3
 984              	.LVL76:
 985              		.loc 2 303 24 view .LVU268
 986 001c FFF7FEFF 		bl	_get_buffer_size
 987              	.LVL77:
 988              		.loc 2 303 12 view .LVU269
 989 0020 0690     		str	r0, [sp, #24]
 990              		.loc 2 303 67 view .LVU270
 991 0022 E36A     		ldr	r3, [r4, #44]
 992              		.loc 2 303 12 view .LVU271
 993 0024 0793     		str	r3, [sp, #28]
 994 0026 0895     		str	r5, [sp, #32]
 304:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 305:X-CUBE-AI/App/aiValidation_TFLM.c ****   if ((first_only) || (direct_write))
 995              		.loc 2 305 3 is_stmt 1 view .LVU272
 996              		.loc 2 305 6 is_stmt 0 view .LVU273
 997 0028 BAF1000F 		cmp	r10, #0
 998 002c 02D1     		bne	.L52
 999              		.loc 2 305 20 discriminator 1 view .LVU274
 1000 002e B9F1000F 		cmp	r9, #0
 1001 0032 03D0     		beq	.L53
 1002              	.L52:
 306:X-CUBE-AI/App/aiValidation_TFLM.c ****     data.size = _get_element_size(buffer);
 1003              		.loc 2 306 5 is_stmt 1 view .LVU275
 1004              		.loc 2 306 17 is_stmt 0 view .LVU276
 1005 0034 2046     		mov	r0, r4
 1006 0036 FFF7FEFF 		bl	_get_element_size
 1007              	.LVL78:
 1008              		.loc 2 306 15 view .LVU277
 1009 003a 0690     		str	r0, [sp, #24]
 1010              	.L53:
 307:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (direct_write)
 1011              		.loc 2 307 3 is_stmt 1 view .LVU278
 1012              		.loc 2 307 6 is_stmt 0 view .LVU279
 1013 003c B9F1000F 		cmp	r9, #0
 1014 0040 01D0     		beq	.L54
 308:X-CUBE-AI/App/aiValidation_TFLM.c ****     data.addr = (uintptr_t)&temp;
 1015              		.loc 2 308 5 is_stmt 1 view .LVU280
 1016              		.loc 2 308 17 is_stmt 0 view .LVU281
 1017 0042 09AB     		add	r3, sp, #36
 1018              		.loc 2 308 15 view .LVU282
 1019 0044 0793     		str	r3, [sp, #28]
 1020              	.L54:
 309:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 310:X-CUBE-AI/App/aiValidation_TFLM.c ****   aiPbMgrReceiveData(&data);
 1021              		.loc 2 310 3 is_stmt 1 view .LVU283
 1022 0046 05A8     		add	r0, sp, #20
 1023 0048 FFF7FEFF 		bl	aiPbMgrReceiveData
 1024              	.LVL79:
 311:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 312:X-CUBE-AI/App/aiValidation_TFLM.c ****   /* Send ACK and wait ACK (or send ACK only if error) */
 313:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (data.nb_read != data.size) {
 1025              		.loc 2 313 3 view .LVU284
 1026              		.loc 2 313 11 is_stmt 0 view .LVU285
ARM GAS  /tmp/ccKcsWa4.s 			page 28


 1027 004c 089B     		ldr	r3, [sp, #32]
 1028              		.loc 2 313 27 view .LVU286
 1029 004e 069D     		ldr	r5, [sp, #24]
 1030              		.loc 2 313 6 view .LVU287
 1031 0050 AB42     		cmp	r3, r5
 1032 0052 0CD1     		bne	.L62
 314:X-CUBE-AI/App/aiValidation_TFLM.c ****     aiPbMgrSendAck(req, resp, EnumState_S_ERROR,
 315:X-CUBE-AI/App/aiValidation_TFLM.c ****         data.nb_read,
 316:X-CUBE-AI/App/aiValidation_TFLM.c ****         EnumError_E_INVALID_SIZE);
 317:X-CUBE-AI/App/aiValidation_TFLM.c ****     res = false;
 318:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 319:X-CUBE-AI/App/aiValidation_TFLM.c ****   else {
 320:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 321:X-CUBE-AI/App/aiValidation_TFLM.c ****   if ((first_only) && (!direct_write))/* broadcast the value */
 1033              		.loc 2 321 3 is_stmt 1 view .LVU288
 1034              		.loc 2 321 6 is_stmt 0 view .LVU289
 1035 0054 BAF1000F 		cmp	r10, #0
 1036 0058 23D0     		beq	.L57
 1037              		.loc 2 321 20 discriminator 1 view .LVU290
 1038 005a B9F1000F 		cmp	r9, #0
 1039 005e 20D1     		bne	.L57
 1040              	.LBB12:
 322:X-CUBE-AI/App/aiValidation_TFLM.c ****     {
 323:X-CUBE-AI/App/aiValidation_TFLM.c ****       const size_t el_s = data.size;
 1041              		.loc 2 323 7 is_stmt 1 view .LVU291
 1042              	.LVL80:
 324:X-CUBE-AI/App/aiValidation_TFLM.c ****       const uintptr_t r_ptr = (uintptr_t)buffer->data;
 1043              		.loc 2 324 7 view .LVU292
 1044              		.loc 2 324 48 is_stmt 0 view .LVU293
 1045 0060 D4F82CB0 		ldr	fp, [r4, #44]
 1046              	.LVL81:
 325:X-CUBE-AI/App/aiValidation_TFLM.c ****       uintptr_t w_ptr = r_ptr + el_s;
 1047              		.loc 2 325 7 is_stmt 1 view .LVU294
 1048              		.loc 2 325 17 is_stmt 0 view .LVU295
 1049 0064 05EB0B0A 		add	r10, r5, fp
 1050              	.LVL82:
 326:X-CUBE-AI/App/aiValidation_TFLM.c ****       for (size_t pos = 1; pos < _get_buffer_size(buffer) / el_s; pos++)
 1051              		.loc 2 326 7 is_stmt 1 view .LVU296
 1052              	.LBB13:
 1053              		.loc 2 326 12 view .LVU297
 1054              		.loc 2 326 19 is_stmt 0 view .LVU298
 1055 0068 4FF00109 		mov	r9, #1
 1056              		.loc 2 326 7 view .LVU299
 1057 006c 12E0     		b	.L58
 1058              	.LVL83:
 1059              	.L62:
 1060              		.loc 2 326 7 view .LVU300
 1061              	.LBE13:
 1062              	.LBE12:
 314:X-CUBE-AI/App/aiValidation_TFLM.c ****         data.nb_read,
 1063              		.loc 2 314 5 is_stmt 1 view .LVU301
 1064 006e 0122     		movs	r2, #1
 1065 0070 0092     		str	r2, [sp]
 1066 0072 0422     		movs	r2, #4
 1067 0074 4146     		mov	r1, r8
 1068 0076 0398     		ldr	r0, [sp, #12]
 1069 0078 FFF7FEFF 		bl	aiPbMgrSendAck
ARM GAS  /tmp/ccKcsWa4.s 			page 29


 1070              	.LVL84:
 317:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 1071              		.loc 2 317 5 view .LVU302
 317:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 1072              		.loc 2 317 9 is_stmt 0 view .LVU303
 1073 007c 0020     		movs	r0, #0
 1074              	.LVL85:
 1075              	.L56:
 327:X-CUBE-AI/App/aiValidation_TFLM.c ****       {
 328:X-CUBE-AI/App/aiValidation_TFLM.c ****         memcpy((void *)w_ptr, (void *)r_ptr, el_s);
 329:X-CUBE-AI/App/aiValidation_TFLM.c ****         w_ptr += el_s;
 330:X-CUBE-AI/App/aiValidation_TFLM.c ****       }
 331:X-CUBE-AI/App/aiValidation_TFLM.c ****     }
 332:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 333:X-CUBE-AI/App/aiValidation_TFLM.c ****     aiPbMgrSendAck(req, resp, state, data.size, EnumError_E_NONE);
 334:X-CUBE-AI/App/aiValidation_TFLM.c ****     if ((state == EnumState_S_WAITING) ||
 335:X-CUBE-AI/App/aiValidation_TFLM.c ****         (state == EnumState_S_PROCESSING))
 336:X-CUBE-AI/App/aiValidation_TFLM.c ****       aiPbMgrWaitAck();
 337:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 338:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 339:X-CUBE-AI/App/aiValidation_TFLM.c ****   return res;
 1076              		.loc 2 339 3 is_stmt 1 view .LVU304
 340:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 1077              		.loc 2 340 1 is_stmt 0 view .LVU305
 1078 007e 0AB0     		add	sp, sp, #40
 1079              	.LCFI12:
 1080              		.cfi_remember_state
 1081              		.cfi_def_cfa_offset 32
 1082              		@ sp needed
 1083 0080 BDE8708F 		pop	{r4, r5, r6, r8, r9, r10, fp, pc}
 1084              	.LVL86:
 1085              	.L59:
 1086              	.LCFI13:
 1087              		.cfi_restore_state
 1088              	.LBB15:
 1089              	.LBB14:
 328:X-CUBE-AI/App/aiValidation_TFLM.c ****         w_ptr += el_s;
 1090              		.loc 2 328 9 is_stmt 1 discriminator 3 view .LVU306
 1091 0084 2A46     		mov	r2, r5
 1092 0086 5946     		mov	r1, fp
 1093 0088 5046     		mov	r0, r10
 1094 008a FFF7FEFF 		bl	memcpy
 1095              	.LVL87:
 329:X-CUBE-AI/App/aiValidation_TFLM.c ****       }
 1096              		.loc 2 329 9 discriminator 3 view .LVU307
 329:X-CUBE-AI/App/aiValidation_TFLM.c ****       }
 1097              		.loc 2 329 15 is_stmt 0 discriminator 3 view .LVU308
 1098 008e AA44     		add	r10, r10, r5
 1099              	.LVL88:
 326:X-CUBE-AI/App/aiValidation_TFLM.c ****       {
 1100              		.loc 2 326 67 is_stmt 1 discriminator 3 view .LVU309
 326:X-CUBE-AI/App/aiValidation_TFLM.c ****       {
 1101              		.loc 2 326 70 is_stmt 0 discriminator 3 view .LVU310
 1102 0090 09F10109 		add	r9, r9, #1
 1103              	.LVL89:
 1104              	.L58:
 326:X-CUBE-AI/App/aiValidation_TFLM.c ****       {
ARM GAS  /tmp/ccKcsWa4.s 			page 30


 1105              		.loc 2 326 28 is_stmt 1 discriminator 1 view .LVU311
 326:X-CUBE-AI/App/aiValidation_TFLM.c ****       {
 1106              		.loc 2 326 34 is_stmt 0 discriminator 1 view .LVU312
 1107 0094 2046     		mov	r0, r4
 1108 0096 FFF7FEFF 		bl	_get_buffer_size
 1109              	.LVL90:
 326:X-CUBE-AI/App/aiValidation_TFLM.c ****       {
 1110              		.loc 2 326 59 discriminator 1 view .LVU313
 1111 009a B0FBF5F0 		udiv	r0, r0, r5
 326:X-CUBE-AI/App/aiValidation_TFLM.c ****       {
 1112              		.loc 2 326 7 discriminator 1 view .LVU314
 1113 009e 4845     		cmp	r0, r9
 1114 00a0 F0D8     		bhi	.L59
 1115              	.LVL91:
 1116              	.L57:
 326:X-CUBE-AI/App/aiValidation_TFLM.c ****       {
 1117              		.loc 2 326 7 discriminator 1 view .LVU315
 1118              	.LBE14:
 1119              	.LBE15:
 333:X-CUBE-AI/App/aiValidation_TFLM.c ****     if ((state == EnumState_S_WAITING) ||
 1120              		.loc 2 333 5 is_stmt 1 view .LVU316
 1121 00a2 0023     		movs	r3, #0
 1122 00a4 0093     		str	r3, [sp]
 1123 00a6 069B     		ldr	r3, [sp, #24]
 1124 00a8 3246     		mov	r2, r6
 1125 00aa 4146     		mov	r1, r8
 1126 00ac 0398     		ldr	r0, [sp, #12]
 1127 00ae FFF7FEFF 		bl	aiPbMgrSendAck
 1128              	.LVL92:
 334:X-CUBE-AI/App/aiValidation_TFLM.c ****         (state == EnumState_S_PROCESSING))
 1129              		.loc 2 334 5 view .LVU317
 334:X-CUBE-AI/App/aiValidation_TFLM.c ****         (state == EnumState_S_PROCESSING))
 1130              		.loc 2 334 40 is_stmt 0 view .LVU318
 1131 00b2 721E     		subs	r2, r6, #1
 1132 00b4 D2B2     		uxtb	r2, r2
 334:X-CUBE-AI/App/aiValidation_TFLM.c ****         (state == EnumState_S_PROCESSING))
 1133              		.loc 2 334 8 view .LVU319
 1134 00b6 012A     		cmp	r2, #1
 1135 00b8 01D9     		bls	.L63
 301:X-CUBE-AI/App/aiValidation_TFLM.c ****   uint32_t temp;
 1136              		.loc 2 301 8 view .LVU320
 1137 00ba 0120     		movs	r0, #1
 1138 00bc DFE7     		b	.L56
 1139              	.L63:
 336:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 1140              		.loc 2 336 7 is_stmt 1 view .LVU321
 1141 00be FFF7FEFF 		bl	aiPbMgrWaitAck
 1142              	.LVL93:
 301:X-CUBE-AI/App/aiValidation_TFLM.c ****   uint32_t temp;
 1143              		.loc 2 301 8 is_stmt 0 view .LVU322
 1144 00c2 0120     		movs	r0, #1
 1145 00c4 DBE7     		b	.L56
 1146              		.cfi_endproc
 1147              	.LFE154:
 1149              		.section	.text.send_ai_io_tensor,"ax",%progbits
 1150              		.align	1
 1151              		.syntax unified
ARM GAS  /tmp/ccKcsWa4.s 			page 31


 1152              		.thumb
 1153              		.thumb_func
 1154              		.fpu fpv4-sp-d16
 1156              	send_ai_io_tensor:
 1157              	.LVL94:
 1158              	.LFB155:
 341:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 342:X-CUBE-AI/App/aiValidation_TFLM.c **** static bool send_ai_io_tensor(const reqMsg *req, respMsg *resp,
 343:X-CUBE-AI/App/aiValidation_TFLM.c ****     EnumState state, const struct tflm_c_tensor_info *buffer,
 344:X-CUBE-AI/App/aiValidation_TFLM.c ****     const uint32_t flags)
 345:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 1159              		.loc 2 345 1 is_stmt 1 view -0
 1160              		.cfi_startproc
 1161              		@ args = 4, pretend = 0, frame = 32
 1162              		@ frame_needed = 0, uses_anonymous_args = 0
 1163              		.loc 2 345 1 is_stmt 0 view .LVU324
 1164 0000 2DE97047 		push	{r4, r5, r6, r8, r9, r10, lr}
 1165              	.LCFI14:
 1166              		.cfi_def_cfa_offset 28
 1167              		.cfi_offset 4, -28
 1168              		.cfi_offset 5, -24
 1169              		.cfi_offset 6, -20
 1170              		.cfi_offset 8, -16
 1171              		.cfi_offset 9, -12
 1172              		.cfi_offset 10, -8
 1173              		.cfi_offset 14, -4
 1174 0004 89B0     		sub	sp, sp, #36
 1175              	.LCFI15:
 1176              		.cfi_def_cfa_offset 64
 1177 0006 0646     		mov	r6, r0
 1178 0008 0C46     		mov	r4, r1
 1179 000a 9046     		mov	r8, r2
 1180 000c 1D46     		mov	r5, r3
 1181 000e DDF840A0 		ldr	r10, [sp, #64]
 346:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct _encode_uint32 array_u32;
 1182              		.loc 2 346 3 is_stmt 1 view .LVU325
 347:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 348:X-CUBE-AI/App/aiValidation_TFLM.c ****   /* Build the PB message */
 349:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->which_payload = respMsg_tensor_tag;
 1183              		.loc 2 349 3 view .LVU326
 1184              		.loc 2 349 23 is_stmt 0 view .LVU327
 1185 0012 1123     		movs	r3, #17
 1186              	.LVL95:
 1187              		.loc 2 349 23 view .LVU328
 1188 0014 CB80     		strh	r3, [r1, #6]	@ movhi
 350:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 351:X-CUBE-AI/App/aiValidation_TFLM.c ****   /*-- Tensor desc field */
 352:X-CUBE-AI/App/aiValidation_TFLM.c ****   _fill_tensor_desc(&resp->payload.tensor.desc, &array_u32, buffer, flags);
 1189              		.loc 2 352 3 is_stmt 1 view .LVU329
 1190 0016 0DF11409 		add	r9, sp, #20
 1191 001a 5346     		mov	r3, r10
 1192 001c 2A46     		mov	r2, r5
 1193              	.LVL96:
 1194              		.loc 2 352 3 is_stmt 0 view .LVU330
 1195 001e 4946     		mov	r1, r9
 1196              	.LVL97:
 1197              		.loc 2 352 3 view .LVU331
ARM GAS  /tmp/ccKcsWa4.s 			page 32


 1198 0020 04F10800 		add	r0, r4, #8
 1199              	.LVL98:
 1200              		.loc 2 352 3 view .LVU332
 1201 0024 FFF7FEFF 		bl	_fill_tensor_desc
 1202              	.LVL99:
 353:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 354:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.tensor.desc.dims.funcs.encode = encode_uint32;
 1203              		.loc 2 354 3 is_stmt 1 view .LVU333
 1204              		.loc 2 354 47 is_stmt 0 view .LVU334
 1205 0028 124B     		ldr	r3, .L68
 1206 002a 6365     		str	r3, [r4, #84]
 355:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.tensor.desc.dims.arg = &array_u32;
 1207              		.loc 2 355 3 is_stmt 1 view .LVU335
 1208              		.loc 2 355 38 is_stmt 0 view .LVU336
 1209 002c C4F85890 		str	r9, [r4, #88]
 356:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 357:X-CUBE-AI/App/aiValidation_TFLM.c ****   /*-- Data field */
 358:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.tensor.data.addr = (uint32_t)buffer->data;
 1210              		.loc 2 358 3 is_stmt 1 view .LVU337
 1211              		.loc 2 358 52 is_stmt 0 view .LVU338
 1212 0030 D5F82C90 		ldr	r9, [r5, #44]
 1213              		.loc 2 358 34 view .LVU339
 1214 0034 C4F87490 		str	r9, [r4, #116]
 359:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (flags & EnumTensorFlag_TENSOR_FLAG_NO_DATA) {
 1215              		.loc 2 359 3 is_stmt 1 view .LVU340
 1216              		.loc 2 359 6 is_stmt 0 view .LVU341
 1217 0038 1AF4007F 		tst	r10, #512
 1218 003c 15D0     		beq	.L65
 360:X-CUBE-AI/App/aiValidation_TFLM.c ****     resp->payload.tensor.data.size = 0;
 1219              		.loc 2 360 5 is_stmt 1 view .LVU342
 1220              		.loc 2 360 36 is_stmt 0 view .LVU343
 1221 003e 0023     		movs	r3, #0
 1222 0040 2367     		str	r3, [r4, #112]
 1223              	.L66:
 361:X-CUBE-AI/App/aiValidation_TFLM.c ****   } else {
 362:X-CUBE-AI/App/aiValidation_TFLM.c ****     resp->payload.tensor.data.size = _get_buffer_size(buffer);
 363:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 364:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct aiPbData data = { 0, resp->payload.tensor.data.size, resp->payload.tensor.data.addr, 0};
 1224              		.loc 2 364 3 is_stmt 1 view .LVU344
 1225              		.loc 2 364 19 is_stmt 0 view .LVU345
 1226 0042 0023     		movs	r3, #0
 1227 0044 0193     		str	r3, [sp, #4]
 1228              		.loc 2 364 56 view .LVU346
 1229 0046 226F     		ldr	r2, [r4, #112]
 1230              		.loc 2 364 19 view .LVU347
 1231 0048 0292     		str	r2, [sp, #8]
 1232 004a CDF80C90 		str	r9, [sp, #12]
 1233 004e 0493     		str	r3, [sp, #16]
 365:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.tensor.data.datas.funcs.encode = &encode_data_cb;
 1234              		.loc 2 365 3 is_stmt 1 view .LVU348
 1235              		.loc 2 365 48 is_stmt 0 view .LVU349
 1236 0050 094B     		ldr	r3, .L68+4
 1237 0052 A367     		str	r3, [r4, #120]
 366:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.tensor.data.datas.arg = (void *)&data;
 1238              		.loc 2 366 3 is_stmt 1 view .LVU350
 1239              		.loc 2 366 39 is_stmt 0 view .LVU351
 1240 0054 01AB     		add	r3, sp, #4
ARM GAS  /tmp/ccKcsWa4.s 			page 33


 1241 0056 E367     		str	r3, [r4, #124]
 367:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 368:X-CUBE-AI/App/aiValidation_TFLM.c ****   /* Send the PB message */
 369:X-CUBE-AI/App/aiValidation_TFLM.c ****   aiPbMgrSendResp(req, resp, state);
 1242              		.loc 2 369 3 is_stmt 1 view .LVU352
 1243 0058 4246     		mov	r2, r8
 1244 005a 2146     		mov	r1, r4
 1245 005c 3046     		mov	r0, r6
 1246 005e FFF7FEFF 		bl	aiPbMgrSendResp
 1247              	.LVL100:
 370:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 371:X-CUBE-AI/App/aiValidation_TFLM.c ****   return true;
 1248              		.loc 2 371 3 view .LVU353
 372:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 373:X-CUBE-AI/App/aiValidation_TFLM.c **** #if 0
 374:X-CUBE-AI/App/aiValidation_TFLM.c ****   /* Waiting ACK */
 375:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (state == EnumState_S_PROCESSING)
 376:X-CUBE-AI/App/aiValidation_TFLM.c ****     return aiPbMgrWaitAck();
 377:X-CUBE-AI/App/aiValidation_TFLM.c ****   else
 378:X-CUBE-AI/App/aiValidation_TFLM.c ****     return true;
 379:X-CUBE-AI/App/aiValidation_TFLM.c **** #endif
 380:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 1249              		.loc 2 380 1 is_stmt 0 view .LVU354
 1250 0062 0120     		movs	r0, #1
 1251 0064 09B0     		add	sp, sp, #36
 1252              	.LCFI16:
 1253              		.cfi_remember_state
 1254              		.cfi_def_cfa_offset 28
 1255              		@ sp needed
 1256 0066 BDE87087 		pop	{r4, r5, r6, r8, r9, r10, pc}
 1257              	.LVL101:
 1258              	.L65:
 1259              	.LCFI17:
 1260              		.cfi_restore_state
 362:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 1261              		.loc 2 362 5 is_stmt 1 view .LVU355
 362:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 1262              		.loc 2 362 38 is_stmt 0 view .LVU356
 1263 006a 2846     		mov	r0, r5
 1264 006c FFF7FEFF 		bl	_get_buffer_size
 1265              	.LVL102:
 362:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 1266              		.loc 2 362 36 view .LVU357
 1267 0070 2067     		str	r0, [r4, #112]
 1268 0072 E6E7     		b	.L66
 1269              	.L69:
 1270              		.align	2
 1271              	.L68:
 1272 0074 00000000 		.word	encode_uint32
 1273 0078 00000000 		.word	encode_data_cb
 1274              		.cfi_endproc
 1275              	.LFE155:
 1277              		.section	.text._print_debug,"ax",%progbits
 1278              		.align	1
 1279              		.global	_print_debug
 1280              		.syntax unified
 1281              		.thumb
ARM GAS  /tmp/ccKcsWa4.s 			page 34


 1282              		.thumb_func
 1283              		.fpu fpv4-sp-d16
 1285              	_print_debug:
 1286              	.LVL103:
 1287              	.LFB156:
 381:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 382:X-CUBE-AI/App/aiValidation_TFLM.c **** #if defined(HAS_DEDICATED_PRINT_PORT) && HAS_DEDICATED_PRINT_PORT == 1
 383:X-CUBE-AI/App/aiValidation_TFLM.c **** #define PB_LC_PRINT(debug, fmt, ...) LC_PRINT(fmt, ##__VA_ARGS__)
 384:X-CUBE-AI/App/aiValidation_TFLM.c **** #else
 385:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 386:X-CUBE-AI/App/aiValidation_TFLM.c **** #define _PRINT_BUFFER_SIZE  80
 387:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 388:X-CUBE-AI/App/aiValidation_TFLM.c **** static char _print_buffer[_PRINT_BUFFER_SIZE];
 389:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 390:X-CUBE-AI/App/aiValidation_TFLM.c **** void _print_debug(bool debug, const char* fmt, ...)
 391:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 1288              		.loc 2 391 1 is_stmt 1 view -0
 1289              		.cfi_startproc
 1290              		@ args = 4, pretend = 12, frame = 8
 1291              		@ frame_needed = 0, uses_anonymous_args = 1
 392:X-CUBE-AI/App/aiValidation_TFLM.c ****   va_list ap;
 1292              		.loc 2 392 3 view .LVU359
 393:X-CUBE-AI/App/aiValidation_TFLM.c ****   size_t s;
 1293              		.loc 2 393 3 view .LVU360
 394:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 395:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (!debug)
 1294              		.loc 2 395 3 view .LVU361
 1295              		.loc 2 395 6 is_stmt 0 view .LVU362
 1296 0000 00B9     		cbnz	r0, .L81
 1297 0002 7047     		bx	lr
 1298              	.L81:
 391:X-CUBE-AI/App/aiValidation_TFLM.c ****   va_list ap;
 1299              		.loc 2 391 1 view .LVU363
 1300 0004 0EB4     		push	{r1, r2, r3}
 1301              	.LCFI18:
 1302              		.cfi_def_cfa_offset 12
 1303              		.cfi_offset 1, -12
 1304              		.cfi_offset 2, -8
 1305              		.cfi_offset 3, -4
 1306 0006 00B5     		push	{lr}
 1307              	.LCFI19:
 1308              		.cfi_def_cfa_offset 16
 1309              		.cfi_offset 14, -16
 1310 0008 82B0     		sub	sp, sp, #8
 1311              	.LCFI20:
 1312              		.cfi_def_cfa_offset 24
 396:X-CUBE-AI/App/aiValidation_TFLM.c ****     return;
 397:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 398:X-CUBE-AI/App/aiValidation_TFLM.c ****   va_start(ap, fmt);
 1313              		.loc 2 398 3 is_stmt 1 view .LVU364
 1314 000a 04AB     		add	r3, sp, #16
 1315 000c 0193     		str	r3, [sp, #4]
 399:X-CUBE-AI/App/aiValidation_TFLM.c ****   s = LC_VSNPRINT(_print_buffer, _PRINT_BUFFER_SIZE, fmt, ap);
 1316              		.loc 2 399 3 view .LVU365
 1317              		.loc 2 399 7 is_stmt 0 view .LVU366
 1318 000e 039A     		ldr	r2, [sp, #12]
 1319 0010 5021     		movs	r1, #80
ARM GAS  /tmp/ccKcsWa4.s 			page 35


 1320 0012 0D48     		ldr	r0, .L83
 1321              	.LVL104:
 1322              		.loc 2 399 7 view .LVU367
 1323 0014 FFF7FEFF 		bl	lc_vsnprint
 1324              	.LVL105:
 400:X-CUBE-AI/App/aiValidation_TFLM.c ****   va_end(ap);
 1325              		.loc 2 400 3 is_stmt 1 view .LVU368
 401:X-CUBE-AI/App/aiValidation_TFLM.c ****   while (s && s >= 0) {
 1326              		.loc 2 401 3 view .LVU369
 1327              		.loc 2 401 9 is_stmt 0 view .LVU370
 1328 0018 03E0     		b	.L73
 1329              	.L74:
 402:X-CUBE-AI/App/aiValidation_TFLM.c ****     if ((_print_buffer[s] == '\n') || (_print_buffer[s] == '\r'))
 403:X-CUBE-AI/App/aiValidation_TFLM.c ****       _print_buffer[s] = 0;
 1330              		.loc 2 403 7 is_stmt 1 view .LVU371
 1331              		.loc 2 403 24 is_stmt 0 view .LVU372
 1332 001a 0B4B     		ldr	r3, .L83
 1333 001c 0022     		movs	r2, #0
 1334 001e 1A54     		strb	r2, [r3, r0]
 1335              	.L75:
 404:X-CUBE-AI/App/aiValidation_TFLM.c ****     s--;
 1336              		.loc 2 404 5 is_stmt 1 view .LVU373
 1337              		.loc 2 404 6 is_stmt 0 view .LVU374
 1338 0020 0138     		subs	r0, r0, #1
 1339              	.LVL106:
 1340              	.L73:
 401:X-CUBE-AI/App/aiValidation_TFLM.c ****   while (s && s >= 0) {
 1341              		.loc 2 401 9 is_stmt 1 view .LVU375
 1342 0022 30B1     		cbz	r0, .L82
 402:X-CUBE-AI/App/aiValidation_TFLM.c ****     if ((_print_buffer[s] == '\n') || (_print_buffer[s] == '\r'))
 1343              		.loc 2 402 5 view .LVU376
 402:X-CUBE-AI/App/aiValidation_TFLM.c ****     if ((_print_buffer[s] == '\n') || (_print_buffer[s] == '\r'))
 1344              		.loc 2 402 23 is_stmt 0 view .LVU377
 1345 0024 084B     		ldr	r3, .L83
 1346 0026 1B5C     		ldrb	r3, [r3, r0]	@ zero_extendqisi2
 402:X-CUBE-AI/App/aiValidation_TFLM.c ****     if ((_print_buffer[s] == '\n') || (_print_buffer[s] == '\r'))
 1347              		.loc 2 402 8 view .LVU378
 1348 0028 0A2B     		cmp	r3, #10
 1349 002a F6D0     		beq	.L74
 402:X-CUBE-AI/App/aiValidation_TFLM.c ****     if ((_print_buffer[s] == '\n') || (_print_buffer[s] == '\r'))
 1350              		.loc 2 402 36 discriminator 1 view .LVU379
 1351 002c 0D2B     		cmp	r3, #13
 1352 002e F7D1     		bne	.L75
 1353 0030 F3E7     		b	.L74
 1354              	.L82:
 405:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 406:X-CUBE-AI/App/aiValidation_TFLM.c ****   aiPbMgrSendLogV2(EnumState_S_WAITING, 1, &_print_buffer[0]);
 1355              		.loc 2 406 3 is_stmt 1 view .LVU380
 1356 0032 054A     		ldr	r2, .L83
 1357 0034 0121     		movs	r1, #1
 1358 0036 0846     		mov	r0, r1
 1359              	.LVL107:
 1360              		.loc 2 406 3 is_stmt 0 view .LVU381
 1361 0038 FFF7FEFF 		bl	aiPbMgrSendLogV2
 1362              	.LVL108:
 407:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 1363              		.loc 2 407 1 view .LVU382
ARM GAS  /tmp/ccKcsWa4.s 			page 36


 1364 003c 02B0     		add	sp, sp, #8
 1365              	.LCFI21:
 1366              		.cfi_def_cfa_offset 16
 1367              		@ sp needed
 1368 003e 5DF804EB 		ldr	lr, [sp], #4
 1369              	.LCFI22:
 1370              		.cfi_restore 14
 1371              		.cfi_def_cfa_offset 12
 1372 0042 03B0     		add	sp, sp, #12
 1373              	.LCFI23:
 1374              		.cfi_restore 3
 1375              		.cfi_restore 2
 1376              		.cfi_restore 1
 1377              		.cfi_def_cfa_offset 0
 1378 0044 7047     		bx	lr
 1379              	.L84:
 1380 0046 00BF     		.align	2
 1381              	.L83:
 1382 0048 00000000 		.word	.LANCHOR2
 1383              		.cfi_endproc
 1384              	.LFE156:
 1386              		.section	.text.tflm_io_write,"ax",%progbits
 1387              		.align	1
 1388              		.global	tflm_io_write
 1389              		.syntax unified
 1390              		.thumb
 1391              		.thumb_func
 1392              		.fpu fpv4-sp-d16
 1394              	tflm_io_write:
 1395              	.LVL109:
 1396              	.LFB157:
 408:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 409:X-CUBE-AI/App/aiValidation_TFLM.c **** #define PB_LC_PRINT(debug, fmt, ...) _print_debug(debug, fmt, ##__VA_ARGS__)
 410:X-CUBE-AI/App/aiValidation_TFLM.c **** #endif
 411:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 412:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 413:X-CUBE-AI/App/aiValidation_TFLM.c **** /* -----------------------------------------------------------------------------
 414:X-CUBE-AI/App/aiValidation_TFLM.c ****  * object definition/declaration for AI-related execution context
 415:X-CUBE-AI/App/aiValidation_TFLM.c ****  * -----------------------------------------------------------------------------
 416:X-CUBE-AI/App/aiValidation_TFLM.c ****  */
 417:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 418:X-CUBE-AI/App/aiValidation_TFLM.c **** /* Local activations buffer */
 419:X-CUBE-AI/App/aiValidation_TFLM.c **** MEM_ALIGNED(16)
 420:X-CUBE-AI/App/aiValidation_TFLM.c **** static uint8_t tensor_arena[TFLM_NETWORK_TENSOR_AREA_SIZE+32];
 421:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 422:X-CUBE-AI/App/aiValidation_TFLM.c **** extern UART_HandleTypeDef UartHandle;
 423:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 424:X-CUBE-AI/App/aiValidation_TFLM.c **** static bool _allow_uart = true;
 425:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 426:X-CUBE-AI/App/aiValidation_TFLM.c **** #ifdef __cplusplus
 427:X-CUBE-AI/App/aiValidation_TFLM.c **** extern "C"
 428:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 429:X-CUBE-AI/App/aiValidation_TFLM.c **** #endif
 430:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 431:X-CUBE-AI/App/aiValidation_TFLM.c **** int tflm_io_write(const void *buff, uint16_t count)
 432:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 1397              		.loc 2 432 1 is_stmt 1 view -0
ARM GAS  /tmp/ccKcsWa4.s 			page 37


 1398              		.cfi_startproc
 1399              		@ args = 0, pretend = 0, frame = 0
 1400              		@ frame_needed = 0, uses_anonymous_args = 0
 1401              		.loc 2 432 1 is_stmt 0 view .LVU384
 1402 0000 10B5     		push	{r4, lr}
 1403              	.LCFI24:
 1404              		.cfi_def_cfa_offset 8
 1405              		.cfi_offset 4, -8
 1406              		.cfi_offset 14, -4
 1407 0002 0C46     		mov	r4, r1
 433:X-CUBE-AI/App/aiValidation_TFLM.c ****   HAL_StatusTypeDef status;
 1408              		.loc 2 433 3 is_stmt 1 view .LVU385
 434:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 435:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (_allow_uart) {
 1409              		.loc 2 435 3 view .LVU386
 1410              		.loc 2 435 7 is_stmt 0 view .LVU387
 1411 0004 0D4B     		ldr	r3, .L93
 1412 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1413              		.loc 2 435 6 view .LVU388
 1414 0008 2BB9     		cbnz	r3, .L91
 1415              	.LBB16:
 436:X-CUBE-AI/App/aiValidation_TFLM.c ****     status = HAL_UART_Transmit(&UartHandle, (uint8_t *)buff, count, HAL_MAX_DELAY);
 437:X-CUBE-AI/App/aiValidation_TFLM.c ****   } else {
 438:X-CUBE-AI/App/aiValidation_TFLM.c ****     char *pr = (char *)buff;
 1416              		.loc 2 438 5 is_stmt 1 view .LVU389
 1417              	.LVL110:
 439:X-CUBE-AI/App/aiValidation_TFLM.c ****     if (buff && pr[0] != '\r') {
 1418              		.loc 2 439 5 view .LVU390
 1419              		.loc 2 439 8 is_stmt 0 view .LVU391
 1420 000a 10B1     		cbz	r0, .L89
 1421              		.loc 2 439 19 discriminator 1 view .LVU392
 1422 000c 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1423              		.loc 2 439 14 discriminator 1 view .LVU393
 1424 000e 0D2B     		cmp	r3, #13
 1425 0010 0BD1     		bne	.L92
 1426              	.LVL111:
 1427              	.L89:
 440:X-CUBE-AI/App/aiValidation_TFLM.c ****       pr[count] = 0;
 441:X-CUBE-AI/App/aiValidation_TFLM.c ****       aiPbMgrSendLogV2(EnumState_S_ERROR, 0, pr);
 442:X-CUBE-AI/App/aiValidation_TFLM.c ****     }
 443:X-CUBE-AI/App/aiValidation_TFLM.c ****     return count;
 1428              		.loc 2 443 5 is_stmt 1 view .LVU394
 1429              		.loc 2 443 12 is_stmt 0 view .LVU395
 1430 0012 2046     		mov	r0, r4
 1431              	.LVL112:
 1432              	.L85:
 1433              		.loc 2 443 12 view .LVU396
 1434              	.LBE16:
 444:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 445:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 446:X-CUBE-AI/App/aiValidation_TFLM.c ****   return (status == HAL_OK ? count : 0);
 447:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 1435              		.loc 2 447 1 view .LVU397
 1436 0014 10BD     		pop	{r4, pc}
 1437              	.LVL113:
 1438              	.L91:
 436:X-CUBE-AI/App/aiValidation_TFLM.c ****   } else {
ARM GAS  /tmp/ccKcsWa4.s 			page 38


 1439              		.loc 2 436 5 is_stmt 1 view .LVU398
 436:X-CUBE-AI/App/aiValidation_TFLM.c ****   } else {
 1440              		.loc 2 436 14 is_stmt 0 view .LVU399
 1441 0016 4FF0FF33 		mov	r3, #-1
 1442 001a 0A46     		mov	r2, r1
 1443 001c 0146     		mov	r1, r0
 1444              	.LVL114:
 436:X-CUBE-AI/App/aiValidation_TFLM.c ****   } else {
 1445              		.loc 2 436 14 view .LVU400
 1446 001e 0848     		ldr	r0, .L93+4
 1447              	.LVL115:
 436:X-CUBE-AI/App/aiValidation_TFLM.c ****   } else {
 1448              		.loc 2 436 14 view .LVU401
 1449 0020 FFF7FEFF 		bl	HAL_UART_Transmit
 1450              	.LVL116:
 446:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 1451              		.loc 2 446 3 is_stmt 1 view .LVU402
 446:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 1452              		.loc 2 446 36 is_stmt 0 view .LVU403
 1453 0024 40B1     		cbz	r0, .L87
 1454 0026 0020     		movs	r0, #0
 1455              	.LVL117:
 446:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 1456              		.loc 2 446 36 view .LVU404
 1457 0028 F4E7     		b	.L85
 1458              	.LVL118:
 1459              	.L92:
 1460              	.LBB17:
 440:X-CUBE-AI/App/aiValidation_TFLM.c ****       aiPbMgrSendLogV2(EnumState_S_ERROR, 0, pr);
 1461              		.loc 2 440 7 is_stmt 1 view .LVU405
 440:X-CUBE-AI/App/aiValidation_TFLM.c ****       aiPbMgrSendLogV2(EnumState_S_ERROR, 0, pr);
 1462              		.loc 2 440 17 is_stmt 0 view .LVU406
 1463 002a 0021     		movs	r1, #0
 1464              	.LVL119:
 440:X-CUBE-AI/App/aiValidation_TFLM.c ****       aiPbMgrSendLogV2(EnumState_S_ERROR, 0, pr);
 1465              		.loc 2 440 17 view .LVU407
 1466 002c 0155     		strb	r1, [r0, r4]
 441:X-CUBE-AI/App/aiValidation_TFLM.c ****     }
 1467              		.loc 2 441 7 is_stmt 1 view .LVU408
 1468 002e 0246     		mov	r2, r0
 1469 0030 0420     		movs	r0, #4
 1470              	.LVL120:
 441:X-CUBE-AI/App/aiValidation_TFLM.c ****     }
 1471              		.loc 2 441 7 is_stmt 0 view .LVU409
 1472 0032 FFF7FEFF 		bl	aiPbMgrSendLogV2
 1473              	.LVL121:
 441:X-CUBE-AI/App/aiValidation_TFLM.c ****     }
 1474              		.loc 2 441 7 view .LVU410
 1475 0036 ECE7     		b	.L89
 1476              	.LVL122:
 1477              	.L87:
 441:X-CUBE-AI/App/aiValidation_TFLM.c ****     }
 1478              		.loc 2 441 7 view .LVU411
 1479              	.LBE17:
 446:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 1480              		.loc 2 446 36 discriminator 1 view .LVU412
 1481 0038 2046     		mov	r0, r4
ARM GAS  /tmp/ccKcsWa4.s 			page 39


 1482              	.LVL123:
 446:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 1483              		.loc 2 446 36 discriminator 1 view .LVU413
 1484 003a EBE7     		b	.L85
 1485              	.L94:
 1486              		.align	2
 1487              	.L93:
 1488 003c 00000000 		.word	.LANCHOR3
 1489 0040 00000000 		.word	hlpuart1
 1490              		.cfi_endproc
 1491              	.LFE157:
 1493              		.global	__aeabi_f2d
 1494              		.section	.text.log_tensor,"ax",%progbits
 1495              		.align	1
 1496              		.global	log_tensor
 1497              		.syntax unified
 1498              		.thumb
 1499              		.thumb_func
 1500              		.fpu fpv4-sp-d16
 1502              	log_tensor:
 1503              	.LVL124:
 1504              	.LFB158:
 448:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 449:X-CUBE-AI/App/aiValidation_TFLM.c **** #ifdef __cplusplus
 450:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 451:X-CUBE-AI/App/aiValidation_TFLM.c **** #endif
 452:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 453:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 454:X-CUBE-AI/App/aiValidation_TFLM.c **** void log_tensor(struct tflm_c_tensor_info* t_info, int idx)
 455:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 1505              		.loc 2 455 1 is_stmt 1 view -0
 1506              		.cfi_startproc
 1507              		@ args = 0, pretend = 0, frame = 0
 1508              		@ frame_needed = 0, uses_anonymous_args = 0
 1509              		.loc 2 455 1 is_stmt 0 view .LVU415
 1510 0000 30B5     		push	{r4, r5, lr}
 1511              	.LCFI25:
 1512              		.cfi_def_cfa_offset 12
 1513              		.cfi_offset 4, -12
 1514              		.cfi_offset 5, -8
 1515              		.cfi_offset 14, -4
 1516 0002 83B0     		sub	sp, sp, #12
 1517              	.LCFI26:
 1518              		.cfi_def_cfa_offset 24
 1519 0004 0546     		mov	r5, r0
 1520 0006 0C46     		mov	r4, r1
 456:X-CUBE-AI/App/aiValidation_TFLM.c ****   LC_PRINT(" - %d:%s:%d:(", idx,
 1521              		.loc 2 456 3 is_stmt 1 view .LVU416
 1522 0008 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1523              	.LVL125:
 1524              		.loc 2 456 3 is_stmt 0 view .LVU417
 1525 000a FFF7FEFF 		bl	tflm_c_TfLiteTypeGetName
 1526              	.LVL126:
 1527              		.loc 2 456 3 view .LVU418
 1528 000e 0246     		mov	r2, r0
 1529 0010 2B6A     		ldr	r3, [r5, #32]
 1530 0012 2146     		mov	r1, r4
ARM GAS  /tmp/ccKcsWa4.s 			page 40


 1531 0014 1948     		ldr	r0, .L104
 1532 0016 FFF7FEFF 		bl	lc_print
 1533              	.LVL127:
 457:X-CUBE-AI/App/aiValidation_TFLM.c ****       tflm_c_TfLiteTypeGetName(t_info->type), (int)t_info->bytes);
 458:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (size_t i=0; i<t_info->shape.size; i++) {
 1534              		.loc 2 458 3 is_stmt 1 view .LVU419
 1535              	.LBB18:
 1536              		.loc 2 458 8 view .LVU420
 1537              		.loc 2 458 15 is_stmt 0 view .LVU421
 1538 001a 0024     		movs	r4, #0
 1539              	.LVL128:
 1540              		.loc 2 458 3 view .LVU422
 1541 001c 03E0     		b	.L96
 1542              	.LVL129:
 1543              	.L97:
 459:X-CUBE-AI/App/aiValidation_TFLM.c ****     LC_PRINT("%d", t_info->shape.data[i]);
 460:X-CUBE-AI/App/aiValidation_TFLM.c ****     if (i==(t_info->shape.size-1))
 461:X-CUBE-AI/App/aiValidation_TFLM.c ****       LC_PRINT(")");
 462:X-CUBE-AI/App/aiValidation_TFLM.c ****     else
 463:X-CUBE-AI/App/aiValidation_TFLM.c ****       LC_PRINT("x");
 1544              		.loc 2 463 7 is_stmt 1 view .LVU423
 1545 001e 1848     		ldr	r0, .L104+4
 1546 0020 FFF7FEFF 		bl	lc_print
 1547              	.LVL130:
 1548              	.L98:
 458:X-CUBE-AI/App/aiValidation_TFLM.c ****     LC_PRINT("%d", t_info->shape.data[i]);
 1549              		.loc 2 458 42 discriminator 2 view .LVU424
 458:X-CUBE-AI/App/aiValidation_TFLM.c ****     LC_PRINT("%d", t_info->shape.data[i]);
 1550              		.loc 2 458 43 is_stmt 0 discriminator 2 view .LVU425
 1551 0024 0134     		adds	r4, r4, #1
 1552              	.LVL131:
 1553              	.L96:
 458:X-CUBE-AI/App/aiValidation_TFLM.c ****     LC_PRINT("%d", t_info->shape.data[i]);
 1554              		.loc 2 458 20 is_stmt 1 discriminator 1 view .LVU426
 458:X-CUBE-AI/App/aiValidation_TFLM.c ****     LC_PRINT("%d", t_info->shape.data[i]);
 1555              		.loc 2 458 35 is_stmt 0 discriminator 1 view .LVU427
 1556 0026 2B6B     		ldr	r3, [r5, #48]
 458:X-CUBE-AI/App/aiValidation_TFLM.c ****     LC_PRINT("%d", t_info->shape.data[i]);
 1557              		.loc 2 458 3 discriminator 1 view .LVU428
 1558 0028 A342     		cmp	r3, r4
 1559 002a 0FD9     		bls	.L103
 459:X-CUBE-AI/App/aiValidation_TFLM.c ****     LC_PRINT("%d", t_info->shape.data[i]);
 1560              		.loc 2 459 5 is_stmt 1 view .LVU429
 1561 002c 04F10C03 		add	r3, r4, #12
 1562 0030 05EB8303 		add	r3, r5, r3, lsl #2
 1563 0034 5968     		ldr	r1, [r3, #4]
 1564 0036 1348     		ldr	r0, .L104+8
 1565 0038 FFF7FEFF 		bl	lc_print
 1566              	.LVL132:
 460:X-CUBE-AI/App/aiValidation_TFLM.c ****       LC_PRINT(")");
 1567              		.loc 2 460 5 view .LVU430
 460:X-CUBE-AI/App/aiValidation_TFLM.c ****       LC_PRINT(")");
 1568              		.loc 2 460 26 is_stmt 0 view .LVU431
 1569 003c 2B6B     		ldr	r3, [r5, #48]
 460:X-CUBE-AI/App/aiValidation_TFLM.c ****       LC_PRINT(")");
 1570              		.loc 2 460 31 view .LVU432
 1571 003e 013B     		subs	r3, r3, #1
ARM GAS  /tmp/ccKcsWa4.s 			page 41


 460:X-CUBE-AI/App/aiValidation_TFLM.c ****       LC_PRINT(")");
 1572              		.loc 2 460 8 view .LVU433
 1573 0040 A342     		cmp	r3, r4
 1574 0042 ECD1     		bne	.L97
 461:X-CUBE-AI/App/aiValidation_TFLM.c ****     else
 1575              		.loc 2 461 7 is_stmt 1 view .LVU434
 1576 0044 1048     		ldr	r0, .L104+12
 1577 0046 FFF7FEFF 		bl	lc_print
 1578              	.LVL133:
 1579 004a EBE7     		b	.L98
 1580              	.L103:
 1581              	.LBE18:
 464:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 465:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (t_info->scale)
 1582              		.loc 2 465 3 view .LVU435
 1583              		.loc 2 465 13 is_stmt 0 view .LVU436
 1584 004c D5ED097A 		vldr.32	s15, [r5, #36]
 1585              		.loc 2 465 6 view .LVU437
 1586 0050 F5EE407A 		vcmp.f32	s15, #0
 1587 0054 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1588 0058 0CD0     		beq	.L100
 466:X-CUBE-AI/App/aiValidation_TFLM.c ****     LC_PRINT(":s=%f:zp=%d\r\n", (double)t_info->scale, t_info->zero_point);
 1589              		.loc 2 466 5 is_stmt 1 view .LVU438
 1590 005a 17EE900A 		vmov	r0, s15
 1591 005e FFF7FEFF 		bl	__aeabi_f2d
 1592              	.LVL134:
 1593 0062 0246     		mov	r2, r0
 1594 0064 0B46     		mov	r3, r1
 1595 0066 A96A     		ldr	r1, [r5, #40]
 1596 0068 0091     		str	r1, [sp]
 1597 006a 0848     		ldr	r0, .L104+16
 1598 006c FFF7FEFF 		bl	lc_print
 1599              	.LVL135:
 1600              	.L95:
 467:X-CUBE-AI/App/aiValidation_TFLM.c ****   else
 468:X-CUBE-AI/App/aiValidation_TFLM.c ****     LC_PRINT("\r\n");
 469:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 1601              		.loc 2 469 1 is_stmt 0 view .LVU439
 1602 0070 03B0     		add	sp, sp, #12
 1603              	.LCFI27:
 1604              		.cfi_remember_state
 1605              		.cfi_def_cfa_offset 12
 1606              		@ sp needed
 1607 0072 30BD     		pop	{r4, r5, pc}
 1608              	.LVL136:
 1609              	.L100:
 1610              	.LCFI28:
 1611              		.cfi_restore_state
 468:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 1612              		.loc 2 468 5 is_stmt 1 view .LVU440
 1613 0074 0648     		ldr	r0, .L104+20
 1614 0076 FFF7FEFF 		bl	lc_print
 1615              	.LVL137:
 1616              		.loc 2 469 1 is_stmt 0 view .LVU441
 1617 007a F9E7     		b	.L95
 1618              	.L105:
 1619              		.align	2
ARM GAS  /tmp/ccKcsWa4.s 			page 42


 1620              	.L104:
 1621 007c 28000000 		.word	.LANCHOR1+40
 1622 0080 40000000 		.word	.LANCHOR1+64
 1623 0084 38000000 		.word	.LANCHOR1+56
 1624 0088 3C000000 		.word	.LANCHOR1+60
 1625 008c 44000000 		.word	.LANCHOR1+68
 1626 0090 54000000 		.word	.LANCHOR1+84
 1627              		.cfi_endproc
 1628              	.LFE158:
 1630              		.section	.text.aiBootstrap,"ax",%progbits
 1631              		.align	1
 1632              		.syntax unified
 1633              		.thumb
 1634              		.thumb_func
 1635              		.fpu fpv4-sp-d16
 1637              	aiBootstrap:
 1638              	.LVL138:
 1639              	.LFB159:
 470:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 471:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 472:X-CUBE-AI/App/aiValidation_TFLM.c **** /* -----------------------------------------------------------------------------
 473:X-CUBE-AI/App/aiValidation_TFLM.c ****  * AI-related functions
 474:X-CUBE-AI/App/aiValidation_TFLM.c ****  * -----------------------------------------------------------------------------
 475:X-CUBE-AI/App/aiValidation_TFLM.c ****  */
 476:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 477:X-CUBE-AI/App/aiValidation_TFLM.c **** static int aiBootstrap(struct tflm_context *ctx)
 478:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 1640              		.loc 2 478 1 is_stmt 1 view -0
 1641              		.cfi_startproc
 1642              		@ args = 0, pretend = 0, frame = 8
 1643              		@ frame_needed = 0, uses_anonymous_args = 0
 1644              		.loc 2 478 1 is_stmt 0 view .LVU443
 1645 0000 2DE97041 		push	{r4, r5, r6, r8, lr}
 1646              	.LCFI29:
 1647              		.cfi_def_cfa_offset 20
 1648              		.cfi_offset 4, -20
 1649              		.cfi_offset 5, -16
 1650              		.cfi_offset 6, -12
 1651              		.cfi_offset 8, -8
 1652              		.cfi_offset 14, -4
 1653 0004 83B0     		sub	sp, sp, #12
 1654              	.LCFI30:
 1655              		.cfi_def_cfa_offset 32
 1656 0006 0446     		mov	r4, r0
 479:X-CUBE-AI/App/aiValidation_TFLM.c ****   TfLiteStatus res;
 1657              		.loc 2 479 3 is_stmt 1 view .LVU444
 480:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct tflm_c_version ver;
 1658              		.loc 2 480 3 view .LVU445
 481:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 482:X-CUBE-AI/App/aiValidation_TFLM.c ****   /* Creating an instance of the network ------------------------- */
 483:X-CUBE-AI/App/aiValidation_TFLM.c ****   LC_PRINT("\r\nInstancing the network (TFLM)..\r\n");
 1659              		.loc 2 483 3 view .LVU446
 1660 0008 5048     		ldr	r0, .L116
 1661              	.LVL139:
 1662              		.loc 2 483 3 is_stmt 0 view .LVU447
 1663 000a FFF7FEFF 		bl	lc_print
 1664              	.LVL140:
ARM GAS  /tmp/ccKcsWa4.s 			page 43


 484:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 485:X-CUBE-AI/App/aiValidation_TFLM.c ****   /* TFLm runtime expects that the tensor arena is aligned on 16-bytes */
 486:X-CUBE-AI/App/aiValidation_TFLM.c ****   uint32_t uaddr = (uint32_t)tensor_arena;
 1665              		.loc 2 486 3 is_stmt 1 view .LVU448
 487:X-CUBE-AI/App/aiValidation_TFLM.c ****   uaddr = (uaddr + (16 - 1)) & (uint32_t)(-16);  // Round up to 16-byte boundary
 1666              		.loc 2 487 3 view .LVU449
 1667              		.loc 2 487 18 is_stmt 0 view .LVU450
 1668 000e 504E     		ldr	r6, .L116+4
 1669              		.loc 2 487 9 view .LVU451
 1670 0010 26F00F06 		bic	r6, r6, #15
 1671              	.LVL141:
 488:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 489:X-CUBE-AI/App/aiValidation_TFLM.c ****   MON_ALLOC_RESET();
 1672              		.loc 2 489 3 is_stmt 1 view .LVU452
 1673 0014 FFF7FEFF 		bl	_mon_alloc_reset
 1674              	.LVL142:
 490:X-CUBE-AI/App/aiValidation_TFLM.c ****   MON_ALLOC_ENABLE();
 1675              		.loc 2 490 3 view .LVU453
 1676 0018 4E4D     		ldr	r5, .L116+8
 1677 001a 2B68     		ldr	r3, [r5]
 1678 001c 43F00103 		orr	r3, r3, #1
 1679 0020 2B60     		str	r3, [r5]
 491:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 492:X-CUBE-AI/App/aiValidation_TFLM.c ****   res = tflm_c_create(g_tflm_network_model_data, (uint8_t*)uaddr,
 1680              		.loc 2 492 3 view .LVU454
 1681              		.loc 2 492 9 is_stmt 0 view .LVU455
 1682 0022 231D     		adds	r3, r4, #4
 1683 0024 4AF2C002 		movw	r2, #41152
 1684 0028 3146     		mov	r1, r6
 1685 002a 4B48     		ldr	r0, .L116+12
 1686 002c FFF7FEFF 		bl	tflm_c_create
 1687              	.LVL143:
 493:X-CUBE-AI/App/aiValidation_TFLM.c ****           TFLM_NETWORK_TENSOR_AREA_SIZE, &ctx->hdl);
 494:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 495:X-CUBE-AI/App/aiValidation_TFLM.c ****   MON_ALLOC_DISABLE();
 1688              		.loc 2 495 3 is_stmt 1 view .LVU456
 1689 0030 2B68     		ldr	r3, [r5]
 1690 0032 23F00103 		bic	r3, r3, #1
 1691 0036 2B60     		str	r3, [r5]
 496:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 497:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (res != kTfLiteOk) {
 1692              		.loc 2 497 3 view .LVU457
 1693              		.loc 2 497 6 is_stmt 0 view .LVU458
 1694 0038 0028     		cmp	r0, #0
 1695 003a 5ED1     		bne	.L114
 498:X-CUBE-AI/App/aiValidation_TFLM.c ****     ctx->hdl = 0;
 499:X-CUBE-AI/App/aiValidation_TFLM.c ****     ctx->error = -1;
 500:X-CUBE-AI/App/aiValidation_TFLM.c ****     return -1;
 501:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 502:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 503:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->name = _model_name;
 1696              		.loc 2 503 3 is_stmt 1 view .LVU459
 1697              		.loc 2 503 13 is_stmt 0 view .LVU460
 1698 003c DFF82881 		ldr	r8, .L116+28
 1699 0040 D8F80030 		ldr	r3, [r8]
 1700 0044 2360     		str	r3, [r4]
 504:X-CUBE-AI/App/aiValidation_TFLM.c ****   _prepare_tensor_infos(ctx);
ARM GAS  /tmp/ccKcsWa4.s 			page 44


 1701              		.loc 2 504 3 is_stmt 1 view .LVU461
 1702 0046 2046     		mov	r0, r4
 1703              	.LVL144:
 1704              		.loc 2 504 3 is_stmt 0 view .LVU462
 1705 0048 FFF7FEFF 		bl	_prepare_tensor_infos
 1706              	.LVL145:
 505:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 506:X-CUBE-AI/App/aiValidation_TFLM.c ****   tflm_c_rt_version(&ver);
 1707              		.loc 2 506 3 is_stmt 1 view .LVU463
 1708 004c 01A8     		add	r0, sp, #4
 1709 004e FFF7FEFF 		bl	tflm_c_rt_version
 1710              	.LVL146:
 507:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 508:X-CUBE-AI/App/aiValidation_TFLM.c ****   LC_PRINT(" TFLM version       : %d.%d.%d\r\n", (int)ver.major, (int)ver.minor, (int)ver.patch);
 1711              		.loc 2 508 3 view .LVU464
 1712 0052 424D     		ldr	r5, .L116+16
 1713 0054 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 1714 0058 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 1715 005c 9DF80410 		ldrb	r1, [sp, #4]	@ zero_extendqisi2
 1716 0060 05F17C00 		add	r0, r5, #124
 1717 0064 FFF7FEFF 		bl	lc_print
 1718              	.LVL147:
 509:X-CUBE-AI/App/aiValidation_TFLM.c ****   LC_PRINT(" Network name       : %s\r\n", _model_name);
 1719              		.loc 2 509 3 view .LVU465
 1720 0068 D8F80010 		ldr	r1, [r8]
 1721 006c 05F1A000 		add	r0, r5, #160
 1722 0070 FFF7FEFF 		bl	lc_print
 1723              	.LVL148:
 510:X-CUBE-AI/App/aiValidation_TFLM.c ****   LC_PRINT(" TFLite file        : 0x%08x (%d bytes)\r\n", (int)g_tflm_network_model_data, (int)g_tf
 1724              		.loc 2 510 3 view .LVU466
 1725 0074 3A4B     		ldr	r3, .L116+20
 1726 0076 1A68     		ldr	r2, [r3]
 1727 0078 3749     		ldr	r1, .L116+12
 1728 007a 05F1BC00 		add	r0, r5, #188
 1729 007e FFF7FEFF 		bl	lc_print
 1730              	.LVL149:
 511:X-CUBE-AI/App/aiValidation_TFLM.c ****   LC_PRINT(" Arena location     : 0x%08x\r\n", (int)uaddr);
 1731              		.loc 2 511 3 view .LVU467
 1732 0082 3146     		mov	r1, r6
 1733 0084 05F1E800 		add	r0, r5, #232
 1734 0088 FFF7FEFF 		bl	lc_print
 1735              	.LVL150:
 512:X-CUBE-AI/App/aiValidation_TFLM.c ****   LC_PRINT(" Opcode size        : %d\r\n", (int)tflm_c_operator_codes_size(ctx->hdl));
 1736              		.loc 2 512 3 view .LVU468
 1737 008c 6068     		ldr	r0, [r4, #4]
 1738 008e FFF7FEFF 		bl	tflm_c_operator_codes_size
 1739              	.LVL151:
 1740 0092 0146     		mov	r1, r0
 1741 0094 05F58470 		add	r0, r5, #264
 1742 0098 FFF7FEFF 		bl	lc_print
 1743              	.LVL152:
 513:X-CUBE-AI/App/aiValidation_TFLM.c ****   LC_PRINT(" Operator size      : %d\r\n", (int)tflm_c_operators_size(ctx->hdl));
 1744              		.loc 2 513 3 view .LVU469
 1745 009c 6068     		ldr	r0, [r4, #4]
 1746 009e FFF7FEFF 		bl	tflm_c_operators_size
 1747              	.LVL153:
 1748 00a2 0146     		mov	r1, r0
ARM GAS  /tmp/ccKcsWa4.s 			page 45


 1749 00a4 05F59270 		add	r0, r5, #292
 1750 00a8 FFF7FEFF 		bl	lc_print
 1751              	.LVL154:
 514:X-CUBE-AI/App/aiValidation_TFLM.c ****   LC_PRINT(" Tensor size        : %d\r\n", (int)tflm_c_tensors_size(ctx->hdl));
 1752              		.loc 2 514 3 view .LVU470
 1753 00ac 6068     		ldr	r0, [r4, #4]
 1754 00ae FFF7FEFF 		bl	tflm_c_tensors_size
 1755              	.LVL155:
 1756 00b2 0146     		mov	r1, r0
 1757 00b4 05F5A070 		add	r0, r5, #320
 1758 00b8 FFF7FEFF 		bl	lc_print
 1759              	.LVL156:
 515:X-CUBE-AI/App/aiValidation_TFLM.c ****   LC_PRINT(" Allocated size     : %d / %d\r\n", (int)tflm_c_arena_used_bytes(ctx->hdl),
 1760              		.loc 2 515 3 view .LVU471
 1761 00bc 6068     		ldr	r0, [r4, #4]
 1762 00be FFF7FEFF 		bl	tflm_c_arena_used_bytes
 1763              	.LVL157:
 1764 00c2 0146     		mov	r1, r0
 1765 00c4 4AF2C002 		movw	r2, #41152
 1766 00c8 05F5AE70 		add	r0, r5, #348
 1767 00cc FFF7FEFF 		bl	lc_print
 1768              	.LVL158:
 516:X-CUBE-AI/App/aiValidation_TFLM.c ****       TFLM_NETWORK_TENSOR_AREA_SIZE);
 517:X-CUBE-AI/App/aiValidation_TFLM.c ****   LC_PRINT(" Inputs size        : %d\r\n", (int)tflm_c_inputs_size(ctx->hdl));
 1769              		.loc 2 517 3 view .LVU472
 1770 00d0 6068     		ldr	r0, [r4, #4]
 1771 00d2 FFF7FEFF 		bl	tflm_c_inputs_size
 1772              	.LVL159:
 1773 00d6 0146     		mov	r1, r0
 1774 00d8 05F5BE70 		add	r0, r5, #380
 1775 00dc FFF7FEFF 		bl	lc_print
 1776              	.LVL160:
 518:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int i=0; i<ctx->n_inputs; i++) {
 1777              		.loc 2 518 3 view .LVU473
 1778              	.LBB19:
 1779              		.loc 2 518 8 view .LVU474
 1780              		.loc 2 518 12 is_stmt 0 view .LVU475
 1781 00e0 0025     		movs	r5, #0
 1782              	.LVL161:
 1783              	.L109:
 1784              		.loc 2 518 17 is_stmt 1 discriminator 1 view .LVU476
 1785              		.loc 2 518 22 is_stmt 0 discriminator 1 view .LVU477
 1786 00e2 A368     		ldr	r3, [r4, #8]
 1787              		.loc 2 518 3 discriminator 1 view .LVU478
 1788 00e4 AB42     		cmp	r3, r5
 1789 00e6 0FD9     		bls	.L115
 519:X-CUBE-AI/App/aiValidation_TFLM.c ****     log_tensor(&ctx->inputs[i], i);
 1790              		.loc 2 519 5 is_stmt 1 discriminator 3 view .LVU479
 1791              		.loc 2 519 20 is_stmt 0 discriminator 3 view .LVU480
 1792 00e8 2369     		ldr	r3, [r4, #16]
 1793              		.loc 2 519 5 discriminator 3 view .LVU481
 1794 00ea 2946     		mov	r1, r5
 1795 00ec 4C20     		movs	r0, #76
 1796 00ee 00FB0530 		mla	r0, r0, r5, r3
 1797 00f2 FFF7FEFF 		bl	log_tensor
 1798              	.LVL162:
 518:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int i=0; i<ctx->n_inputs; i++) {
ARM GAS  /tmp/ccKcsWa4.s 			page 46


 1799              		.loc 2 518 34 is_stmt 1 discriminator 3 view .LVU482
 518:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int i=0; i<ctx->n_inputs; i++) {
 1800              		.loc 2 518 35 is_stmt 0 discriminator 3 view .LVU483
 1801 00f6 0135     		adds	r5, r5, #1
 1802              	.LVL163:
 518:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int i=0; i<ctx->n_inputs; i++) {
 1803              		.loc 2 518 35 discriminator 3 view .LVU484
 1804 00f8 F3E7     		b	.L109
 1805              	.LVL164:
 1806              	.L114:
 518:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int i=0; i<ctx->n_inputs; i++) {
 1807              		.loc 2 518 35 discriminator 3 view .LVU485
 1808              	.LBE19:
 498:X-CUBE-AI/App/aiValidation_TFLM.c ****     ctx->error = -1;
 1809              		.loc 2 498 5 is_stmt 1 view .LVU486
 498:X-CUBE-AI/App/aiValidation_TFLM.c ****     ctx->error = -1;
 1810              		.loc 2 498 14 is_stmt 0 view .LVU487
 1811 00fa 0023     		movs	r3, #0
 1812 00fc 6360     		str	r3, [r4, #4]
 499:X-CUBE-AI/App/aiValidation_TFLM.c ****     return -1;
 1813              		.loc 2 499 5 is_stmt 1 view .LVU488
 499:X-CUBE-AI/App/aiValidation_TFLM.c ****     return -1;
 1814              		.loc 2 499 16 is_stmt 0 view .LVU489
 1815 00fe 4FF0FF30 		mov	r0, #-1
 1816              	.LVL165:
 499:X-CUBE-AI/App/aiValidation_TFLM.c ****     return -1;
 1817              		.loc 2 499 16 view .LVU490
 1818 0102 C4F8B000 		str	r0, [r4, #176]
 500:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 1819              		.loc 2 500 5 is_stmt 1 view .LVU491
 500:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 1820              		.loc 2 500 12 is_stmt 0 view .LVU492
 1821 0106 1EE0     		b	.L106
 1822              	.LVL166:
 1823              	.L115:
 520:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 521:X-CUBE-AI/App/aiValidation_TFLM.c ****   LC_PRINT(" Outputs size       : %d\r\n", (int)tflm_c_outputs_size(ctx->hdl));
 1824              		.loc 2 521 3 is_stmt 1 view .LVU493
 1825 0108 6068     		ldr	r0, [r4, #4]
 1826 010a FFF7FEFF 		bl	tflm_c_outputs_size
 1827              	.LVL167:
 1828 010e 0146     		mov	r1, r0
 1829 0110 1448     		ldr	r0, .L116+24
 1830 0112 FFF7FEFF 		bl	lc_print
 1831              	.LVL168:
 522:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int i=0; i<ctx->n_outputs; i++) {
 1832              		.loc 2 522 3 view .LVU494
 1833              	.LBB20:
 1834              		.loc 2 522 8 view .LVU495
 1835              		.loc 2 522 12 is_stmt 0 view .LVU496
 1836 0116 0025     		movs	r5, #0
 1837              	.LVL169:
 1838              		.loc 2 522 3 view .LVU497
 1839 0118 07E0     		b	.L111
 1840              	.LVL170:
 1841              	.L112:
 523:X-CUBE-AI/App/aiValidation_TFLM.c ****     log_tensor(&ctx->outputs[i], i);
ARM GAS  /tmp/ccKcsWa4.s 			page 47


 1842              		.loc 2 523 5 is_stmt 1 discriminator 3 view .LVU498
 1843              		.loc 2 523 20 is_stmt 0 discriminator 3 view .LVU499
 1844 011a 6369     		ldr	r3, [r4, #20]
 1845              		.loc 2 523 5 discriminator 3 view .LVU500
 1846 011c 2946     		mov	r1, r5
 1847 011e 4C20     		movs	r0, #76
 1848 0120 00FB0530 		mla	r0, r0, r5, r3
 1849 0124 FFF7FEFF 		bl	log_tensor
 1850              	.LVL171:
 522:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int i=0; i<ctx->n_outputs; i++) {
 1851              		.loc 2 522 35 is_stmt 1 discriminator 3 view .LVU501
 522:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int i=0; i<ctx->n_outputs; i++) {
 1852              		.loc 2 522 36 is_stmt 0 discriminator 3 view .LVU502
 1853 0128 0135     		adds	r5, r5, #1
 1854              	.LVL172:
 1855              	.L111:
 522:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int i=0; i<ctx->n_outputs; i++) {
 1856              		.loc 2 522 17 is_stmt 1 discriminator 1 view .LVU503
 522:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int i=0; i<ctx->n_outputs; i++) {
 1857              		.loc 2 522 22 is_stmt 0 discriminator 1 view .LVU504
 1858 012a E368     		ldr	r3, [r4, #12]
 522:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int i=0; i<ctx->n_outputs; i++) {
 1859              		.loc 2 522 3 discriminator 1 view .LVU505
 1860 012c AB42     		cmp	r3, r5
 1861 012e F4D8     		bhi	.L112
 1862              	.LBE20:
 524:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 525:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 526:X-CUBE-AI/App/aiValidation_TFLM.c **** #if defined(_APP_HEAP_MONITOR_) && _APP_HEAP_MONITOR_ == 1
 527:X-CUBE-AI/App/aiValidation_TFLM.c ****   LC_PRINT(" Used heap          : %d bytes (max=%d bytes) (for c-wrapper %s)\r\n",
 1863              		.loc 2 527 3 is_stmt 1 view .LVU506
 1864 0130 0849     		ldr	r1, .L116+8
 1865 0132 0A48     		ldr	r0, .L116+16
 1866 0134 00F5DA73 		add	r3, r0, #436
 1867 0138 4A69     		ldr	r2, [r1, #20]
 1868 013a 8969     		ldr	r1, [r1, #24]
 1869 013c 00F5DC70 		add	r0, r0, #440
 1870 0140 FFF7FEFF 		bl	lc_print
 1871              	.LVL173:
 528:X-CUBE-AI/App/aiValidation_TFLM.c ****       MON_ALLOC_USED(), MON_ALLOC_MAX_USED(), TFLM_C_VERSION_STR);
 529:X-CUBE-AI/App/aiValidation_TFLM.c **** #endif
 530:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 531:X-CUBE-AI/App/aiValidation_TFLM.c ****   return 0;
 1872              		.loc 2 531 3 view .LVU507
 1873              		.loc 2 531 10 is_stmt 0 view .LVU508
 1874 0144 0020     		movs	r0, #0
 1875              	.LVL174:
 1876              	.L106:
 532:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 1877              		.loc 2 532 1 view .LVU509
 1878 0146 03B0     		add	sp, sp, #12
 1879              	.LCFI31:
 1880              		.cfi_def_cfa_offset 20
 1881              		@ sp needed
 1882 0148 BDE87081 		pop	{r4, r5, r6, r8, pc}
 1883              	.LVL175:
 1884              	.L117:
ARM GAS  /tmp/ccKcsWa4.s 			page 48


 1885              		.loc 2 532 1 view .LVU510
 1886              		.align	2
 1887              	.L116:
 1888 014c 58000000 		.word	.LANCHOR1+88
 1889 0150 0F000000 		.word	tensor_arena+15
 1890 0154 00000000 		.word	io_malloc
 1891 0158 00000000 		.word	g_tflm_network_model_data
 1892 015c 00000000 		.word	.LANCHOR1
 1893 0160 00000000 		.word	g_tflm_network_model_data_len
 1894 0164 98010000 		.word	.LANCHOR1+408
 1895 0168 00000000 		.word	.LANCHOR0
 1896              		.cfi_endproc
 1897              	.LFE159:
 1899              		.section	.text.aiDone,"ax",%progbits
 1900              		.align	1
 1901              		.syntax unified
 1902              		.thumb
 1903              		.thumb_func
 1904              		.fpu fpv4-sp-d16
 1906              	aiDone:
 1907              	.LVL176:
 1908              	.LFB160:
 533:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 534:X-CUBE-AI/App/aiValidation_TFLM.c **** static void aiDone(struct tflm_context *ctx)
 535:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 1909              		.loc 2 535 1 is_stmt 1 view -0
 1910              		.cfi_startproc
 1911              		@ args = 0, pretend = 0, frame = 0
 1912              		@ frame_needed = 0, uses_anonymous_args = 0
 1913              		.loc 2 535 1 is_stmt 0 view .LVU512
 1914 0000 10B5     		push	{r4, lr}
 1915              	.LCFI32:
 1916              		.cfi_def_cfa_offset 8
 1917              		.cfi_offset 4, -8
 1918              		.cfi_offset 14, -4
 1919 0002 0446     		mov	r4, r0
 536:X-CUBE-AI/App/aiValidation_TFLM.c ****   /* Releasing the instance(s) ------------------------------------- */
 537:X-CUBE-AI/App/aiValidation_TFLM.c ****   LC_PRINT("Releasing the instance...\r\n");
 1920              		.loc 2 537 3 is_stmt 1 view .LVU513
 1921 0004 0848     		ldr	r0, .L122
 1922              	.LVL177:
 1923              		.loc 2 537 3 is_stmt 0 view .LVU514
 1924 0006 FFF7FEFF 		bl	lc_print
 1925              	.LVL178:
 538:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 539:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (ctx->hdl != 0) {
 1926              		.loc 2 539 3 is_stmt 1 view .LVU515
 1927              		.loc 2 539 10 is_stmt 0 view .LVU516
 1928 000a 6368     		ldr	r3, [r4, #4]
 1929              		.loc 2 539 6 view .LVU517
 1930 000c 03B9     		cbnz	r3, .L121
 1931              	.L118:
 540:X-CUBE-AI/App/aiValidation_TFLM.c ****     free(ctx->inputs);
 541:X-CUBE-AI/App/aiValidation_TFLM.c ****     free(ctx->outputs);
 542:X-CUBE-AI/App/aiValidation_TFLM.c ****     tflm_c_destroy(ctx->hdl);
 543:X-CUBE-AI/App/aiValidation_TFLM.c ****     ctx->hdl = 0;
 544:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
ARM GAS  /tmp/ccKcsWa4.s 			page 49


 545:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 1932              		.loc 2 545 1 view .LVU518
 1933 000e 10BD     		pop	{r4, pc}
 1934              	.LVL179:
 1935              	.L121:
 540:X-CUBE-AI/App/aiValidation_TFLM.c ****     free(ctx->inputs);
 1936              		.loc 2 540 5 is_stmt 1 view .LVU519
 1937 0010 2069     		ldr	r0, [r4, #16]
 1938 0012 FFF7FEFF 		bl	free
 1939              	.LVL180:
 541:X-CUBE-AI/App/aiValidation_TFLM.c ****     tflm_c_destroy(ctx->hdl);
 1940              		.loc 2 541 5 view .LVU520
 1941 0016 6069     		ldr	r0, [r4, #20]
 1942 0018 FFF7FEFF 		bl	free
 1943              	.LVL181:
 542:X-CUBE-AI/App/aiValidation_TFLM.c ****     ctx->hdl = 0;
 1944              		.loc 2 542 5 view .LVU521
 1945 001c 6068     		ldr	r0, [r4, #4]
 1946 001e FFF7FEFF 		bl	tflm_c_destroy
 1947              	.LVL182:
 543:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 1948              		.loc 2 543 5 view .LVU522
 543:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 1949              		.loc 2 543 14 is_stmt 0 view .LVU523
 1950 0022 0023     		movs	r3, #0
 1951 0024 6360     		str	r3, [r4, #4]
 1952              		.loc 2 545 1 view .LVU524
 1953 0026 F2E7     		b	.L118
 1954              	.L123:
 1955              		.align	2
 1956              	.L122:
 1957 0028 FC010000 		.word	.LANCHOR1+508
 1958              		.cfi_endproc
 1959              	.LFE160:
 1961              		.section	.text.aiInit,"ax",%progbits
 1962              		.align	1
 1963              		.syntax unified
 1964              		.thumb
 1965              		.thumb_func
 1966              		.fpu fpv4-sp-d16
 1968              	aiInit:
 1969              	.LFB161:
 546:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 547:X-CUBE-AI/App/aiValidation_TFLM.c **** static int aiInit(void)
 548:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 1970              		.loc 2 548 1 is_stmt 1 view -0
 1971              		.cfi_startproc
 1972              		@ args = 0, pretend = 0, frame = 0
 1973              		@ frame_needed = 0, uses_anonymous_args = 0
 1974 0000 08B5     		push	{r3, lr}
 1975              	.LCFI33:
 1976              		.cfi_def_cfa_offset 8
 1977              		.cfi_offset 3, -8
 1978              		.cfi_offset 14, -4
 549:X-CUBE-AI/App/aiValidation_TFLM.c ****   int res;
 1979              		.loc 2 549 3 view .LVU526
 550:X-CUBE-AI/App/aiValidation_TFLM.c **** 
ARM GAS  /tmp/ccKcsWa4.s 			page 50


 551:X-CUBE-AI/App/aiValidation_TFLM.c ****   net_exec_ctx[0].hdl = 0;
 1980              		.loc 2 551 3 view .LVU527
 1981              		.loc 2 551 23 is_stmt 0 view .LVU528
 1982 0002 0348     		ldr	r0, .L126
 1983 0004 0023     		movs	r3, #0
 1984 0006 4360     		str	r3, [r0, #4]
 552:X-CUBE-AI/App/aiValidation_TFLM.c ****   res = aiBootstrap(&net_exec_ctx[0]);
 1985              		.loc 2 552 3 is_stmt 1 view .LVU529
 1986              		.loc 2 552 9 is_stmt 0 view .LVU530
 1987 0008 FFF7FEFF 		bl	aiBootstrap
 1988              	.LVL183:
 553:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 554:X-CUBE-AI/App/aiValidation_TFLM.c ****   return res;
 1989              		.loc 2 554 3 is_stmt 1 view .LVU531
 555:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 1990              		.loc 2 555 1 is_stmt 0 view .LVU532
 1991 000c 08BD     		pop	{r3, pc}
 1992              	.L127:
 1993 000e 00BF     		.align	2
 1994              	.L126:
 1995 0010 00000000 		.word	.LANCHOR4
 1996              		.cfi_endproc
 1997              	.LFE161:
 1999              		.section	.text.aiDeInit,"ax",%progbits
 2000              		.align	1
 2001              		.syntax unified
 2002              		.thumb
 2003              		.thumb_func
 2004              		.fpu fpv4-sp-d16
 2006              	aiDeInit:
 2007              	.LFB162:
 556:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 557:X-CUBE-AI/App/aiValidation_TFLM.c **** static void aiDeInit(void)
 558:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 2008              		.loc 2 558 1 is_stmt 1 view -0
 2009              		.cfi_startproc
 2010              		@ args = 0, pretend = 0, frame = 0
 2011              		@ frame_needed = 0, uses_anonymous_args = 0
 2012 0000 08B5     		push	{r3, lr}
 2013              	.LCFI34:
 2014              		.cfi_def_cfa_offset 8
 2015              		.cfi_offset 3, -8
 2016              		.cfi_offset 14, -4
 559:X-CUBE-AI/App/aiValidation_TFLM.c ****   aiDone(&net_exec_ctx[0]);
 2017              		.loc 2 559 3 view .LVU534
 2018 0002 0248     		ldr	r0, .L130
 2019 0004 FFF7FEFF 		bl	aiDone
 2020              	.LVL184:
 560:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 2021              		.loc 2 560 1 is_stmt 0 view .LVU535
 2022 0008 08BD     		pop	{r3, pc}
 2023              	.L131:
 2024 000a 00BF     		.align	2
 2025              	.L130:
 2026 000c 00000000 		.word	.LANCHOR4
 2027              		.cfi_endproc
 2028              	.LFE162:
ARM GAS  /tmp/ccKcsWa4.s 			page 51


 2030              		.section	.text.aiPbCmdSysInfo,"ax",%progbits
 2031              		.align	1
 2032              		.global	aiPbCmdSysInfo
 2033              		.syntax unified
 2034              		.thumb
 2035              		.thumb_func
 2036              		.fpu fpv4-sp-d16
 2038              	aiPbCmdSysInfo:
 2039              	.LVL185:
 2040              	.LFB163:
 561:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 562:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 563:X-CUBE-AI/App/aiValidation_TFLM.c **** /* -----------------------------------------------------------------------------
 564:X-CUBE-AI/App/aiValidation_TFLM.c ****  * Specific test APP commands
 565:X-CUBE-AI/App/aiValidation_TFLM.c ****  * -----------------------------------------------------------------------------
 566:X-CUBE-AI/App/aiValidation_TFLM.c ****  */
 567:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 568:X-CUBE-AI/App/aiValidation_TFLM.c **** void aiPbCmdSysInfo(const reqMsg *req, respMsg *resp, void *param)
 569:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 2041              		.loc 2 569 1 is_stmt 1 view -0
 2042              		.cfi_startproc
 2043              		@ args = 0, pretend = 0, frame = 24
 2044              		@ frame_needed = 0, uses_anonymous_args = 0
 2045              		.loc 2 569 1 is_stmt 0 view .LVU537
 2046 0000 30B5     		push	{r4, r5, lr}
 2047              	.LCFI35:
 2048              		.cfi_def_cfa_offset 12
 2049              		.cfi_offset 4, -12
 2050              		.cfi_offset 5, -8
 2051              		.cfi_offset 14, -4
 2052 0002 87B0     		sub	sp, sp, #28
 2053              	.LCFI36:
 2054              		.cfi_def_cfa_offset 40
 2055 0004 0546     		mov	r5, r0
 2056 0006 0C46     		mov	r4, r1
 570:X-CUBE-AI/App/aiValidation_TFLM.c ****   UNUSED(param);
 2057              		.loc 2 570 3 is_stmt 1 view .LVU538
 571:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct mcu_conf conf;
 2058              		.loc 2 571 3 view .LVU539
 572:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 573:X-CUBE-AI/App/aiValidation_TFLM.c ****   getSysConf(&conf);
 2059              		.loc 2 573 3 view .LVU540
 2060 0008 01A8     		add	r0, sp, #4
 2061              	.LVL186:
 2062              		.loc 2 573 3 is_stmt 0 view .LVU541
 2063 000a FFF7FEFF 		bl	getSysConf
 2064              	.LVL187:
 574:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 575:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->which_payload = respMsg_sinfo_tag;
 2065              		.loc 2 575 3 is_stmt 1 view .LVU542
 2066              		.loc 2 575 23 is_stmt 0 view .LVU543
 2067 000e 0B23     		movs	r3, #11
 2068 0010 E380     		strh	r3, [r4, #6]	@ movhi
 576:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 577:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.sinfo.devid = conf.devid;
 2069              		.loc 2 577 3 is_stmt 1 view .LVU544
 2070              		.loc 2 577 35 is_stmt 0 view .LVU545
ARM GAS  /tmp/ccKcsWa4.s 			page 52


 2071 0012 049B     		ldr	r3, [sp, #16]
 2072              		.loc 2 577 29 view .LVU546
 2073 0014 A360     		str	r3, [r4, #8]
 578:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.sinfo.sclock = conf.sclk;
 2074              		.loc 2 578 3 is_stmt 1 view .LVU547
 2075              		.loc 2 578 36 is_stmt 0 view .LVU548
 2076 0016 019B     		ldr	r3, [sp, #4]
 2077              		.loc 2 578 30 view .LVU549
 2078 0018 E360     		str	r3, [r4, #12]
 579:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.sinfo.hclock = conf.hclk;
 2079              		.loc 2 579 3 is_stmt 1 view .LVU550
 2080              		.loc 2 579 36 is_stmt 0 view .LVU551
 2081 001a 029B     		ldr	r3, [sp, #8]
 2082              		.loc 2 579 30 view .LVU552
 2083 001c 2361     		str	r3, [r4, #16]
 580:X-CUBE-AI/App/aiValidation_TFLM.c ****   resp->payload.sinfo.cache = conf.conf;
 2084              		.loc 2 580 3 is_stmt 1 view .LVU553
 2085              		.loc 2 580 35 is_stmt 0 view .LVU554
 2086 001e 039B     		ldr	r3, [sp, #12]
 2087              		.loc 2 580 29 view .LVU555
 2088 0020 6361     		str	r3, [r4, #20]
 581:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 582:X-CUBE-AI/App/aiValidation_TFLM.c ****   aiPbMgrSendResp(req, resp, EnumState_S_IDLE);
 2089              		.loc 2 582 3 is_stmt 1 view .LVU556
 2090 0022 0022     		movs	r2, #0
 2091 0024 2146     		mov	r1, r4
 2092 0026 2846     		mov	r0, r5
 2093 0028 FFF7FEFF 		bl	aiPbMgrSendResp
 2094              	.LVL188:
 583:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 2095              		.loc 2 583 1 is_stmt 0 view .LVU557
 2096 002c 07B0     		add	sp, sp, #28
 2097              	.LCFI37:
 2098              		.cfi_def_cfa_offset 12
 2099              		@ sp needed
 2100 002e 30BD     		pop	{r4, r5, pc}
 2101              		.loc 2 583 1 view .LVU558
 2102              		.cfi_endproc
 2103              	.LFE163:
 2105              		.section	.text.aiPbCmdNNInfo,"ax",%progbits
 2106              		.align	1
 2107              		.global	aiPbCmdNNInfo
 2108              		.syntax unified
 2109              		.thumb
 2110              		.thumb_func
 2111              		.fpu fpv4-sp-d16
 2113              	aiPbCmdNNInfo:
 2114              	.LVL189:
 2115              	.LFB164:
 584:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 585:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 586:X-CUBE-AI/App/aiValidation_TFLM.c **** void aiPbCmdNNInfo(const reqMsg *req, respMsg *resp, void *param)
 587:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 2116              		.loc 2 587 1 is_stmt 1 view -0
 2117              		.cfi_startproc
 2118              		@ args = 0, pretend = 0, frame = 0
 2119              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccKcsWa4.s 			page 53


 2120              		.loc 2 587 1 is_stmt 0 view .LVU560
 2121 0000 00B5     		push	{lr}
 2122              	.LCFI38:
 2123              		.cfi_def_cfa_offset 4
 2124              		.cfi_offset 14, -4
 2125 0002 83B0     		sub	sp, sp, #12
 2126              	.LCFI39:
 2127              		.cfi_def_cfa_offset 16
 588:X-CUBE-AI/App/aiValidation_TFLM.c ****   UNUSED(param);
 2128              		.loc 2 588 3 is_stmt 1 view .LVU561
 589:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 590:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (net_exec_ctx[0].hdl && req->param == 0)
 2129              		.loc 2 590 3 view .LVU562
 2130              		.loc 2 590 22 is_stmt 0 view .LVU563
 2131 0004 0E4B     		ldr	r3, .L140
 2132 0006 5B68     		ldr	r3, [r3, #4]
 2133              		.loc 2 590 6 view .LVU564
 2134 0008 0BB1     		cbz	r3, .L135
 2135              		.loc 2 590 33 discriminator 1 view .LVU565
 2136 000a 8368     		ldr	r3, [r0, #8]
 2137              		.loc 2 590 27 discriminator 1 view .LVU566
 2138 000c 4BB1     		cbz	r3, .L139
 2139              	.L135:
 591:X-CUBE-AI/App/aiValidation_TFLM.c ****     send_model_info(req, resp, EnumState_S_IDLE, &net_exec_ctx[0]);
 592:X-CUBE-AI/App/aiValidation_TFLM.c ****   else {
 593:X-CUBE-AI/App/aiValidation_TFLM.c ****     if (req->param > 0)
 2140              		.loc 2 593 5 is_stmt 1 view .LVU567
 2141              		.loc 2 593 12 is_stmt 0 view .LVU568
 2142 000e 8368     		ldr	r3, [r0, #8]
 2143              		.loc 2 593 8 view .LVU569
 2144 0010 63B1     		cbz	r3, .L137
 594:X-CUBE-AI/App/aiValidation_TFLM.c ****       aiPbMgrSendAck(req, resp, EnumState_S_ERROR,
 2145              		.loc 2 594 7 is_stmt 1 view .LVU570
 2146 0012 0422     		movs	r2, #4
 2147              	.LVL190:
 2148              		.loc 2 594 7 is_stmt 0 view .LVU571
 2149 0014 0092     		str	r2, [sp]
 2150 0016 1346     		mov	r3, r2
 2151 0018 FFF7FEFF 		bl	aiPbMgrSendAck
 2152              	.LVL191:
 2153              	.L134:
 595:X-CUBE-AI/App/aiValidation_TFLM.c ****                 EnumError_E_INVALID_PARAM, EnumError_E_INVALID_PARAM);
 596:X-CUBE-AI/App/aiValidation_TFLM.c ****     else
 597:X-CUBE-AI/App/aiValidation_TFLM.c ****       aiPbMgrSendAck(req, resp, EnumState_S_ERROR,
 598:X-CUBE-AI/App/aiValidation_TFLM.c ****           net_exec_ctx[0].error, EnumError_E_GENERIC);
 599:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 600:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 2154              		.loc 2 600 1 view .LVU572
 2155 001c 03B0     		add	sp, sp, #12
 2156              	.LCFI40:
 2157              		.cfi_remember_state
 2158              		.cfi_def_cfa_offset 4
 2159              		@ sp needed
 2160 001e 5DF804FB 		ldr	pc, [sp], #4
 2161              	.LVL192:
 2162              	.L139:
 2163              	.LCFI41:
ARM GAS  /tmp/ccKcsWa4.s 			page 54


 2164              		.cfi_restore_state
 591:X-CUBE-AI/App/aiValidation_TFLM.c ****   else {
 2165              		.loc 2 591 5 is_stmt 1 view .LVU573
 2166 0022 074B     		ldr	r3, .L140
 2167 0024 0022     		movs	r2, #0
 2168              	.LVL193:
 591:X-CUBE-AI/App/aiValidation_TFLM.c ****   else {
 2169              		.loc 2 591 5 is_stmt 0 view .LVU574
 2170 0026 FFF7FEFF 		bl	send_model_info
 2171              	.LVL194:
 591:X-CUBE-AI/App/aiValidation_TFLM.c ****   else {
 2172              		.loc 2 591 5 view .LVU575
 2173 002a F7E7     		b	.L134
 2174              	.LVL195:
 2175              	.L137:
 597:X-CUBE-AI/App/aiValidation_TFLM.c ****           net_exec_ctx[0].error, EnumError_E_GENERIC);
 2176              		.loc 2 597 7 is_stmt 1 view .LVU576
 2177 002c 0A23     		movs	r3, #10
 2178 002e 0093     		str	r3, [sp]
 2179 0030 034B     		ldr	r3, .L140
 2180 0032 D3F8B030 		ldr	r3, [r3, #176]
 2181 0036 0422     		movs	r2, #4
 2182              	.LVL196:
 597:X-CUBE-AI/App/aiValidation_TFLM.c ****           net_exec_ctx[0].error, EnumError_E_GENERIC);
 2183              		.loc 2 597 7 is_stmt 0 view .LVU577
 2184 0038 FFF7FEFF 		bl	aiPbMgrSendAck
 2185              	.LVL197:
 2186              		.loc 2 600 1 view .LVU578
 2187 003c EEE7     		b	.L134
 2188              	.L141:
 2189 003e 00BF     		.align	2
 2190              	.L140:
 2191 0040 00000000 		.word	.LANCHOR4
 2192              		.cfi_endproc
 2193              	.LFE164:
 2195              		.global	__aeabi_uldivmod
 2196              		.section	.text.aiPbCmdNNRun,"ax",%progbits
 2197              		.align	1
 2198              		.global	aiPbCmdNNRun
 2199              		.syntax unified
 2200              		.thumb
 2201              		.thumb_func
 2202              		.fpu fpv4-sp-d16
 2204              	aiPbCmdNNRun:
 2205              	.LVL198:
 2206              	.LFB165:
 601:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 602:X-CUBE-AI/App/aiValidation_TFLM.c **** void aiPbCmdNNRun(const reqMsg *req, respMsg *resp, void *param)
 603:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 2207              		.loc 2 603 1 is_stmt 1 view -0
 2208              		.cfi_startproc
 2209              		@ args = 0, pretend = 0, frame = 32
 2210              		@ frame_needed = 0, uses_anonymous_args = 0
 2211              		.loc 2 603 1 is_stmt 0 view .LVU580
 2212 0000 2DE9704F 		push	{r4, r5, r6, r8, r9, r10, fp, lr}
 2213              	.LCFI42:
 2214              		.cfi_def_cfa_offset 32
ARM GAS  /tmp/ccKcsWa4.s 			page 55


 2215              		.cfi_offset 4, -32
 2216              		.cfi_offset 5, -28
 2217              		.cfi_offset 6, -24
 2218              		.cfi_offset 8, -20
 2219              		.cfi_offset 9, -16
 2220              		.cfi_offset 10, -12
 2221              		.cfi_offset 11, -8
 2222              		.cfi_offset 14, -4
 2223 0004 8CB0     		sub	sp, sp, #48
 2224              	.LCFI43:
 2225              		.cfi_def_cfa_offset 80
 2226 0006 0446     		mov	r4, r0
 2227 0008 0D46     		mov	r5, r1
 604:X-CUBE-AI/App/aiValidation_TFLM.c ****   TfLiteStatus tflm_res;
 2228              		.loc 2 604 3 is_stmt 1 view .LVU581
 605:X-CUBE-AI/App/aiValidation_TFLM.c ****   uint64_t tend;
 2229              		.loc 2 605 3 view .LVU582
 606:X-CUBE-AI/App/aiValidation_TFLM.c ****   bool res;
 2230              		.loc 2 606 3 view .LVU583
 607:X-CUBE-AI/App/aiValidation_TFLM.c ****   UNUSED(param);
 2231              		.loc 2 607 3 view .LVU584
 608:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 609:X-CUBE-AI/App/aiValidation_TFLM.c ****   struct tflm_context *ctx = &net_exec_ctx[0];
 2232              		.loc 2 609 3 view .LVU585
 2233              	.LVL199:
 610:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 611:X-CUBE-AI/App/aiValidation_TFLM.c ****   /* 0 - Check if requested c-name model is available -------------- */
 612:X-CUBE-AI/App/aiValidation_TFLM.c ****   if ((ctx->hdl == 0) ||
 2234              		.loc 2 612 3 view .LVU586
 2235              		.loc 2 612 11 is_stmt 0 view .LVU587
 2236 000a 694B     		ldr	r3, .L163
 2237 000c 5B68     		ldr	r3, [r3, #4]
 2238              		.loc 2 612 6 view .LVU588
 2239 000e 73B1     		cbz	r3, .L143
 613:X-CUBE-AI/App/aiValidation_TFLM.c ****       (strncmp(ctx->name, req->name, strlen(ctx->name)) != 0)) {
 2240              		.loc 2 613 19 discriminator 1 view .LVU589
 2241 0010 674B     		ldr	r3, .L163
 2242 0012 D3F80080 		ldr	r8, [r3]
 2243              		.loc 2 613 30 discriminator 1 view .LVU590
 2244 0016 00F10C06 		add	r6, r0, #12
 2245              		.loc 2 613 8 discriminator 1 view .LVU591
 2246 001a 4046     		mov	r0, r8
 2247              	.LVL200:
 2248              		.loc 2 613 8 discriminator 1 view .LVU592
 2249 001c FFF7FEFF 		bl	strlen
 2250              	.LVL201:
 2251              		.loc 2 613 8 discriminator 1 view .LVU593
 2252 0020 0246     		mov	r2, r0
 2253 0022 3146     		mov	r1, r6
 2254 0024 4046     		mov	r0, r8
 2255 0026 FFF7FEFF 		bl	strncmp
 2256              	.LVL202:
 612:X-CUBE-AI/App/aiValidation_TFLM.c ****       (strncmp(ctx->name, req->name, strlen(ctx->name)) != 0)) {
 2257              		.loc 2 612 23 discriminator 1 view .LVU594
 2258 002a 0646     		mov	r6, r0
 2259 002c 48B1     		cbz	r0, .L144
 2260              	.L143:
ARM GAS  /tmp/ccKcsWa4.s 			page 56


 614:X-CUBE-AI/App/aiValidation_TFLM.c ****     aiPbMgrSendAck(req, resp, EnumState_S_ERROR,
 2261              		.loc 2 614 5 is_stmt 1 view .LVU595
 2262 002e 0422     		movs	r2, #4
 2263 0030 0092     		str	r2, [sp]
 2264 0032 1346     		mov	r3, r2
 2265 0034 2946     		mov	r1, r5
 2266 0036 2046     		mov	r0, r4
 2267 0038 FFF7FEFF 		bl	aiPbMgrSendAck
 2268              	.LVL203:
 615:X-CUBE-AI/App/aiValidation_TFLM.c ****         EnumError_E_INVALID_PARAM, EnumError_E_INVALID_PARAM);
 616:X-CUBE-AI/App/aiValidation_TFLM.c ****     return;
 2269              		.loc 2 616 5 view .LVU596
 2270              	.L142:
 617:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 618:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 619:X-CUBE-AI/App/aiValidation_TFLM.c ****   ctx->debug = req->param & EnumRunParam_P_RUN_CONF_DEBUG?true:false;
 620:X-CUBE-AI/App/aiValidation_TFLM.c ****   bool first_only = req->param & EnumRunParam_P_RUN_CONF_SAME_VALUE?true:false;
 621:X-CUBE-AI/App/aiValidation_TFLM.c ****   bool direct_write = req->param & EnumRunParam_P_RUN_CONF_DIRECT_WRITE?true:false;
 622:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 623:X-CUBE-AI/App/aiValidation_TFLM.c ****   PB_LC_PRINT(ctx->debug, "RUN: Waiting data.. opt=0x%x, param=0x%x\r\n", req->opt, req->param);
 624:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 625:X-CUBE-AI/App/aiValidation_TFLM.c ****   /* 1 - Send a ACK (ready to receive a tensor) -------------------- */
 626:X-CUBE-AI/App/aiValidation_TFLM.c ****   aiPbMgrSendAck(req, resp, EnumState_S_WAITING, ctx->inputs[0].bytes,
 627:X-CUBE-AI/App/aiValidation_TFLM.c ****       EnumError_E_NONE);
 628:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 629:X-CUBE-AI/App/aiValidation_TFLM.c ****   /* 2 - Receive all input tensors --------------------------------- */
 630:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int i = 0; i < ctx->n_inputs; i++) {
 631:X-CUBE-AI/App/aiValidation_TFLM.c ****     /* upload a buffer */
 632:X-CUBE-AI/App/aiValidation_TFLM.c ****     EnumState state = EnumState_S_WAITING;
 633:X-CUBE-AI/App/aiValidation_TFLM.c ****     if ((i + 1) == ctx->n_inputs)
 634:X-CUBE-AI/App/aiValidation_TFLM.c ****       state = EnumState_S_PROCESSING;
 635:X-CUBE-AI/App/aiValidation_TFLM.c ****     res = receive_ai_data(req, resp, state, &ctx->inputs[i], first_only, direct_write);
 636:X-CUBE-AI/App/aiValidation_TFLM.c ****     if (res != true)
 637:X-CUBE-AI/App/aiValidation_TFLM.c ****       return;
 638:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 639:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 640:X-CUBE-AI/App/aiValidation_TFLM.c ****   /* 3 - Processing ------------------------------------------------ */
 641:X-CUBE-AI/App/aiValidation_TFLM.c ****   cyclesCounterStart();
 642:X-CUBE-AI/App/aiValidation_TFLM.c ****   tflm_res = tflm_c_invoke(ctx->hdl);
 643:X-CUBE-AI/App/aiValidation_TFLM.c ****   tend = cyclesCounterEnd();
 644:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 645:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (tflm_res != kTfLiteOk) {
 646:X-CUBE-AI/App/aiValidation_TFLM.c ****     aiPbMgrSendAck(req, resp, EnumState_S_ERROR,
 647:X-CUBE-AI/App/aiValidation_TFLM.c ****         EnumError_E_GENERIC, EnumError_E_GENERIC);
 648:X-CUBE-AI/App/aiValidation_TFLM.c ****     return;
 649:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 650:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 651:X-CUBE-AI/App/aiValidation_TFLM.c ****   /* 4 - Send basic report (optional) ------------------------------ */
 652:X-CUBE-AI/App/aiValidation_TFLM.c ****   aiOpPerf perf = {dwtCyclesToFloatMs(tend), 0,  2, (uint32_t *)&tend};
 653:X-CUBE-AI/App/aiValidation_TFLM.c ****   aiPbMgrSendOperator(req, resp, EnumState_S_PROCESSING, ctx->name, 0, 0, &perf);
 654:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 655:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 656:X-CUBE-AI/App/aiValidation_TFLM.c ****   /* 5 - Send all output tensors ----------------------------------- */
 657:X-CUBE-AI/App/aiValidation_TFLM.c ****   for (int i = 0; i < ctx->n_outputs; i++) {
 658:X-CUBE-AI/App/aiValidation_TFLM.c ****     EnumState state = EnumState_S_PROCESSING;
 659:X-CUBE-AI/App/aiValidation_TFLM.c ****     uint32_t flags =  EnumTensorFlag_TENSOR_FLAG_OUTPUT;
 660:X-CUBE-AI/App/aiValidation_TFLM.c ****     if (req->param & EnumRunParam_P_RUN_MODE_PERF) {
ARM GAS  /tmp/ccKcsWa4.s 			page 57


 661:X-CUBE-AI/App/aiValidation_TFLM.c ****       flags |= EnumTensorFlag_TENSOR_FLAG_NO_DATA;
 662:X-CUBE-AI/App/aiValidation_TFLM.c ****     }
 663:X-CUBE-AI/App/aiValidation_TFLM.c ****     if ((i + 1) == ctx->n_outputs) {
 664:X-CUBE-AI/App/aiValidation_TFLM.c ****       state = EnumState_S_DONE;
 665:X-CUBE-AI/App/aiValidation_TFLM.c ****       flags |= EnumTensorFlag_TENSOR_FLAG_LAST;
 666:X-CUBE-AI/App/aiValidation_TFLM.c ****     }
 667:X-CUBE-AI/App/aiValidation_TFLM.c ****     send_ai_io_tensor(req, resp, state, &ctx->outputs[i], flags);
 668:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 669:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 2271              		.loc 2 669 1 is_stmt 0 view .LVU597
 2272 003c 0CB0     		add	sp, sp, #48
 2273              	.LCFI44:
 2274              		.cfi_remember_state
 2275              		.cfi_def_cfa_offset 32
 2276              		@ sp needed
 2277 003e BDE8708F 		pop	{r4, r5, r6, r8, r9, r10, fp, pc}
 2278              	.LVL204:
 2279              	.L144:
 2280              	.LCFI45:
 2281              		.cfi_restore_state
 619:X-CUBE-AI/App/aiValidation_TFLM.c ****   bool first_only = req->param & EnumRunParam_P_RUN_CONF_SAME_VALUE?true:false;
 2282              		.loc 2 619 3 is_stmt 1 view .LVU598
 619:X-CUBE-AI/App/aiValidation_TFLM.c ****   bool first_only = req->param & EnumRunParam_P_RUN_CONF_SAME_VALUE?true:false;
 2283              		.loc 2 619 19 is_stmt 0 view .LVU599
 2284 0042 A068     		ldr	r0, [r4, #8]
 619:X-CUBE-AI/App/aiValidation_TFLM.c ****   bool first_only = req->param & EnumRunParam_P_RUN_CONF_SAME_VALUE?true:false;
 2285              		.loc 2 619 63 view .LVU600
 2286 0044 C0F30020 		ubfx	r0, r0, #8, #1
 619:X-CUBE-AI/App/aiValidation_TFLM.c ****   bool first_only = req->param & EnumRunParam_P_RUN_CONF_SAME_VALUE?true:false;
 2287              		.loc 2 619 14 view .LVU601
 2288 0048 DFF86481 		ldr	r8, .L163
 2289 004c 88F8B400 		strb	r0, [r8, #180]
 620:X-CUBE-AI/App/aiValidation_TFLM.c ****   bool direct_write = req->param & EnumRunParam_P_RUN_CONF_DIRECT_WRITE?true:false;
 2290              		.loc 2 620 3 is_stmt 1 view .LVU602
 620:X-CUBE-AI/App/aiValidation_TFLM.c ****   bool direct_write = req->param & EnumRunParam_P_RUN_CONF_DIRECT_WRITE?true:false;
 2291              		.loc 2 620 24 is_stmt 0 view .LVU603
 2292 0050 A368     		ldr	r3, [r4, #8]
 620:X-CUBE-AI/App/aiValidation_TFLM.c ****   bool direct_write = req->param & EnumRunParam_P_RUN_CONF_DIRECT_WRITE?true:false;
 2293              		.loc 2 620 8 view .LVU604
 2294 0052 C3F3402A 		ubfx	r10, r3, #9, #1
 2295              	.LVL205:
 621:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 2296              		.loc 2 621 3 is_stmt 1 view .LVU605
 621:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 2297              		.loc 2 621 8 is_stmt 0 view .LVU606
 2298 0056 C3F38029 		ubfx	r9, r3, #10, #1
 2299              	.LVL206:
 623:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 2300              		.loc 2 623 3 is_stmt 1 view .LVU607
 2301 005a E26C     		ldr	r2, [r4, #76]
 2302 005c 5549     		ldr	r1, .L163+4
 2303 005e FFF7FEFF 		bl	_print_debug
 2304              	.LVL207:
 626:X-CUBE-AI/App/aiValidation_TFLM.c ****       EnumError_E_NONE);
 2305              		.loc 2 626 3 view .LVU608
 626:X-CUBE-AI/App/aiValidation_TFLM.c ****       EnumError_E_NONE);
 2306              		.loc 2 626 53 is_stmt 0 view .LVU609
ARM GAS  /tmp/ccKcsWa4.s 			page 58


 2307 0062 D8F81030 		ldr	r3, [r8, #16]
 626:X-CUBE-AI/App/aiValidation_TFLM.c ****       EnumError_E_NONE);
 2308              		.loc 2 626 64 view .LVU610
 2309 0066 1B6A     		ldr	r3, [r3, #32]
 626:X-CUBE-AI/App/aiValidation_TFLM.c ****       EnumError_E_NONE);
 2310              		.loc 2 626 3 view .LVU611
 2311 0068 0022     		movs	r2, #0
 2312 006a 0092     		str	r2, [sp]
 2313 006c 0122     		movs	r2, #1
 2314 006e 2946     		mov	r1, r5
 2315 0070 2046     		mov	r0, r4
 2316 0072 FFF7FEFF 		bl	aiPbMgrSendAck
 2317              	.LVL208:
 630:X-CUBE-AI/App/aiValidation_TFLM.c ****     /* upload a buffer */
 2318              		.loc 2 630 3 is_stmt 1 view .LVU612
 2319              	.LBB29:
 630:X-CUBE-AI/App/aiValidation_TFLM.c ****     /* upload a buffer */
 2320              		.loc 2 630 8 view .LVU613
 630:X-CUBE-AI/App/aiValidation_TFLM.c ****     /* upload a buffer */
 2321              		.loc 2 630 12 is_stmt 0 view .LVU614
 2322 0076 B046     		mov	r8, r6
 630:X-CUBE-AI/App/aiValidation_TFLM.c ****     /* upload a buffer */
 2323              		.loc 2 630 3 view .LVU615
 2324 0078 0FE0     		b	.L146
 2325              	.LVL209:
 2326              	.L156:
 2327              	.LBB30:
 634:X-CUBE-AI/App/aiValidation_TFLM.c ****     res = receive_ai_data(req, resp, state, &ctx->inputs[i], first_only, direct_write);
 2328              		.loc 2 634 13 view .LVU616
 2329 007a 0222     		movs	r2, #2
 2330              	.L147:
 2331              	.LVL210:
 635:X-CUBE-AI/App/aiValidation_TFLM.c ****     if (res != true)
 2332              		.loc 2 635 5 is_stmt 1 view .LVU617
 635:X-CUBE-AI/App/aiValidation_TFLM.c ****     if (res != true)
 2333              		.loc 2 635 49 is_stmt 0 view .LVU618
 2334 007c 4C4B     		ldr	r3, .L163
 2335 007e 1B69     		ldr	r3, [r3, #16]
 635:X-CUBE-AI/App/aiValidation_TFLM.c ****     if (res != true)
 2336              		.loc 2 635 11 view .LVU619
 2337 0080 CDF80490 		str	r9, [sp, #4]
 2338 0084 CDF800A0 		str	r10, [sp]
 2339 0088 4C20     		movs	r0, #76
 2340 008a 00FB0133 		mla	r3, r0, r1, r3
 2341 008e 2946     		mov	r1, r5
 2342              	.LVL211:
 635:X-CUBE-AI/App/aiValidation_TFLM.c ****     if (res != true)
 2343              		.loc 2 635 11 view .LVU620
 2344 0090 2046     		mov	r0, r4
 2345 0092 FFF7FEFF 		bl	receive_ai_data
 2346              	.LVL212:
 636:X-CUBE-AI/App/aiValidation_TFLM.c ****       return;
 2347              		.loc 2 636 5 is_stmt 1 view .LVU621
 636:X-CUBE-AI/App/aiValidation_TFLM.c ****       return;
 2348              		.loc 2 636 8 is_stmt 0 view .LVU622
 2349 0096 0028     		cmp	r0, #0
 2350 0098 D0D0     		beq	.L142
ARM GAS  /tmp/ccKcsWa4.s 			page 59


 2351              	.LVL213:
 2352              	.L146:
 636:X-CUBE-AI/App/aiValidation_TFLM.c ****       return;
 2353              		.loc 2 636 8 view .LVU623
 2354              	.LBE30:
 630:X-CUBE-AI/App/aiValidation_TFLM.c ****     /* upload a buffer */
 2355              		.loc 2 630 19 is_stmt 1 discriminator 1 view .LVU624
 630:X-CUBE-AI/App/aiValidation_TFLM.c ****     /* upload a buffer */
 2356              		.loc 2 630 26 is_stmt 0 discriminator 1 view .LVU625
 2357 009a 454B     		ldr	r3, .L163
 2358 009c 9A68     		ldr	r2, [r3, #8]
 630:X-CUBE-AI/App/aiValidation_TFLM.c ****     /* upload a buffer */
 2359              		.loc 2 630 21 discriminator 1 view .LVU626
 2360 009e 4146     		mov	r1, r8
 630:X-CUBE-AI/App/aiValidation_TFLM.c ****     /* upload a buffer */
 2361              		.loc 2 630 3 discriminator 1 view .LVU627
 2362 00a0 4245     		cmp	r2, r8
 2363 00a2 05D9     		bls	.L160
 2364              	.LBB31:
 632:X-CUBE-AI/App/aiValidation_TFLM.c ****     if ((i + 1) == ctx->n_inputs)
 2365              		.loc 2 632 5 is_stmt 1 view .LVU628
 2366              	.LVL214:
 633:X-CUBE-AI/App/aiValidation_TFLM.c ****       state = EnumState_S_PROCESSING;
 2367              		.loc 2 633 5 view .LVU629
 633:X-CUBE-AI/App/aiValidation_TFLM.c ****       state = EnumState_S_PROCESSING;
 2368              		.loc 2 633 12 is_stmt 0 view .LVU630
 2369 00a4 08F10108 		add	r8, r8, #1
 2370              	.LVL215:
 633:X-CUBE-AI/App/aiValidation_TFLM.c ****       state = EnumState_S_PROCESSING;
 2371              		.loc 2 633 8 view .LVU631
 2372 00a8 9045     		cmp	r8, r2
 2373 00aa E6D0     		beq	.L156
 632:X-CUBE-AI/App/aiValidation_TFLM.c ****     if ((i + 1) == ctx->n_inputs)
 2374              		.loc 2 632 15 view .LVU632
 2375 00ac 0122     		movs	r2, #1
 2376 00ae E5E7     		b	.L147
 2377              	.LVL216:
 2378              	.L160:
 632:X-CUBE-AI/App/aiValidation_TFLM.c ****     if ((i + 1) == ctx->n_inputs)
 2379              		.loc 2 632 15 view .LVU633
 2380              	.LBE31:
 2381              	.LBE29:
 641:X-CUBE-AI/App/aiValidation_TFLM.c ****   tflm_res = tflm_c_invoke(ctx->hdl);
 2382              		.loc 2 641 3 is_stmt 1 view .LVU634
 2383              	.LBB32:
 2384              	.LBI32:
 147:X-CUBE-AI/App/aiTestUtility.h **** #pragma GCC pop_options
 148:X-CUBE-AI/App/aiTestUtility.h **** #define MON_ALLOC_RESET()\
 149:X-CUBE-AI/App/aiTestUtility.h ****     _mon_alloc_reset()
 150:X-CUBE-AI/App/aiTestUtility.h **** #else
 151:X-CUBE-AI/App/aiTestUtility.h **** #define MON_ALLOC_RESET()
 152:X-CUBE-AI/App/aiTestUtility.h **** #endif
 153:X-CUBE-AI/App/aiTestUtility.h **** 
 154:X-CUBE-AI/App/aiTestUtility.h **** #if defined(_APP_HEAP_MONITOR_) && _APP_HEAP_MONITOR_ == 1
 155:X-CUBE-AI/App/aiTestUtility.h **** 
 156:X-CUBE-AI/App/aiTestUtility.h **** #define MON_ALLOC_ENABLE() io_malloc.cfg |= 1UL
 157:X-CUBE-AI/App/aiTestUtility.h **** 
ARM GAS  /tmp/ccKcsWa4.s 			page 60


 158:X-CUBE-AI/App/aiTestUtility.h **** #define MON_ALLOC_DISABLE() io_malloc.cfg &= ~1UL
 159:X-CUBE-AI/App/aiTestUtility.h **** 
 160:X-CUBE-AI/App/aiTestUtility.h **** #define MON_ALLOC_REPORT() \
 161:X-CUBE-AI/App/aiTestUtility.h **** 		LC_PRINT(" used heap    : %ld:%ld %ld:%ld (req:allocated,req:released) max=%ld cur=%ld (cfg=%ld)\
 162:X-CUBE-AI/App/aiTestUtility.h ****         io_malloc.alloc_req, io_malloc.alloc, \
 163:X-CUBE-AI/App/aiTestUtility.h ****         io_malloc.free_req, io_malloc.free, \
 164:X-CUBE-AI/App/aiTestUtility.h ****         io_malloc.max, io_malloc.used, \
 165:X-CUBE-AI/App/aiTestUtility.h ****         (io_malloc.cfg & (3 << 1)) >> 1)
 166:X-CUBE-AI/App/aiTestUtility.h **** 
 167:X-CUBE-AI/App/aiTestUtility.h **** #define MON_ALLOC_MAX_USED() (int)io_malloc.max
 168:X-CUBE-AI/App/aiTestUtility.h **** #define MON_ALLOC_USED() (int)io_malloc.used
 169:X-CUBE-AI/App/aiTestUtility.h **** 
 170:X-CUBE-AI/App/aiTestUtility.h **** #else
 171:X-CUBE-AI/App/aiTestUtility.h **** 
 172:X-CUBE-AI/App/aiTestUtility.h **** #define MON_ALLOC_ENABLE()
 173:X-CUBE-AI/App/aiTestUtility.h **** #define MON_ALLOC_DISABLE()
 174:X-CUBE-AI/App/aiTestUtility.h **** 
 175:X-CUBE-AI/App/aiTestUtility.h **** #define MON_ALLOC_REPORT() \
 176:X-CUBE-AI/App/aiTestUtility.h **** 		LC_PRINT(" used heap    : DISABLED or NOT YET SUPPORTED\r\n")
 177:X-CUBE-AI/App/aiTestUtility.h **** 
 178:X-CUBE-AI/App/aiTestUtility.h **** #define MON_ALLOC_MAX_USED() (-1)
 179:X-CUBE-AI/App/aiTestUtility.h **** #define MON_ALLOC_USED() (-1)
 180:X-CUBE-AI/App/aiTestUtility.h **** 
 181:X-CUBE-AI/App/aiTestUtility.h **** #endif
 182:X-CUBE-AI/App/aiTestUtility.h **** 
 183:X-CUBE-AI/App/aiTestUtility.h **** 
 184:X-CUBE-AI/App/aiTestUtility.h **** /* -----------------------------------------------------------------------------
 185:X-CUBE-AI/App/aiTestUtility.h ****  * STACK monitor functions
 186:X-CUBE-AI/App/aiTestUtility.h ****  * -----------------------------------------------------------------------------
 187:X-CUBE-AI/App/aiTestUtility.h ****  */
 188:X-CUBE-AI/App/aiTestUtility.h **** 
 189:X-CUBE-AI/App/aiTestUtility.h **** struct io_stack {
 190:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t ctrl;
 191:X-CUBE-AI/App/aiTestUtility.h ****   bool stack_mon;
 192:X-CUBE-AI/App/aiTestUtility.h ****   int32_t  susage;
 193:X-CUBE-AI/App/aiTestUtility.h **** 
 194:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t ustack_size; /* used stack before test */
 195:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t estack;      /* end of stack @ */
 196:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t mstack_size; /* minimal master stack size */
 197:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t cstack;      /* current stack @ */
 198:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t bstack;      /* base stack @ */
 199:X-CUBE-AI/App/aiTestUtility.h **** };
 200:X-CUBE-AI/App/aiTestUtility.h **** 
 201:X-CUBE-AI/App/aiTestUtility.h **** extern struct io_stack io_stack;
 202:X-CUBE-AI/App/aiTestUtility.h **** 
 203:X-CUBE-AI/App/aiTestUtility.h **** void stackMonInit(uint32_t ctrl, uint32_t cstack, uint32_t msize);
 204:X-CUBE-AI/App/aiTestUtility.h **** 
 205:X-CUBE-AI/App/aiTestUtility.h **** #if defined(_APP_STACK_MONITOR_) && _APP_STACK_MONITOR_ == 1
 206:X-CUBE-AI/App/aiTestUtility.h **** 
 207:X-CUBE-AI/App/aiTestUtility.h **** #define MON_STACK_INIT() stackMonInit(__get_CONTROL(), __get_MSP(), MIN_STACK_SIZE)
 208:X-CUBE-AI/App/aiTestUtility.h **** 
 209:X-CUBE-AI/App/aiTestUtility.h **** #define MON_STACK_MARK()\
 210:X-CUBE-AI/App/aiTestUtility.h ****     if (io_stack.stack_mon) {\
 211:X-CUBE-AI/App/aiTestUtility.h ****       uint32_t *pw =  (uint32_t*)((io_stack.bstack + 3) & (~3));\
 212:X-CUBE-AI/App/aiTestUtility.h ****       while ((uint32_t)pw < io_stack.cstack) {\
 213:X-CUBE-AI/App/aiTestUtility.h ****         *pw = 0xDEDEDEDE;\
 214:X-CUBE-AI/App/aiTestUtility.h ****         pw++;\
ARM GAS  /tmp/ccKcsWa4.s 			page 61


 215:X-CUBE-AI/App/aiTestUtility.h ****       }\
 216:X-CUBE-AI/App/aiTestUtility.h ****     }
 217:X-CUBE-AI/App/aiTestUtility.h **** 
 218:X-CUBE-AI/App/aiTestUtility.h **** #define MON_STACK_CHECK0()\
 219:X-CUBE-AI/App/aiTestUtility.h ****     if (__get_MSP() != io_stack.cstack) {\
 220:X-CUBE-AI/App/aiTestUtility.h ****     	LC_PRINT("E: !current stack address is not coherent 0x%08lx instead 0x%08lx\r\n",\
 221:X-CUBE-AI/App/aiTestUtility.h ****           __get_MSP(), io_stack.cstack);\
 222:X-CUBE-AI/App/aiTestUtility.h ****     }
 223:X-CUBE-AI/App/aiTestUtility.h **** 
 224:X-CUBE-AI/App/aiTestUtility.h **** #define MON_STACK_EVALUATE()\
 225:X-CUBE-AI/App/aiTestUtility.h ****     /* Calculating the used stack */\
 226:X-CUBE-AI/App/aiTestUtility.h ****     io_stack.susage = 0UL;\
 227:X-CUBE-AI/App/aiTestUtility.h ****     if (io_stack.stack_mon) {\
 228:X-CUBE-AI/App/aiTestUtility.h ****       uint32_t rstack = io_stack.mstack_size - io_stack.ustack_size;\
 229:X-CUBE-AI/App/aiTestUtility.h ****       uint32_t *pr =  (uint32_t*)((io_stack.bstack + 3) & (~3));\
 230:X-CUBE-AI/App/aiTestUtility.h ****       bool overflow = false;\
 231:X-CUBE-AI/App/aiTestUtility.h ****       \
 232:X-CUBE-AI/App/aiTestUtility.h ****       /* check potential stack overflow with 8 last words*/\
 233:X-CUBE-AI/App/aiTestUtility.h ****     for (int i = 0; i < 8; i++) {\
 234:X-CUBE-AI/App/aiTestUtility.h ****       if (*pr != 0xDEDEDEDE)\
 235:X-CUBE-AI/App/aiTestUtility.h ****       overflow = true;\
 236:X-CUBE-AI/App/aiTestUtility.h ****       pr++;\
 237:X-CUBE-AI/App/aiTestUtility.h ****     }\
 238:X-CUBE-AI/App/aiTestUtility.h ****     if (!overflow) {\
 239:X-CUBE-AI/App/aiTestUtility.h ****       io_stack.susage = 8*4;\
 240:X-CUBE-AI/App/aiTestUtility.h ****       while ((*pr == 0xDEDEDEDE) && ((uint32_t)pr < io_stack.cstack)) { pr++; io_stack.susage += 4;
 241:X-CUBE-AI/App/aiTestUtility.h ****       io_stack.susage = rstack - io_stack.susage;\
 242:X-CUBE-AI/App/aiTestUtility.h ****     } else {\
 243:X-CUBE-AI/App/aiTestUtility.h ****       io_stack.susage = -1;\
 244:X-CUBE-AI/App/aiTestUtility.h ****       LC_PRINT("E: !stack overflow detected > %ld\r\n", rstack);\
 245:X-CUBE-AI/App/aiTestUtility.h ****       LC_PRINT("note: MIN_STACK_SIZE value/definition should be verified (app_x-cube-ai.h & linker 
 246:X-CUBE-AI/App/aiTestUtility.h ****     }\
 247:X-CUBE-AI/App/aiTestUtility.h ****     }
 248:X-CUBE-AI/App/aiTestUtility.h **** 
 249:X-CUBE-AI/App/aiTestUtility.h **** #define MON_STACK_REPORT()\
 250:X-CUBE-AI/App/aiTestUtility.h ****     if (io_stack.stack_mon)\
 251:X-CUBE-AI/App/aiTestUtility.h **** 	LC_PRINT(" used stack   : %ld bytes\r\n", io_stack.susage);\
 252:X-CUBE-AI/App/aiTestUtility.h ****     else\
 253:X-CUBE-AI/App/aiTestUtility.h **** 	LC_PRINT(" used stack   : NOT CALCULATED\r\n")
 254:X-CUBE-AI/App/aiTestUtility.h **** 
 255:X-CUBE-AI/App/aiTestUtility.h **** #define MON_STACK_STATE(msg)\
 256:X-CUBE-AI/App/aiTestUtility.h **** 		LC_PRINT("D: %s (0x%08lx-0x%08lx %ld/%ld ctrl=0x%08lx\r\n",msg,\
 257:X-CUBE-AI/App/aiTestUtility.h ****         io_stack.estack, io_stack.cstack, io_stack.ustack_size, io_stack.mstack_size, io_stack.ctrl
 258:X-CUBE-AI/App/aiTestUtility.h **** 
 259:X-CUBE-AI/App/aiTestUtility.h **** #else
 260:X-CUBE-AI/App/aiTestUtility.h **** 
 261:X-CUBE-AI/App/aiTestUtility.h **** #define MON_STACK_INIT()
 262:X-CUBE-AI/App/aiTestUtility.h **** #define MON_STACK_MARK()
 263:X-CUBE-AI/App/aiTestUtility.h **** #define MON_STACK_CHECK0()
 264:X-CUBE-AI/App/aiTestUtility.h **** #define MON_STACK_EVALUATE()
 265:X-CUBE-AI/App/aiTestUtility.h **** 
 266:X-CUBE-AI/App/aiTestUtility.h **** #define MON_STACK_REPORT()\
 267:X-CUBE-AI/App/aiTestUtility.h **** 		LC_PRINT(" used stack   : DISABLED\r\n");
 268:X-CUBE-AI/App/aiTestUtility.h **** 
 269:X-CUBE-AI/App/aiTestUtility.h **** #define MON_STACK_STATE(msg);
 270:X-CUBE-AI/App/aiTestUtility.h **** 
 271:X-CUBE-AI/App/aiTestUtility.h **** #endif
ARM GAS  /tmp/ccKcsWa4.s 			page 62


 272:X-CUBE-AI/App/aiTestUtility.h **** 
 273:X-CUBE-AI/App/aiTestUtility.h **** 
 274:X-CUBE-AI/App/aiTestUtility.h **** /* -----------------------------------------------------------------------------
 275:X-CUBE-AI/App/aiTestUtility.h ****  * Timer/clock count functions
 276:X-CUBE-AI/App/aiTestUtility.h ****  * -----------------------------------------------------------------------------
 277:X-CUBE-AI/App/aiTestUtility.h ****  */
 278:X-CUBE-AI/App/aiTestUtility.h **** 
 279:X-CUBE-AI/App/aiTestUtility.h **** struct dwtTime {
 280:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t fcpu;
 281:X-CUBE-AI/App/aiTestUtility.h ****   int s;
 282:X-CUBE-AI/App/aiTestUtility.h ****   int ms;
 283:X-CUBE-AI/App/aiTestUtility.h ****   int us;
 284:X-CUBE-AI/App/aiTestUtility.h **** };
 285:X-CUBE-AI/App/aiTestUtility.h **** 
 286:X-CUBE-AI/App/aiTestUtility.h **** 
 287:X-CUBE-AI/App/aiTestUtility.h **** int dwtCyclesToTime(uint64_t clks, struct dwtTime *t);
 288:X-CUBE-AI/App/aiTestUtility.h **** float dwtCyclesToFloatMs(uint64_t clks);
 289:X-CUBE-AI/App/aiTestUtility.h **** 
 290:X-CUBE-AI/App/aiTestUtility.h **** 
 291:X-CUBE-AI/App/aiTestUtility.h **** struct cyclesCount {
 292:X-CUBE-AI/App/aiTestUtility.h **** #if USE_SYSTICK_ONLY == 1
 293:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t tick_start;
 294:X-CUBE-AI/App/aiTestUtility.h ****   __IOM uint32_t count_start;
 295:X-CUBE-AI/App/aiTestUtility.h **** #else /* USE_SYSTICK_ONLY */
 296:X-CUBE-AI/App/aiTestUtility.h **** #if USE_CORE_CLOCK_ONLY == 1
 297:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t dwt_start;
 298:X-CUBE-AI/App/aiTestUtility.h **** #else /* USE_CORE_CLOCK_ONLY */
 299:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t dwt_max;
 300:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t dwt_start;
 301:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t tick_start;
 302:X-CUBE-AI/App/aiTestUtility.h **** #endif /* !USE_CORE_CLOCK_ONLY */
 303:X-CUBE-AI/App/aiTestUtility.h **** #endif /* !USE_SYSTICK_ONLY */
 304:X-CUBE-AI/App/aiTestUtility.h **** };
 305:X-CUBE-AI/App/aiTestUtility.h **** 
 306:X-CUBE-AI/App/aiTestUtility.h **** extern struct cyclesCount cyclesCount;
 307:X-CUBE-AI/App/aiTestUtility.h **** 
 308:X-CUBE-AI/App/aiTestUtility.h **** __STATIC_INLINE void cyclesCounterInit(void)
 309:X-CUBE-AI/App/aiTestUtility.h **** {
 310:X-CUBE-AI/App/aiTestUtility.h **** #if USE_SYSTICK_ONLY == 1
 311:X-CUBE-AI/App/aiTestUtility.h ****   __IOM uint32_t ctrl = SysTick->CTRL;
 312:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t val = SysTick_CTRL_CLKSOURCE_Msk | SysTick_CTRL_TICKINT_Msk   | SysTick_CTRL_ENABLE_Msk;
 313:X-CUBE-AI/App/aiTestUtility.h **** 
 314:X-CUBE-AI/App/aiTestUtility.h ****   LC_PRINT(" Timestamp    : SysTick only (%d)\r\n", (ctrl & val) == val);
 315:X-CUBE-AI/App/aiTestUtility.h **** 
 316:X-CUBE-AI/App/aiTestUtility.h ****   cyclesCount.tick_start = port_hal_get_tick();
 317:X-CUBE-AI/App/aiTestUtility.h ****   cyclesCount.count_start = SysTick->VAL;
 318:X-CUBE-AI/App/aiTestUtility.h **** #else /* USE_SYSTICK_ONLY */
 319:X-CUBE-AI/App/aiTestUtility.h ****   struct dwtTime t;
 320:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t st;
 321:X-CUBE-AI/App/aiTestUtility.h **** 
 322:X-CUBE-AI/App/aiTestUtility.h ****   port_dwt_init();
 323:X-CUBE-AI/App/aiTestUtility.h ****   port_dwt_reset();
 324:X-CUBE-AI/App/aiTestUtility.h ****   port_hal_delay(100);
 325:X-CUBE-AI/App/aiTestUtility.h ****   st = port_dwt_get_cycles();
 326:X-CUBE-AI/App/aiTestUtility.h ****   dwtCyclesToTime(st/100, &t);
 327:X-CUBE-AI/App/aiTestUtility.h **** 
 328:X-CUBE-AI/App/aiTestUtility.h **** #if USE_CORE_CLOCK_ONLY == 1
ARM GAS  /tmp/ccKcsWa4.s 			page 63


 329:X-CUBE-AI/App/aiTestUtility.h ****   LC_PRINT(" Timestamp    : DWT only (delay(1)=%d.%03d ms)\r\n",
 330:X-CUBE-AI/App/aiTestUtility.h ****            t.s * 100 + t.ms, t.us);
 331:X-CUBE-AI/App/aiTestUtility.h **** #else /* USE_CORE_CLOCK_ONLY == 1 */
 332:X-CUBE-AI/App/aiTestUtility.h ****   LC_PRINT(" Timestamp    : SysTick + DWT (delay(1)=%d.%03d ms)\r\n",
 333:X-CUBE-AI/App/aiTestUtility.h ****            t.s * 100 + t.ms, t.us);
 334:X-CUBE-AI/App/aiTestUtility.h ****   dwtCyclesToTime(UINT32_MAX, &t);
 335:X-CUBE-AI/App/aiTestUtility.h ****   cyclesCount.dwt_max = t.s * 1000 + t.ms;
 336:X-CUBE-AI/App/aiTestUtility.h **** #endif /* !USE_CORE_CLOCK_ONLY != 1 */
 337:X-CUBE-AI/App/aiTestUtility.h ****   port_dwt_init();
 338:X-CUBE-AI/App/aiTestUtility.h **** #endif /* !USE_SYSTICK_ONLY */
 339:X-CUBE-AI/App/aiTestUtility.h **** }
 340:X-CUBE-AI/App/aiTestUtility.h **** 
 341:X-CUBE-AI/App/aiTestUtility.h **** __STATIC_INLINE void cyclesCounterStart(void)
 2385              		.loc 1 341 22 view .LVU635
 2386              	.LBB33:
 342:X-CUBE-AI/App/aiTestUtility.h **** {
 343:X-CUBE-AI/App/aiTestUtility.h **** #if USE_SYSTICK_ONLY == 1
 344:X-CUBE-AI/App/aiTestUtility.h ****   cyclesCount.tick_start = port_hal_get_tick();
 345:X-CUBE-AI/App/aiTestUtility.h ****   cyclesCount.count_start = SysTick->VAL;
 346:X-CUBE-AI/App/aiTestUtility.h **** #else
 347:X-CUBE-AI/App/aiTestUtility.h **** #if USE_CORE_CLOCK_ONLY == 1
 348:X-CUBE-AI/App/aiTestUtility.h ****   port_dwt_reset();
 349:X-CUBE-AI/App/aiTestUtility.h ****   cyclesCount.dwt_start = port_dwt_get_cycles();
 350:X-CUBE-AI/App/aiTestUtility.h **** #else
 351:X-CUBE-AI/App/aiTestUtility.h ****   cyclesCount.tick_start = port_hal_get_tick();
 2387              		.loc 1 351 3 view .LVU636
 2388              		.loc 1 351 28 is_stmt 0 view .LVU637
 2389 00b0 FFF7FEFF 		bl	HAL_GetTick
 2390              	.LVL217:
 2391              		.loc 1 351 26 view .LVU638
 2392 00b4 DFF80091 		ldr	r9, .L163+8
 2393              	.LVL218:
 2394              		.loc 1 351 26 view .LVU639
 2395 00b8 C9F80800 		str	r0, [r9, #8]
 352:X-CUBE-AI/App/aiTestUtility.h ****   port_dwt_reset();
 2396              		.loc 1 352 3 is_stmt 1 view .LVU640
 2397 00bc DFF8FC80 		ldr	r8, .L163+12
 2398              	.LVL219:
 2399              		.loc 1 352 3 is_stmt 0 view .LVU641
 2400 00c0 4FF0000B 		mov	fp, #0
 2401 00c4 C8F804B0 		str	fp, [r8, #4]
 353:X-CUBE-AI/App/aiTestUtility.h ****   cyclesCount.dwt_start = port_dwt_get_cycles();
 2402              		.loc 1 353 3 is_stmt 1 view .LVU642
 2403              		.loc 1 353 27 is_stmt 0 view .LVU643
 2404 00c8 D8F80430 		ldr	r3, [r8, #4]
 2405              		.loc 1 353 25 view .LVU644
 2406 00cc C9F80430 		str	r3, [r9, #4]
 2407              	.LBE33:
 2408              	.LBE32:
 642:X-CUBE-AI/App/aiValidation_TFLM.c ****   tend = cyclesCounterEnd();
 2409              		.loc 2 642 3 is_stmt 1 view .LVU645
 642:X-CUBE-AI/App/aiValidation_TFLM.c ****   tend = cyclesCounterEnd();
 2410              		.loc 2 642 14 is_stmt 0 view .LVU646
 2411 00d0 374B     		ldr	r3, .L163
 2412 00d2 5868     		ldr	r0, [r3, #4]
 2413 00d4 FFF7FEFF 		bl	tflm_c_invoke
 2414              	.LVL220:
ARM GAS  /tmp/ccKcsWa4.s 			page 64


 2415 00d8 0590     		str	r0, [sp, #20]
 2416              	.LVL221:
 643:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 2417              		.loc 2 643 3 is_stmt 1 view .LVU647
 2418              	.LBB34:
 2419              	.LBI34:
 354:X-CUBE-AI/App/aiTestUtility.h **** #endif
 355:X-CUBE-AI/App/aiTestUtility.h **** #endif
 356:X-CUBE-AI/App/aiTestUtility.h **** }
 357:X-CUBE-AI/App/aiTestUtility.h **** 
 358:X-CUBE-AI/App/aiTestUtility.h **** __STATIC_INLINE uint64_t cyclesCounterEnd(void)
 2420              		.loc 1 358 26 view .LVU648
 2421              	.LBB35:
 359:X-CUBE-AI/App/aiTestUtility.h **** {
 360:X-CUBE-AI/App/aiTestUtility.h **** #if USE_SYSTICK_ONLY == 1
 361:X-CUBE-AI/App/aiTestUtility.h ****   const uint32_t cur_val = SysTick->VAL;
 362:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t cur_load;
 363:X-CUBE-AI/App/aiTestUtility.h ****   const uint32_t tick_e = port_hal_get_tick() - cyclesCount.tick_start;
 364:X-CUBE-AI/App/aiTestUtility.h ****   uint64_t clk_n = 0ULL;
 365:X-CUBE-AI/App/aiTestUtility.h ****   if (tick_e) {
 366:X-CUBE-AI/App/aiTestUtility.h ****     cur_load = SysTick->LOAD;
 367:X-CUBE-AI/App/aiTestUtility.h ****     clk_n = (cur_load - cur_val) + cyclesCount.count_start + (tick_e - 1) * (cur_load + 1);
 368:X-CUBE-AI/App/aiTestUtility.h ****   }
 369:X-CUBE-AI/App/aiTestUtility.h ****   else {
 370:X-CUBE-AI/App/aiTestUtility.h ****     clk_n = cyclesCount.count_start - cur_val;
 371:X-CUBE-AI/App/aiTestUtility.h ****   }
 372:X-CUBE-AI/App/aiTestUtility.h ****   return clk_n;
 373:X-CUBE-AI/App/aiTestUtility.h **** #else
 374:X-CUBE-AI/App/aiTestUtility.h **** #if USE_CORE_CLOCK_ONLY == 1
 375:X-CUBE-AI/App/aiTestUtility.h ****   return (uint64_t)(port_dwt_get_cycles() - cyclesCount.dwt_start);
 376:X-CUBE-AI/App/aiTestUtility.h **** #else
 377:X-CUBE-AI/App/aiTestUtility.h ****   uint64_t dwt_e;
 2422              		.loc 1 377 3 view .LVU649
 378:X-CUBE-AI/App/aiTestUtility.h ****   uint64_t tick_e;
 2423              		.loc 1 378 3 view .LVU650
 379:X-CUBE-AI/App/aiTestUtility.h ****   dwt_e = port_dwt_get_cycles() - cyclesCount.dwt_start;
 2424              		.loc 1 379 3 view .LVU651
 2425              		.loc 1 379 11 is_stmt 0 view .LVU652
 2426 00da D8F80430 		ldr	r3, [r8, #4]
 2427              		.loc 1 379 46 view .LVU653
 2428 00de D9F80420 		ldr	r2, [r9, #4]
 2429              		.loc 1 379 33 view .LVU654
 2430 00e2 A3EB0208 		sub	r8, r3, r2
 2431              		.loc 1 379 9 view .LVU655
 2432 00e6 DA46     		mov	r10, fp
 2433              	.LVL222:
 380:X-CUBE-AI/App/aiTestUtility.h ****   tick_e = port_hal_get_tick() - cyclesCount.tick_start;
 2434              		.loc 1 380 3 is_stmt 1 view .LVU656
 2435              		.loc 1 380 12 is_stmt 0 view .LVU657
 2436 00e8 FFF7FEFF 		bl	HAL_GetTick
 2437              	.LVL223:
 2438              		.loc 1 380 45 view .LVU658
 2439 00ec D9F80830 		ldr	r3, [r9, #8]
 2440              		.loc 1 380 32 view .LVU659
 2441 00f0 C01A     		subs	r0, r0, r3
 2442              	.LVL224:
 381:X-CUBE-AI/App/aiTestUtility.h ****   if (tick_e > cyclesCount.dwt_max) {
ARM GAS  /tmp/ccKcsWa4.s 			page 65


 2443              		.loc 1 381 3 is_stmt 1 view .LVU660
 2444              		.loc 1 381 27 is_stmt 0 view .LVU661
 2445 00f2 D9F80020 		ldr	r2, [r9]
 2446              		.loc 1 381 6 view .LVU662
 2447 00f6 9042     		cmp	r0, r2
 2448 00f8 14D9     		bls	.L149
 382:X-CUBE-AI/App/aiTestUtility.h ****     /* overflow detected */
 383:X-CUBE-AI/App/aiTestUtility.h ****     dwt_e = ((tick_e/cyclesCount.dwt_max) * (uint64_t)UINT32_MAX + (uint64_t)dwt_e);
 2449              		.loc 1 383 5 is_stmt 1 view .LVU663
 2450              		.loc 1 383 21 is_stmt 0 view .LVU664
 2451 00fa 5B46     		mov	r3, fp
 2452 00fc 5946     		mov	r1, fp
 2453 00fe FFF7FEFF 		bl	__aeabi_uldivmod
 2454              	.LVL225:
 2455              		.loc 1 383 43 view .LVU665
 2456 0102 4FEAC17C 		lsl	ip, r1, #31
 2457 0106 C307     		lsls	r3, r0, #31
 2458 0108 4CEA5002 		orr	r2, ip, r0, lsr #1
 2459 010c 1B1A     		subs	r3, r3, r0
 2460 010e 62EB0102 		sbc	r2, r2, r1
 2461 0112 DB18     		adds	r3, r3, r3
 2462 0114 5241     		adcs	r2, r2, r2
 2463 0116 1B18     		adds	r3, r3, r0
 2464 0118 41EB0202 		adc	r2, r1, r2
 2465              		.loc 1 383 11 view .LVU666
 2466 011c 18EB0308 		adds	r8, r8, r3
 2467              	.LVL226:
 2468              		.loc 1 383 11 view .LVU667
 2469 0120 4BEB020A 		adc	r10, fp, r2
 2470              	.LVL227:
 2471              	.L149:
 384:X-CUBE-AI/App/aiTestUtility.h ****   }
 385:X-CUBE-AI/App/aiTestUtility.h ****   return dwt_e;
 2472              		.loc 1 385 3 is_stmt 1 view .LVU668
 2473              		.loc 1 385 3 is_stmt 0 view .LVU669
 2474              	.LBE35:
 2475              	.LBE34:
 643:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 2476              		.loc 2 643 8 view .LVU670
 2477 0124 CDF82880 		str	r8, [sp, #40]
 2478 0128 CDF82CA0 		str	r10, [sp, #44]
 645:X-CUBE-AI/App/aiValidation_TFLM.c ****     aiPbMgrSendAck(req, resp, EnumState_S_ERROR,
 2479              		.loc 2 645 3 is_stmt 1 view .LVU671
 645:X-CUBE-AI/App/aiValidation_TFLM.c ****     aiPbMgrSendAck(req, resp, EnumState_S_ERROR,
 2480              		.loc 2 645 6 is_stmt 0 view .LVU672
 2481 012c 059B     		ldr	r3, [sp, #20]
 2482 012e B3B9     		cbnz	r3, .L161
 652:X-CUBE-AI/App/aiValidation_TFLM.c ****   aiPbMgrSendOperator(req, resp, EnumState_S_PROCESSING, ctx->name, 0, 0, &perf);
 2483              		.loc 2 652 3 is_stmt 1 view .LVU673
 652:X-CUBE-AI/App/aiValidation_TFLM.c ****   aiPbMgrSendOperator(req, resp, EnumState_S_PROCESSING, ctx->name, 0, 0, &perf);
 2484              		.loc 2 652 20 is_stmt 0 view .LVU674
 2485 0130 4046     		mov	r0, r8
 2486 0132 5146     		mov	r1, r10
 2487 0134 FFF7FEFF 		bl	dwtCyclesToFloatMs
 2488              	.LVL228:
 652:X-CUBE-AI/App/aiValidation_TFLM.c ****   aiPbMgrSendOperator(req, resp, EnumState_S_PROCESSING, ctx->name, 0, 0, &perf);
 2489              		.loc 2 652 12 view .LVU675
ARM GAS  /tmp/ccKcsWa4.s 			page 66


 2490 0138 8DED060A 		vstr.32	s0, [sp, #24]
 2491 013c 0023     		movs	r3, #0
 2492 013e 0793     		str	r3, [sp, #28]
 2493 0140 0222     		movs	r2, #2
 2494 0142 0892     		str	r2, [sp, #32]
 2495 0144 0AA9     		add	r1, sp, #40
 2496 0146 0991     		str	r1, [sp, #36]
 653:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 2497              		.loc 2 653 3 is_stmt 1 view .LVU676
 2498 0148 06A9     		add	r1, sp, #24
 2499 014a 0291     		str	r1, [sp, #8]
 2500 014c 0193     		str	r3, [sp, #4]
 2501 014e 0093     		str	r3, [sp]
 2502 0150 174B     		ldr	r3, .L163
 2503 0152 1B68     		ldr	r3, [r3]
 2504 0154 2946     		mov	r1, r5
 2505 0156 2046     		mov	r0, r4
 2506 0158 FFF7FEFF 		bl	aiPbMgrSendOperator
 2507              	.LVL229:
 657:X-CUBE-AI/App/aiValidation_TFLM.c ****     EnumState state = EnumState_S_PROCESSING;
 2508              		.loc 2 657 3 view .LVU677
 2509              	.LBB36:
 657:X-CUBE-AI/App/aiValidation_TFLM.c ****     EnumState state = EnumState_S_PROCESSING;
 2510              		.loc 2 657 8 view .LVU678
 657:X-CUBE-AI/App/aiValidation_TFLM.c ****     EnumState state = EnumState_S_PROCESSING;
 2511              		.loc 2 657 3 is_stmt 0 view .LVU679
 2512 015c 17E0     		b	.L151
 2513              	.LVL230:
 2514              	.L161:
 657:X-CUBE-AI/App/aiValidation_TFLM.c ****     EnumState state = EnumState_S_PROCESSING;
 2515              		.loc 2 657 3 view .LVU680
 2516              	.LBE36:
 646:X-CUBE-AI/App/aiValidation_TFLM.c ****         EnumError_E_GENERIC, EnumError_E_GENERIC);
 2517              		.loc 2 646 5 is_stmt 1 view .LVU681
 2518 015e 0A23     		movs	r3, #10
 2519 0160 0093     		str	r3, [sp]
 2520 0162 0422     		movs	r2, #4
 2521 0164 2946     		mov	r1, r5
 2522 0166 2046     		mov	r0, r4
 2523 0168 FFF7FEFF 		bl	aiPbMgrSendAck
 2524              	.LVL231:
 648:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 2525              		.loc 2 648 5 view .LVU682
 2526 016c 66E7     		b	.L142
 2527              	.LVL232:
 2528              	.L157:
 2529              	.LBB39:
 2530              	.LBB37:
 661:X-CUBE-AI/App/aiValidation_TFLM.c ****     }
 2531              		.loc 2 661 13 is_stmt 0 view .LVU683
 2532 016e 40F20221 		movw	r1, #514
 2533              	.L152:
 2534              	.LVL233:
 663:X-CUBE-AI/App/aiValidation_TFLM.c ****       state = EnumState_S_DONE;
 2535              		.loc 2 663 5 is_stmt 1 view .LVU684
 663:X-CUBE-AI/App/aiValidation_TFLM.c ****       state = EnumState_S_DONE;
 2536              		.loc 2 663 12 is_stmt 0 view .LVU685
ARM GAS  /tmp/ccKcsWa4.s 			page 67


 2537 0172 0136     		adds	r6, r6, #1
 663:X-CUBE-AI/App/aiValidation_TFLM.c ****       state = EnumState_S_DONE;
 2538              		.loc 2 663 8 view .LVU686
 2539 0174 9642     		cmp	r6, r2
 2540 0176 16D0     		beq	.L162
 658:X-CUBE-AI/App/aiValidation_TFLM.c ****     uint32_t flags =  EnumTensorFlag_TENSOR_FLAG_OUTPUT;
 2541              		.loc 2 658 15 view .LVU687
 2542 0178 0222     		movs	r2, #2
 2543              	.LVL234:
 2544              	.L153:
 667:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 2545              		.loc 2 667 5 is_stmt 1 discriminator 2 view .LVU688
 667:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 2546              		.loc 2 667 45 is_stmt 0 discriminator 2 view .LVU689
 2547 017a 0D4B     		ldr	r3, .L163
 2548 017c 5B69     		ldr	r3, [r3, #20]
 667:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 2549              		.loc 2 667 5 discriminator 2 view .LVU690
 2550 017e 0091     		str	r1, [sp]
 2551 0180 4C21     		movs	r1, #76
 2552              	.LVL235:
 667:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 2553              		.loc 2 667 5 discriminator 2 view .LVU691
 2554 0182 01FB0033 		mla	r3, r1, r0, r3
 2555 0186 2946     		mov	r1, r5
 2556 0188 2046     		mov	r0, r4
 2557              	.LVL236:
 667:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 2558              		.loc 2 667 5 discriminator 2 view .LVU692
 2559 018a FFF7FEFF 		bl	send_ai_io_tensor
 2560              	.LVL237:
 667:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 2561              		.loc 2 667 5 discriminator 2 view .LVU693
 2562              	.LBE37:
 657:X-CUBE-AI/App/aiValidation_TFLM.c ****     EnumState state = EnumState_S_PROCESSING;
 2563              		.loc 2 657 39 is_stmt 1 discriminator 2 view .LVU694
 2564              	.L151:
 657:X-CUBE-AI/App/aiValidation_TFLM.c ****     EnumState state = EnumState_S_PROCESSING;
 2565              		.loc 2 657 19 discriminator 1 view .LVU695
 657:X-CUBE-AI/App/aiValidation_TFLM.c ****     EnumState state = EnumState_S_PROCESSING;
 2566              		.loc 2 657 26 is_stmt 0 discriminator 1 view .LVU696
 2567 018e 084B     		ldr	r3, .L163
 2568 0190 DA68     		ldr	r2, [r3, #12]
 657:X-CUBE-AI/App/aiValidation_TFLM.c ****     EnumState state = EnumState_S_PROCESSING;
 2569              		.loc 2 657 21 discriminator 1 view .LVU697
 2570 0192 3046     		mov	r0, r6
 657:X-CUBE-AI/App/aiValidation_TFLM.c ****     EnumState state = EnumState_S_PROCESSING;
 2571              		.loc 2 657 3 discriminator 1 view .LVU698
 2572 0194 B242     		cmp	r2, r6
 2573 0196 7FF651AF 		bls	.L142
 2574              	.LBB38:
 658:X-CUBE-AI/App/aiValidation_TFLM.c ****     uint32_t flags =  EnumTensorFlag_TENSOR_FLAG_OUTPUT;
 2575              		.loc 2 658 5 is_stmt 1 view .LVU699
 2576              	.LVL238:
 659:X-CUBE-AI/App/aiValidation_TFLM.c ****     if (req->param & EnumRunParam_P_RUN_MODE_PERF) {
 2577              		.loc 2 659 5 view .LVU700
 660:X-CUBE-AI/App/aiValidation_TFLM.c ****       flags |= EnumTensorFlag_TENSOR_FLAG_NO_DATA;
ARM GAS  /tmp/ccKcsWa4.s 			page 68


 2578              		.loc 2 660 5 view .LVU701
 660:X-CUBE-AI/App/aiValidation_TFLM.c ****       flags |= EnumTensorFlag_TENSOR_FLAG_NO_DATA;
 2579              		.loc 2 660 12 is_stmt 0 view .LVU702
 2580 019a A368     		ldr	r3, [r4, #8]
 660:X-CUBE-AI/App/aiValidation_TFLM.c ****       flags |= EnumTensorFlag_TENSOR_FLAG_NO_DATA;
 2581              		.loc 2 660 8 view .LVU703
 2582 019c 13F0080F 		tst	r3, #8
 2583 01a0 E5D1     		bne	.L157
 659:X-CUBE-AI/App/aiValidation_TFLM.c ****     if (req->param & EnumRunParam_P_RUN_MODE_PERF) {
 2584              		.loc 2 659 14 view .LVU704
 2585 01a2 0221     		movs	r1, #2
 2586 01a4 E5E7     		b	.L152
 2587              	.LVL239:
 2588              	.L162:
 664:X-CUBE-AI/App/aiValidation_TFLM.c ****       flags |= EnumTensorFlag_TENSOR_FLAG_LAST;
 2589              		.loc 2 664 7 is_stmt 1 view .LVU705
 665:X-CUBE-AI/App/aiValidation_TFLM.c ****     }
 2590              		.loc 2 665 7 view .LVU706
 665:X-CUBE-AI/App/aiValidation_TFLM.c ****     }
 2591              		.loc 2 665 13 is_stmt 0 view .LVU707
 2592 01a6 41F48071 		orr	r1, r1, #256
 2593              	.LVL240:
 664:X-CUBE-AI/App/aiValidation_TFLM.c ****       flags |= EnumTensorFlag_TENSOR_FLAG_LAST;
 2594              		.loc 2 664 13 view .LVU708
 2595 01aa 0322     		movs	r2, #3
 2596 01ac E5E7     		b	.L153
 2597              	.L164:
 2598 01ae 00BF     		.align	2
 2599              	.L163:
 2600 01b0 00000000 		.word	.LANCHOR4
 2601 01b4 18020000 		.word	.LANCHOR1+536
 2602 01b8 00000000 		.word	cyclesCount
 2603 01bc 001000E0 		.word	-536866816
 2604              	.LBE38:
 2605              	.LBE39:
 2606              		.cfi_endproc
 2607              	.LFE165:
 2609              		.section	.text.aiValidationInit,"ax",%progbits
 2610              		.align	1
 2611              		.global	aiValidationInit
 2612              		.syntax unified
 2613              		.thumb
 2614              		.thumb_func
 2615              		.fpu fpv4-sp-d16
 2617              	aiValidationInit:
 2618              	.LFB166:
 670:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 671:X-CUBE-AI/App/aiValidation_TFLM.c **** static aiPbCmdFunc pbCmdFuncTab[] = {
 672:X-CUBE-AI/App/aiValidation_TFLM.c ****     AI_PB_CMD_SYNC(_CAP),
 673:X-CUBE-AI/App/aiValidation_TFLM.c ****     { EnumCmd_CMD_SYS_INFO, &aiPbCmdSysInfo, NULL },
 674:X-CUBE-AI/App/aiValidation_TFLM.c ****     { EnumCmd_CMD_NETWORK_INFO, &aiPbCmdNNInfo, NULL },
 675:X-CUBE-AI/App/aiValidation_TFLM.c ****     { EnumCmd_CMD_NETWORK_RUN, &aiPbCmdNNRun, NULL },
 676:X-CUBE-AI/App/aiValidation_TFLM.c **** #if defined(AI_PB_TEST) && AI_PB_TEST == 1
 677:X-CUBE-AI/App/aiValidation_TFLM.c ****     AI_PB_CMD_TEST(NULL),
 678:X-CUBE-AI/App/aiValidation_TFLM.c **** #endif
 679:X-CUBE-AI/App/aiValidation_TFLM.c ****     AI_PB_CMD_END,
 680:X-CUBE-AI/App/aiValidation_TFLM.c **** };
ARM GAS  /tmp/ccKcsWa4.s 			page 69


 681:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 682:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 683:X-CUBE-AI/App/aiValidation_TFLM.c **** /* -----------------------------------------------------------------------------
 684:X-CUBE-AI/App/aiValidation_TFLM.c ****  * Exported/Public functions
 685:X-CUBE-AI/App/aiValidation_TFLM.c ****  * -----------------------------------------------------------------------------
 686:X-CUBE-AI/App/aiValidation_TFLM.c ****  */
 687:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 688:X-CUBE-AI/App/aiValidation_TFLM.c **** int aiValidationInit(void)
 689:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 2619              		.loc 2 689 1 is_stmt 1 view -0
 2620              		.cfi_startproc
 2621              		@ args = 0, pretend = 0, frame = 16
 2622              		@ frame_needed = 0, uses_anonymous_args = 0
 2623 0000 70B5     		push	{r4, r5, r6, lr}
 2624              	.LCFI46:
 2625              		.cfi_def_cfa_offset 16
 2626              		.cfi_offset 4, -16
 2627              		.cfi_offset 5, -12
 2628              		.cfi_offset 6, -8
 2629              		.cfi_offset 14, -4
 2630 0002 84B0     		sub	sp, sp, #16
 2631              	.LCFI47:
 2632              		.cfi_def_cfa_offset 32
 690:X-CUBE-AI/App/aiValidation_TFLM.c ****   LC_PRINT("\r\n#\r\n");
 2633              		.loc 2 690 3 view .LVU710
 2634 0004 204C     		ldr	r4, .L167
 2635 0006 04F51170 		add	r0, r4, #580
 2636 000a FFF7FEFF 		bl	lc_print
 2637              	.LVL241:
 691:X-CUBE-AI/App/aiValidation_TFLM.c ****   LC_PRINT("# %s %d.%d\r\n", _APP_NAME_ , _APP_VERSION_MAJOR_, _APP_VERSION_MINOR_);
 2638              		.loc 2 691 3 view .LVU711
 2639 000e 0023     		movs	r3, #0
 2640 0010 0422     		movs	r2, #4
 2641 0012 04F51371 		add	r1, r4, #588
 2642 0016 04F51870 		add	r0, r4, #608
 2643 001a FFF7FEFF 		bl	lc_print
 2644              	.LVL242:
 692:X-CUBE-AI/App/aiValidation_TFLM.c ****   LC_PRINT("#\r\n");
 2645              		.loc 2 692 3 view .LVU712
 2646 001e 04F51C70 		add	r0, r4, #624
 2647 0022 FFF7FEFF 		bl	lc_print
 2648              	.LVL243:
 693:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 694:X-CUBE-AI/App/aiValidation_TFLM.c ****   systemSettingLog();
 2649              		.loc 2 694 3 view .LVU713
 2650 0026 FFF7FEFF 		bl	systemSettingLog
 2651              	.LVL244:
 695:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 696:X-CUBE-AI/App/aiValidation_TFLM.c ****   cyclesCounterInit();
 2652              		.loc 2 696 3 view .LVU714
 2653              	.LBB42:
 2654              	.LBI42:
 308:X-CUBE-AI/App/aiTestUtility.h **** {
 2655              		.loc 1 308 22 view .LVU715
 2656              	.LBB43:
 319:X-CUBE-AI/App/aiTestUtility.h ****   uint32_t st;
 2657              		.loc 1 319 3 view .LVU716
ARM GAS  /tmp/ccKcsWa4.s 			page 70


 320:X-CUBE-AI/App/aiTestUtility.h **** 
 2658              		.loc 1 320 3 view .LVU717
 322:X-CUBE-AI/App/aiTestUtility.h ****   port_dwt_reset();
 2659              		.loc 1 322 3 view .LVU718
 2660 002a FFF7FEFF 		bl	port_dwt_init_imp
 2661              	.LVL245:
 323:X-CUBE-AI/App/aiTestUtility.h ****   port_hal_delay(100);
 2662              		.loc 1 323 3 view .LVU719
 2663 002e 174E     		ldr	r6, .L167+4
 2664 0030 0025     		movs	r5, #0
 2665 0032 7560     		str	r5, [r6, #4]
 324:X-CUBE-AI/App/aiTestUtility.h ****   st = port_dwt_get_cycles();
 2666              		.loc 1 324 3 view .LVU720
 2667 0034 6420     		movs	r0, #100
 2668 0036 FFF7FEFF 		bl	HAL_Delay
 2669              	.LVL246:
 325:X-CUBE-AI/App/aiTestUtility.h ****   dwtCyclesToTime(st/100, &t);
 2670              		.loc 1 325 3 view .LVU721
 325:X-CUBE-AI/App/aiTestUtility.h ****   dwtCyclesToTime(st/100, &t);
 2671              		.loc 1 325 6 is_stmt 0 view .LVU722
 2672 003a 7068     		ldr	r0, [r6, #4]
 2673              	.LVL247:
 326:X-CUBE-AI/App/aiTestUtility.h **** 
 2674              		.loc 1 326 3 is_stmt 1 view .LVU723
 326:X-CUBE-AI/App/aiTestUtility.h **** 
 2675              		.loc 1 326 21 is_stmt 0 view .LVU724
 2676 003c 144B     		ldr	r3, .L167+8
 2677 003e A3FB0030 		umull	r3, r0, r3, r0
 2678              	.LVL248:
 326:X-CUBE-AI/App/aiTestUtility.h **** 
 2679              		.loc 1 326 3 view .LVU725
 2680 0042 6A46     		mov	r2, sp
 2681 0044 4009     		lsrs	r0, r0, #5
 2682 0046 2946     		mov	r1, r5
 2683 0048 FFF7FEFF 		bl	dwtCyclesToTime
 2684              	.LVL249:
 332:X-CUBE-AI/App/aiTestUtility.h ****            t.s * 100 + t.ms, t.us);
 2685              		.loc 1 332 3 is_stmt 1 view .LVU726
 2686 004c 039A     		ldr	r2, [sp, #12]
 2687 004e 0199     		ldr	r1, [sp, #4]
 2688 0050 029B     		ldr	r3, [sp, #8]
 2689 0052 6420     		movs	r0, #100
 2690 0054 00FB0131 		mla	r1, r0, r1, r3
 2691 0058 04F51D70 		add	r0, r4, #628
 2692 005c FFF7FEFF 		bl	lc_print
 2693              	.LVL250:
 334:X-CUBE-AI/App/aiTestUtility.h ****   cyclesCount.dwt_max = t.s * 1000 + t.ms;
 2694              		.loc 1 334 3 view .LVU727
 2695 0060 6A46     		mov	r2, sp
 2696 0062 4FF0FF30 		mov	r0, #-1
 2697 0066 0021     		movs	r1, #0
 2698 0068 FFF7FEFF 		bl	dwtCyclesToTime
 2699              	.LVL251:
 335:X-CUBE-AI/App/aiTestUtility.h **** #endif /* !USE_CORE_CLOCK_ONLY != 1 */
 2700              		.loc 1 335 3 view .LVU728
 335:X-CUBE-AI/App/aiTestUtility.h **** #endif /* !USE_CORE_CLOCK_ONLY != 1 */
 2701              		.loc 1 335 36 is_stmt 0 view .LVU729
ARM GAS  /tmp/ccKcsWa4.s 			page 71


 2702 006c 019B     		ldr	r3, [sp, #4]
 2703 006e 029A     		ldr	r2, [sp, #8]
 2704 0070 4FF47A71 		mov	r1, #1000
 2705 0074 01FB0323 		mla	r3, r1, r3, r2
 335:X-CUBE-AI/App/aiTestUtility.h **** #endif /* !USE_CORE_CLOCK_ONLY != 1 */
 2706              		.loc 1 335 23 view .LVU730
 2707 0078 064A     		ldr	r2, .L167+12
 2708 007a 1360     		str	r3, [r2]
 337:X-CUBE-AI/App/aiTestUtility.h **** #endif /* !USE_SYSTICK_ONLY */
 2709              		.loc 1 337 3 is_stmt 1 view .LVU731
 2710 007c FFF7FEFF 		bl	port_dwt_init_imp
 2711              	.LVL252:
 337:X-CUBE-AI/App/aiTestUtility.h **** #endif /* !USE_SYSTICK_ONLY */
 2712              		.loc 1 337 3 is_stmt 0 view .LVU732
 2713              	.LBE43:
 2714              	.LBE42:
 697:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 698:X-CUBE-AI/App/aiValidation_TFLM.c ****   return 0;
 2715              		.loc 2 698 3 is_stmt 1 view .LVU733
 699:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 2716              		.loc 2 699 1 is_stmt 0 view .LVU734
 2717 0080 2846     		mov	r0, r5
 2718 0082 04B0     		add	sp, sp, #16
 2719              	.LCFI48:
 2720              		.cfi_def_cfa_offset 16
 2721              		@ sp needed
 2722 0084 70BD     		pop	{r4, r5, r6, pc}
 2723              	.L168:
 2724 0086 00BF     		.align	2
 2725              	.L167:
 2726 0088 00000000 		.word	.LANCHOR1
 2727 008c 001000E0 		.word	-536866816
 2728 0090 1F85EB51 		.word	1374389535
 2729 0094 00000000 		.word	cyclesCount
 2730              		.cfi_endproc
 2731              	.LFE166:
 2733              		.section	.text.aiValidationProcess,"ax",%progbits
 2734              		.align	1
 2735              		.global	aiValidationProcess
 2736              		.syntax unified
 2737              		.thumb
 2738              		.thumb_func
 2739              		.fpu fpv4-sp-d16
 2741              	aiValidationProcess:
 2742              	.LFB167:
 700:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 701:X-CUBE-AI/App/aiValidation_TFLM.c **** int aiValidationProcess(void)
 702:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 2743              		.loc 2 702 1 is_stmt 1 view -0
 2744              		.cfi_startproc
 2745              		@ args = 0, pretend = 0, frame = 0
 2746              		@ frame_needed = 0, uses_anonymous_args = 0
 2747 0000 70B5     		push	{r4, r5, r6, lr}
 2748              	.LCFI49:
 2749              		.cfi_def_cfa_offset 16
 2750              		.cfi_offset 4, -16
 2751              		.cfi_offset 5, -12
ARM GAS  /tmp/ccKcsWa4.s 			page 72


 2752              		.cfi_offset 6, -8
 2753              		.cfi_offset 14, -4
 703:X-CUBE-AI/App/aiValidation_TFLM.c ****   int r;
 2754              		.loc 2 703 3 view .LVU736
 704:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 705:X-CUBE-AI/App/aiValidation_TFLM.c ****   r = aiInit();
 2755              		.loc 2 705 3 view .LVU737
 2756              		.loc 2 705 7 is_stmt 0 view .LVU738
 2757 0002 FFF7FEFF 		bl	aiInit
 2758              	.LVL253:
 706:X-CUBE-AI/App/aiValidation_TFLM.c ****   if (r) {
 2759              		.loc 2 706 3 is_stmt 1 view .LVU739
 2760              		.loc 2 706 6 is_stmt 0 view .LVU740
 2761 0006 78BB     		cbnz	r0, .L174
 707:X-CUBE-AI/App/aiValidation_TFLM.c ****     LC_PRINT("\r\nE:  aiInit() r=%d\r\n", r);
 708:X-CUBE-AI/App/aiValidation_TFLM.c ****     port_hal_delay(2000);
 709:X-CUBE-AI/App/aiValidation_TFLM.c ****     return r;
 710:X-CUBE-AI/App/aiValidation_TFLM.c ****   } else {
 711:X-CUBE-AI/App/aiValidation_TFLM.c ****     LC_PRINT("\r\n");
 2762              		.loc 2 711 5 is_stmt 1 view .LVU741
 2763 0008 1C4C     		ldr	r4, .L175
 2764 000a 04F15405 		add	r5, r4, #84
 2765 000e 2846     		mov	r0, r5
 2766              	.LVL254:
 2767              		.loc 2 711 5 is_stmt 0 view .LVU742
 2768 0010 FFF7FEFF 		bl	lc_print
 2769              	.LVL255:
 712:X-CUBE-AI/App/aiValidation_TFLM.c ****     LC_PRINT("-------------------------------------------\r\n");
 2770              		.loc 2 712 5 is_stmt 1 view .LVU743
 2771 0014 04F53176 		add	r6, r4, #708
 2772 0018 3046     		mov	r0, r6
 2773 001a FFF7FEFF 		bl	lc_print
 2774              	.LVL256:
 713:X-CUBE-AI/App/aiValidation_TFLM.c ****     LC_PRINT("| READY to receive a CMD from the HOST... |\r\n");
 2775              		.loc 2 713 5 view .LVU744
 2776 001e 04F53D70 		add	r0, r4, #756
 2777 0022 FFF7FEFF 		bl	lc_print
 2778              	.LVL257:
 714:X-CUBE-AI/App/aiValidation_TFLM.c ****     LC_PRINT("-------------------------------------------\r\n");
 2779              		.loc 2 714 5 view .LVU745
 2780 0026 3046     		mov	r0, r6
 2781 0028 FFF7FEFF 		bl	lc_print
 2782              	.LVL258:
 715:X-CUBE-AI/App/aiValidation_TFLM.c ****     LC_PRINT("\r\n");
 2783              		.loc 2 715 5 view .LVU746
 2784 002c 2846     		mov	r0, r5
 2785 002e FFF7FEFF 		bl	lc_print
 2786              	.LVL259:
 716:X-CUBE-AI/App/aiValidation_TFLM.c ****     LC_PRINT("# Note: At this point, default ASCII-base terminal should be closed\r\n");
 2787              		.loc 2 716 5 view .LVU747
 2788 0032 04F54970 		add	r0, r4, #804
 2789 0036 FFF7FEFF 		bl	lc_print
 2790              	.LVL260:
 717:X-CUBE-AI/App/aiValidation_TFLM.c ****     LC_PRINT("# and a stm32com-base interface should be used\r\n");
 2791              		.loc 2 717 5 view .LVU748
 2792 003a 04F55B70 		add	r0, r4, #876
 2793 003e FFF7FEFF 		bl	lc_print
ARM GAS  /tmp/ccKcsWa4.s 			page 73


 2794              	.LVL261:
 718:X-CUBE-AI/App/aiValidation_TFLM.c ****     LC_PRINT("# (i.e. Python ai_runner module). Protocol version = %d.%d\r\n",
 2795              		.loc 2 718 5 view .LVU749
 2796 0042 0022     		movs	r2, #0
 2797 0044 0321     		movs	r1, #3
 2798 0046 04F56870 		add	r0, r4, #928
 2799 004a FFF7FEFF 		bl	lc_print
 2800              	.LVL262:
 719:X-CUBE-AI/App/aiValidation_TFLM.c ****         EnumVersion_P_VERSION_MAJOR,
 720:X-CUBE-AI/App/aiValidation_TFLM.c ****         EnumVersion_P_VERSION_MINOR);
 721:X-CUBE-AI/App/aiValidation_TFLM.c ****   }
 722:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 723:X-CUBE-AI/App/aiValidation_TFLM.c ****   _allow_uart = false;
 2801              		.loc 2 723 3 view .LVU750
 2802              		.loc 2 723 15 is_stmt 0 view .LVU751
 2803 004e 0C4B     		ldr	r3, .L175+4
 2804 0050 0022     		movs	r2, #0
 2805 0052 1A70     		strb	r2, [r3]
 724:X-CUBE-AI/App/aiValidation_TFLM.c ****   aiPbMgrInit(pbCmdFuncTab);
 2806              		.loc 2 724 3 is_stmt 1 view .LVU752
 2807 0054 0B48     		ldr	r0, .L175+8
 2808 0056 FFF7FEFF 		bl	aiPbMgrInit
 2809              	.LVL263:
 2810              	.L172:
 725:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 726:X-CUBE-AI/App/aiValidation_TFLM.c ****   do {
 2811              		.loc 2 726 3 discriminator 1 view .LVU753
 727:X-CUBE-AI/App/aiValidation_TFLM.c ****     r = aiPbMgrWaitAndProcess();
 2812              		.loc 2 727 5 discriminator 1 view .LVU754
 2813              		.loc 2 727 9 is_stmt 0 discriminator 1 view .LVU755
 2814 005a FFF7FEFF 		bl	aiPbMgrWaitAndProcess
 2815              	.LVL264:
 728:X-CUBE-AI/App/aiValidation_TFLM.c ****   } while (r==0);
 2816              		.loc 2 728 11 is_stmt 1 discriminator 1 view .LVU756
 2817              		.loc 2 728 3 is_stmt 0 discriminator 1 view .LVU757
 2818 005e 0446     		mov	r4, r0
 2819 0060 0028     		cmp	r0, #0
 2820 0062 FAD0     		beq	.L172
 2821              	.LVL265:
 2822              	.L169:
 729:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 730:X-CUBE-AI/App/aiValidation_TFLM.c ****   return r;
 731:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 2823              		.loc 2 731 1 view .LVU758
 2824 0064 2046     		mov	r0, r4
 2825 0066 70BD     		pop	{r4, r5, r6, pc}
 2826              	.LVL266:
 2827              	.L174:
 2828              		.loc 2 731 1 view .LVU759
 2829 0068 0446     		mov	r4, r0
 707:X-CUBE-AI/App/aiValidation_TFLM.c ****     port_hal_delay(2000);
 2830              		.loc 2 707 5 is_stmt 1 view .LVU760
 2831 006a 0146     		mov	r1, r0
 2832 006c 0648     		ldr	r0, .L175+12
 2833              	.LVL267:
 707:X-CUBE-AI/App/aiValidation_TFLM.c ****     port_hal_delay(2000);
 2834              		.loc 2 707 5 is_stmt 0 view .LVU761
ARM GAS  /tmp/ccKcsWa4.s 			page 74


 2835 006e FFF7FEFF 		bl	lc_print
 2836              	.LVL268:
 708:X-CUBE-AI/App/aiValidation_TFLM.c ****     return r;
 2837              		.loc 2 708 5 is_stmt 1 view .LVU762
 2838 0072 4FF4FA60 		mov	r0, #2000
 2839 0076 FFF7FEFF 		bl	HAL_Delay
 2840              	.LVL269:
 709:X-CUBE-AI/App/aiValidation_TFLM.c ****   } else {
 2841              		.loc 2 709 5 view .LVU763
 709:X-CUBE-AI/App/aiValidation_TFLM.c ****   } else {
 2842              		.loc 2 709 12 is_stmt 0 view .LVU764
 2843 007a F3E7     		b	.L169
 2844              	.L176:
 2845              		.align	2
 2846              	.L175:
 2847 007c 00000000 		.word	.LANCHOR1
 2848 0080 00000000 		.word	.LANCHOR3
 2849 0084 00000000 		.word	.LANCHOR5
 2850 0088 AC020000 		.word	.LANCHOR1+684
 2851              		.cfi_endproc
 2852              	.LFE167:
 2854              		.section	.text.aiValidationDeInit,"ax",%progbits
 2855              		.align	1
 2856              		.global	aiValidationDeInit
 2857              		.syntax unified
 2858              		.thumb
 2859              		.thumb_func
 2860              		.fpu fpv4-sp-d16
 2862              	aiValidationDeInit:
 2863              	.LFB168:
 732:X-CUBE-AI/App/aiValidation_TFLM.c **** 
 733:X-CUBE-AI/App/aiValidation_TFLM.c **** void aiValidationDeInit(void)
 734:X-CUBE-AI/App/aiValidation_TFLM.c **** {
 2864              		.loc 2 734 1 is_stmt 1 view -0
 2865              		.cfi_startproc
 2866              		@ args = 0, pretend = 0, frame = 0
 2867              		@ frame_needed = 0, uses_anonymous_args = 0
 2868 0000 10B5     		push	{r4, lr}
 2869              	.LCFI50:
 2870              		.cfi_def_cfa_offset 8
 2871              		.cfi_offset 4, -8
 2872              		.cfi_offset 14, -4
 735:X-CUBE-AI/App/aiValidation_TFLM.c ****   LC_PRINT("\r\n");
 2873              		.loc 2 735 3 view .LVU766
 2874 0002 064C     		ldr	r4, .L179
 2875 0004 04F15400 		add	r0, r4, #84
 2876 0008 FFF7FEFF 		bl	lc_print
 2877              	.LVL270:
 736:X-CUBE-AI/App/aiValidation_TFLM.c ****   aiDeInit();
 2878              		.loc 2 736 3 view .LVU767
 2879 000c FFF7FEFF 		bl	aiDeInit
 2880              	.LVL271:
 737:X-CUBE-AI/App/aiValidation_TFLM.c ****   LC_PRINT("bye bye ...\r\n");
 2881              		.loc 2 737 3 view .LVU768
 2882 0010 04F57870 		add	r0, r4, #992
 2883 0014 FFF7FEFF 		bl	lc_print
 2884              	.LVL272:
ARM GAS  /tmp/ccKcsWa4.s 			page 75


 738:X-CUBE-AI/App/aiValidation_TFLM.c **** }
 2885              		.loc 2 738 1 is_stmt 0 view .LVU769
 2886 0018 10BD     		pop	{r4, pc}
 2887              	.L180:
 2888 001a 00BF     		.align	2
 2889              	.L179:
 2890 001c 00000000 		.word	.LANCHOR1
 2891              		.cfi_endproc
 2892              	.LFE168:
 2894              		.section	.rodata
 2895              		.align	2
 2896              		.set	.LANCHOR1,. + 0
 2897              	.LC0:
 2898 0000 6E657477 		.ascii	"network\000"
 2898      6F726B00 
 2899              	.LC1:
 2900 0008 4E554C4C 		.ascii	"NULL\000"
 2900      00
 2901 000d 000000   		.space	3
 2902              	.LC2:
 2903 0010 4F637420 		.ascii	"Oct 17 2023 16:02:40\000"
 2903      31372032 
 2903      30323320 
 2903      31363A30 
 2903      323A3430 
 2904 0025 000000   		.space	3
 2905              	.LC3:
 2906 0028 202D2025 		.ascii	" - %d:%s:%d:(\000"
 2906      643A2573 
 2906      3A25643A 
 2906      2800
 2907 0036 0000     		.space	2
 2908              	.LC4:
 2909 0038 256400   		.ascii	"%d\000"
 2910 003b 00       		.space	1
 2911              	.LC5:
 2912 003c 2900     		.ascii	")\000"
 2913 003e 0000     		.space	2
 2914              	.LC6:
 2915 0040 7800     		.ascii	"x\000"
 2916 0042 0000     		.space	2
 2917              	.LC7:
 2918 0044 3A733D25 		.ascii	":s=%f:zp=%d\015\012\000"
 2918      663A7A70 
 2918      3D25640D 
 2918      0A00
 2919 0052 0000     		.space	2
 2920              	.LC8:
 2921 0054 0D0A00   		.ascii	"\015\012\000"
 2922 0057 00       		.space	1
 2923              	.LC9:
 2924 0058 0D0A496E 		.ascii	"\015\012Instancing the network (TFLM)..\015\012\000"
 2924      7374616E 
 2924      63696E67 
 2924      20746865 
 2924      206E6574 
 2925              	.LC10:
ARM GAS  /tmp/ccKcsWa4.s 			page 76


 2926 007c 2054464C 		.ascii	" TFLM version       : %d.%d.%d\015\012\000"
 2926      4D207665 
 2926      7273696F 
 2926      6E202020 
 2926      20202020 
 2927 009d 000000   		.space	3
 2928              	.LC11:
 2929 00a0 204E6574 		.ascii	" Network name       : %s\015\012\000"
 2929      776F726B 
 2929      206E616D 
 2929      65202020 
 2929      20202020 
 2930 00bb 00       		.space	1
 2931              	.LC12:
 2932 00bc 2054464C 		.ascii	" TFLite file        : 0x%08x (%d bytes)\015\012\000"
 2932      69746520 
 2932      66696C65 
 2932      20202020 
 2932      20202020 
 2933 00e6 0000     		.space	2
 2934              	.LC13:
 2935 00e8 20417265 		.ascii	" Arena location     : 0x%08x\015\012\000"
 2935      6E61206C 
 2935      6F636174 
 2935      696F6E20 
 2935      20202020 
 2936 0107 00       		.space	1
 2937              	.LC14:
 2938 0108 204F7063 		.ascii	" Opcode size        : %d\015\012\000"
 2938      6F646520 
 2938      73697A65 
 2938      20202020 
 2938      20202020 
 2939 0123 00       		.space	1
 2940              	.LC15:
 2941 0124 204F7065 		.ascii	" Operator size      : %d\015\012\000"
 2941      7261746F 
 2941      72207369 
 2941      7A652020 
 2941      20202020 
 2942 013f 00       		.space	1
 2943              	.LC16:
 2944 0140 2054656E 		.ascii	" Tensor size        : %d\015\012\000"
 2944      736F7220 
 2944      73697A65 
 2944      20202020 
 2944      20202020 
 2945 015b 00       		.space	1
 2946              	.LC17:
 2947 015c 20416C6C 		.ascii	" Allocated size     : %d / %d\015\012\000"
 2947      6F636174 
 2947      65642073 
 2947      697A6520 
 2947      20202020 
 2948              	.LC18:
 2949 017c 20496E70 		.ascii	" Inputs size        : %d\015\012\000"
 2949      75747320 
ARM GAS  /tmp/ccKcsWa4.s 			page 77


 2949      73697A65 
 2949      20202020 
 2949      20202020 
 2950 0197 00       		.space	1
 2951              	.LC19:
 2952 0198 204F7574 		.ascii	" Outputs size       : %d\015\012\000"
 2952      70757473 
 2952      2073697A 
 2952      65202020 
 2952      20202020 
 2953 01b3 00       		.space	1
 2954              	.LC20:
 2955 01b4 322E3100 		.ascii	"2.1\000"
 2956              	.LC21:
 2957 01b8 20557365 		.ascii	" Used heap          : %d bytes (max=%d bytes) (for "
 2957      64206865 
 2957      61702020 
 2957      20202020 
 2957      20202020 
 2958 01eb 632D7772 		.ascii	"c-wrapper %s)\015\012\000"
 2958      61707065 
 2958      72202573 
 2958      290D0A00 
 2959 01fb 00       		.space	1
 2960              	.LC22:
 2961 01fc 52656C65 		.ascii	"Releasing the instance...\015\012\000"
 2961      6173696E 
 2961      67207468 
 2961      6520696E 
 2961      7374616E 
 2962              	.LC23:
 2963 0218 52554E3A 		.ascii	"RUN: Waiting data.. opt=0x%x, param=0x%x\015\012\000"
 2963      20576169 
 2963      74696E67 
 2963      20646174 
 2963      612E2E20 
 2964 0243 00       		.space	1
 2965              	.LC24:
 2966 0244 0D0A230D 		.ascii	"\015\012#\015\012\000"
 2966      0A00
 2967 024a 0000     		.space	2
 2968              	.LC25:
 2969 024c 41492056 		.ascii	"AI Validation TFLM\000"
 2969      616C6964 
 2969      6174696F 
 2969      6E205446 
 2969      4C4D00
 2970 025f 00       		.space	1
 2971              	.LC26:
 2972 0260 23202573 		.ascii	"# %s %d.%d\015\012\000"
 2972      2025642E 
 2972      25640D0A 
 2972      00
 2973 026d 000000   		.space	3
 2974              	.LC27:
 2975 0270 230D0A00 		.ascii	"#\015\012\000"
 2976              	.LC28:
ARM GAS  /tmp/ccKcsWa4.s 			page 78


 2977 0274 2054696D 		.ascii	" Timestamp    : SysTick + DWT (delay(1)=%d.%03d ms)"
 2977      65737461 
 2977      6D702020 
 2977      20203A20 
 2977      53797354 
 2978 02a7 0D0A00   		.ascii	"\015\012\000"
 2979 02aa 0000     		.space	2
 2980              	.LC29:
 2981 02ac 0D0A453A 		.ascii	"\015\012E:  aiInit() r=%d\015\012\000"
 2981      20206169 
 2981      496E6974 
 2981      28292072 
 2981      3D25640D 
 2982 02c2 0000     		.space	2
 2983              	.LC30:
 2984 02c4 2D2D2D2D 		.ascii	"-------------------------------------------\015\012"
 2984      2D2D2D2D 
 2984      2D2D2D2D 
 2984      2D2D2D2D 
 2984      2D2D2D2D 
 2985 02f1 00       		.ascii	"\000"
 2986 02f2 0000     		.space	2
 2987              	.LC31:
 2988 02f4 7C205245 		.ascii	"| READY to receive a CMD from the HOST... |\015\012"
 2988      41445920 
 2988      746F2072 
 2988      65636569 
 2988      76652061 
 2989 0321 00       		.ascii	"\000"
 2990 0322 0000     		.space	2
 2991              	.LC32:
 2992 0324 23204E6F 		.ascii	"# Note: At this point, default ASCII-base terminal "
 2992      74653A20 
 2992      41742074 
 2992      68697320 
 2992      706F696E 
 2993 0357 73686F75 		.ascii	"should be closed\015\012\000"
 2993      6C642062 
 2993      6520636C 
 2993      6F736564 
 2993      0D0A00
 2994 036a 0000     		.space	2
 2995              	.LC33:
 2996 036c 2320616E 		.ascii	"# and a stm32com-base interface should be used\015\012"
 2996      64206120 
 2996      73746D33 
 2996      32636F6D 
 2996      2D626173 
 2997 039c 00       		.ascii	"\000"
 2998 039d 000000   		.space	3
 2999              	.LC34:
 3000 03a0 23202869 		.ascii	"# (i.e. Python ai_runner module). Protocol version "
 3000      2E652E20 
 3000      50797468 
 3000      6F6E2061 
 3000      695F7275 
 3001 03d3 3D202564 		.ascii	"= %d.%d\015\012\000"
ARM GAS  /tmp/ccKcsWa4.s 			page 79


 3001      2E25640D 
 3001      0A00
 3002 03dd 000000   		.space	3
 3003              	.LC35:
 3004 03e0 62796520 		.ascii	"bye bye ...\015\012\000"
 3004      62796520 
 3004      2E2E2E0D 
 3004      0A00
 3005              		.section	.bss._print_buffer,"aw",%nobits
 3006              		.align	2
 3007              		.set	.LANCHOR2,. + 0
 3010              	_print_buffer:
 3011 0000 00000000 		.space	80
 3011      00000000 
 3011      00000000 
 3011      00000000 
 3011      00000000 
 3012              		.section	.bss.net_exec_ctx,"aw",%nobits
 3013              		.align	2
 3014              		.set	.LANCHOR4,. + 0
 3017              	net_exec_ctx:
 3018 0000 00000000 		.space	184
 3018      00000000 
 3018      00000000 
 3018      00000000 
 3018      00000000 
 3019              		.section	.bss.tensor_arena,"aw",%nobits
 3020              		.align	4
 3023              	tensor_arena:
 3024 0000 00000000 		.space	41184
 3024      00000000 
 3024      00000000 
 3024      00000000 
 3024      00000000 
 3025              		.section	.data._allow_uart,"aw"
 3026              		.set	.LANCHOR3,. + 0
 3029              	_allow_uart:
 3030 0000 01       		.byte	1
 3031              		.section	.data._model_name,"aw"
 3032              		.align	2
 3033              		.set	.LANCHOR0,. + 0
 3036              	_model_name:
 3037 0000 00000000 		.word	.LC0
 3038              		.section	.data.pbCmdFuncTab,"aw"
 3039              		.align	2
 3040              		.set	.LANCHOR5,. + 0
 3043              	pbCmdFuncTab:
 3044 0000 00       		.byte	0
 3045 0001 000000   		.space	3
 3046 0004 00000000 		.word	aiPbCmdSync
 3047 0008 00000200 		.word	131072
 3048 000c 01       		.byte	1
 3049 000d 000000   		.space	3
 3050 0010 00000000 		.word	aiPbCmdSysInfo
 3051 0014 00000000 		.word	0
 3052 0018 0A       		.byte	10
 3053 0019 000000   		.space	3
ARM GAS  /tmp/ccKcsWa4.s 			page 80


 3054 001c 00000000 		.word	aiPbCmdNNInfo
 3055 0020 00000000 		.word	0
 3056 0024 0B       		.byte	11
 3057 0025 000000   		.space	3
 3058 0028 00000000 		.word	aiPbCmdNNRun
 3059 002c 00000000 		.word	0
 3060 0030 00       		.byte	0
 3061 0031 000000   		.space	3
 3062 0034 00000000 		.word	0
 3063 0038 00000000 		.word	0
 3064              		.text
 3065              	.Letext0:
 3066              		.file 3 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 3067              		.file 4 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 3068              		.file 5 "/usr/include/newlib/sys/_types.h"
 3069              		.file 6 "/usr/include/newlib/sys/reent.h"
 3070              		.file 7 "/usr/include/newlib/sys/lock.h"
 3071              		.file 8 "/usr/include/newlib/stdlib.h"
 3072              		.file 9 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdarg.h"
 3073              		.file 10 "/usr/include/newlib/stdio.h"
 3074              		.file 11 "Middlewares/tensorflow/third_party/cmsis/CMSIS/Core/Include/core_cm4.h"
 3075              		.file 12 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/system_stm32l4xx.h"
 3076              		.file 13 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l4r5xx.h"
 3077              		.file 14 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 3078              		.file 15 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 3079              		.file 16 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_flash.h"
 3080              		.file 17 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_uart.h"
 3081              		.file 18 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
 3082              		.file 19 "Middlewares/ST/AI/Inc/ai_platform.h"
 3083              		.file 20 "X-CUBE-AI/App/app_x-cube-ai.h"
 3084              		.file 21 "X-CUBE-AI/App/ai_device_adaptor.h"
 3085              		.file 22 "X-CUBE-AI/App/pb.h"
 3086              		.file 23 "X-CUBE-AI/App/stm32msg.pb.h"
 3087              		.file 24 "X-CUBE-AI/App/aiPbMgr.h"
 3088              		.file 25 "X-CUBE-AI/App/tflm_c.h"
 3089              		.file 26 "X-CUBE-AI/App/network_tflite_data.h"
 3090              		.file 27 "/usr/include/newlib/string.h"
 3091              		.file 28 "<built-in>"
ARM GAS  /tmp/ccKcsWa4.s 			page 81


DEFINED SYMBOLS
                            *ABS*:0000000000000000 aiValidation_TFLM.c
     /tmp/ccKcsWa4.s:18     .text._mon_alloc_reset:0000000000000000 $t
     /tmp/ccKcsWa4.s:25     .text._mon_alloc_reset:0000000000000000 _mon_alloc_reset
     /tmp/ccKcsWa4.s:60     .text._mon_alloc_reset:0000000000000020 $d
     /tmp/ccKcsWa4.s:3017   .bss.net_exec_ctx:0000000000000000 net_exec_ctx
     /tmp/ccKcsWa4.s:66     .text._prepare_tensor_infos:0000000000000000 $t
     /tmp/ccKcsWa4.s:72     .text._prepare_tensor_infos:0000000000000000 _prepare_tensor_infos
     /tmp/ccKcsWa4.s:272    .text._prepare_tensor_infos:00000000000000c4 $d
     /tmp/ccKcsWa4.s:277    .text._version_to_uint32:0000000000000000 $t
     /tmp/ccKcsWa4.s:283    .text._version_to_uint32:0000000000000000 _version_to_uint32
     /tmp/ccKcsWa4.s:314    .text._get_buffer_size:0000000000000000 $t
     /tmp/ccKcsWa4.s:320    .text._get_buffer_size:0000000000000000 _get_buffer_size
     /tmp/ccKcsWa4.s:338    .text._get_element_size:0000000000000000 $t
     /tmp/ccKcsWa4.s:344    .text._get_element_size:0000000000000000 _get_element_size
     /tmp/ccKcsWa4.s:360    .text._get_element_size:000000000000000c $d
     /tmp/ccKcsWa4.s:376    .text._get_element_size:000000000000001c $t
     /tmp/ccKcsWa4.s:401    .text.set_ai_buffer_format:0000000000000000 $t
     /tmp/ccKcsWa4.s:407    .text.set_ai_buffer_format:0000000000000000 set_ai_buffer_format
     /tmp/ccKcsWa4.s:428    .text.set_ai_buffer_format:000000000000000c $d
     /tmp/ccKcsWa4.s:444    .text.set_ai_buffer_format:000000000000001c $t
     /tmp/ccKcsWa4.s:515    .text._fill_tensor_desc:0000000000000000 $t
     /tmp/ccKcsWa4.s:521    .text._fill_tensor_desc:0000000000000000 _fill_tensor_desc
     /tmp/ccKcsWa4.s:655    .text._encode_to_tensor_desc_cb:0000000000000000 $t
     /tmp/ccKcsWa4.s:661    .text._encode_to_tensor_desc_cb:0000000000000000 _encode_to_tensor_desc_cb
     /tmp/ccKcsWa4.s:707    .text.send_model_info:0000000000000000 $t
     /tmp/ccKcsWa4.s:713    .text.send_model_info:0000000000000000 send_model_info
     /tmp/ccKcsWa4.s:933    .text.send_model_info:0000000000000118 $d
     /tmp/ccKcsWa4.s:941    .text.receive_ai_data:0000000000000000 $t
     /tmp/ccKcsWa4.s:947    .text.receive_ai_data:0000000000000000 receive_ai_data
     /tmp/ccKcsWa4.s:1150   .text.send_ai_io_tensor:0000000000000000 $t
     /tmp/ccKcsWa4.s:1156   .text.send_ai_io_tensor:0000000000000000 send_ai_io_tensor
     /tmp/ccKcsWa4.s:1272   .text.send_ai_io_tensor:0000000000000074 $d
     /tmp/ccKcsWa4.s:1278   .text._print_debug:0000000000000000 $t
     /tmp/ccKcsWa4.s:1285   .text._print_debug:0000000000000000 _print_debug
     /tmp/ccKcsWa4.s:1382   .text._print_debug:0000000000000048 $d
     /tmp/ccKcsWa4.s:1387   .text.tflm_io_write:0000000000000000 $t
     /tmp/ccKcsWa4.s:1394   .text.tflm_io_write:0000000000000000 tflm_io_write
     /tmp/ccKcsWa4.s:1488   .text.tflm_io_write:000000000000003c $d
     /tmp/ccKcsWa4.s:1495   .text.log_tensor:0000000000000000 $t
     /tmp/ccKcsWa4.s:1502   .text.log_tensor:0000000000000000 log_tensor
     /tmp/ccKcsWa4.s:1621   .text.log_tensor:000000000000007c $d
     /tmp/ccKcsWa4.s:1631   .text.aiBootstrap:0000000000000000 $t
     /tmp/ccKcsWa4.s:1637   .text.aiBootstrap:0000000000000000 aiBootstrap
     /tmp/ccKcsWa4.s:1888   .text.aiBootstrap:000000000000014c $d
     /tmp/ccKcsWa4.s:3023   .bss.tensor_arena:0000000000000000 tensor_arena
     /tmp/ccKcsWa4.s:1900   .text.aiDone:0000000000000000 $t
     /tmp/ccKcsWa4.s:1906   .text.aiDone:0000000000000000 aiDone
     /tmp/ccKcsWa4.s:1957   .text.aiDone:0000000000000028 $d
     /tmp/ccKcsWa4.s:1962   .text.aiInit:0000000000000000 $t
     /tmp/ccKcsWa4.s:1968   .text.aiInit:0000000000000000 aiInit
     /tmp/ccKcsWa4.s:1995   .text.aiInit:0000000000000010 $d
     /tmp/ccKcsWa4.s:2000   .text.aiDeInit:0000000000000000 $t
     /tmp/ccKcsWa4.s:2006   .text.aiDeInit:0000000000000000 aiDeInit
     /tmp/ccKcsWa4.s:2026   .text.aiDeInit:000000000000000c $d
     /tmp/ccKcsWa4.s:2031   .text.aiPbCmdSysInfo:0000000000000000 $t
     /tmp/ccKcsWa4.s:2038   .text.aiPbCmdSysInfo:0000000000000000 aiPbCmdSysInfo
ARM GAS  /tmp/ccKcsWa4.s 			page 82


     /tmp/ccKcsWa4.s:2106   .text.aiPbCmdNNInfo:0000000000000000 $t
     /tmp/ccKcsWa4.s:2113   .text.aiPbCmdNNInfo:0000000000000000 aiPbCmdNNInfo
     /tmp/ccKcsWa4.s:2191   .text.aiPbCmdNNInfo:0000000000000040 $d
     /tmp/ccKcsWa4.s:2197   .text.aiPbCmdNNRun:0000000000000000 $t
     /tmp/ccKcsWa4.s:2204   .text.aiPbCmdNNRun:0000000000000000 aiPbCmdNNRun
     /tmp/ccKcsWa4.s:2600   .text.aiPbCmdNNRun:00000000000001b0 $d
     /tmp/ccKcsWa4.s:2610   .text.aiValidationInit:0000000000000000 $t
     /tmp/ccKcsWa4.s:2617   .text.aiValidationInit:0000000000000000 aiValidationInit
     /tmp/ccKcsWa4.s:2726   .text.aiValidationInit:0000000000000088 $d
     /tmp/ccKcsWa4.s:2734   .text.aiValidationProcess:0000000000000000 $t
     /tmp/ccKcsWa4.s:2741   .text.aiValidationProcess:0000000000000000 aiValidationProcess
     /tmp/ccKcsWa4.s:2847   .text.aiValidationProcess:000000000000007c $d
     /tmp/ccKcsWa4.s:2855   .text.aiValidationDeInit:0000000000000000 $t
     /tmp/ccKcsWa4.s:2862   .text.aiValidationDeInit:0000000000000000 aiValidationDeInit
     /tmp/ccKcsWa4.s:2890   .text.aiValidationDeInit:000000000000001c $d
     /tmp/ccKcsWa4.s:2895   .rodata:0000000000000000 $d
     /tmp/ccKcsWa4.s:3006   .bss._print_buffer:0000000000000000 $d
     /tmp/ccKcsWa4.s:3010   .bss._print_buffer:0000000000000000 _print_buffer
     /tmp/ccKcsWa4.s:3013   .bss.net_exec_ctx:0000000000000000 $d
     /tmp/ccKcsWa4.s:3020   .bss.tensor_arena:0000000000000000 $d
     /tmp/ccKcsWa4.s:3029   .data._allow_uart:0000000000000000 _allow_uart
     /tmp/ccKcsWa4.s:3032   .data._model_name:0000000000000000 $d
     /tmp/ccKcsWa4.s:3036   .data._model_name:0000000000000000 _model_name
     /tmp/ccKcsWa4.s:3039   .data.pbCmdFuncTab:0000000000000000 $d
     /tmp/ccKcsWa4.s:3043   .data.pbCmdFuncTab:0000000000000000 pbCmdFuncTab

UNDEFINED SYMBOLS
memset
malloc
free
io_malloc
tflm_c_inputs_size
tflm_c_outputs_size
tflm_c_input
tflm_c_output
tflm_c_arena_used_bytes
g_tflm_network_model_data_len
aiPbTensorFormat
tflm_c_rt_version
aiPbStrCopy
tflm_c_operators_size
aiPbMgrSendResp
encode_tensor_desc
aiPbMgrReceiveData
aiPbMgrSendAck
memcpy
aiPbMgrWaitAck
encode_uint32
encode_data_cb
lc_vsnprint
aiPbMgrSendLogV2
HAL_UART_Transmit
hlpuart1
__aeabi_f2d
tflm_c_TfLiteTypeGetName
lc_print
tflm_c_create
ARM GAS  /tmp/ccKcsWa4.s 			page 83


tflm_c_operator_codes_size
tflm_c_tensors_size
g_tflm_network_model_data
tflm_c_destroy
getSysConf
__aeabi_uldivmod
strlen
strncmp
HAL_GetTick
tflm_c_invoke
dwtCyclesToFloatMs
aiPbMgrSendOperator
cyclesCount
systemSettingLog
port_dwt_init_imp
HAL_Delay
dwtCyclesToTime
aiPbMgrInit
aiPbMgrWaitAndProcess
aiPbCmdSync
